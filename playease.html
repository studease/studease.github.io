<!DOCTYPE HTML>
<html>
<head>
	<title>playease.js - StudEase.cn</title>
	
	<meta charset="utf-8">
	<meta name="robots" content="index, follow" />
	<meta name="keywords" content="playease.js,html5 flv player,html5 video player,html5播放器,ie8,ie9,flv,fmp4,rtmp,hls" />
	<meta name="description" content="This is a HTML5 video player for FLV/fMP4 live streaming." />
	<meta name="author" content="Tony Lau" />
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta content="yes" name="apple-mobile-web-app-capable"/>
	<meta content="yes" name="apple-touch-fullscreen"/>
	<meta content="telephone=no,email=no" name="format-detection"/>
	<meta name="App-Config" content="fullscreen=yes, useHistoryState=yes, transition=yes"/>
	
	<link rel="shortcut icon" href="images/favicon.ico">
	
	<!--[if lt IE 9]>
	<script type='text/javascript'>
		(function() {
			if (!/*@cc_on!@*/0) {
				return;
			}
			
			var e = "abbr, article, aside, audio, canvas, datalist, details, dialog, eventsource, figure, footer, header, hgroup, mark, menu, meter, nav, output, progress, section, time, video".split(', ');
			var i = e.length;
			while (i--) {
				document.createElement(e[i]);
			}
		})()
	</script>
	
	<style type='text/css' media='screen'>
		article, aside, dialog, footer, header, section, footer, nav, figure, menu {
			display: block;
		}
	</style>
	<![endif]-->
	
	<link type='text/css' rel='stylesheet' href='css/style.css' />
	<link type='text/css' rel='stylesheet' href='css/prettify.css' />
	
	<script type='text/javascript' src='js/prettify/min/prettify.min.js'></script>
	<script type='text/javascript' src='js/playease.min.js'></script>
	<script type='text/javascript' src='js/chatease.min.js'></script>
</head>
<body ontouchstart=''>
	<header>
		<div class='topbar'>
		<section>
			<ul class='info'>
				<li><span class='icon-card'>Name: Tony Lau</span></li>
				<li><span class='icon-phone'>Phone: +8618224088983</span></li>
				<li><span class='icon-email'>Email: 670292548@qq.com</span></li>
				<li><span class='icon-address'>Address: Chongqing, China</span></li>
			</ul>
		</section>
		</div>
		
		<nav>
		<section>
			<span class='logo'>
				<a href='.' title='studease.cn'>StudEase</a>
			</span>
			
			<div class='menu-toggle'></div>
			
			<ul>
				<li><a href='.'>HOME</a></li>
				<li><a href='about.html'>ABOUT</a></li>
				<li><a href='index.html#news'>NEWS</a></li>
				<li><a href='solutions.html'>SOLUTIONS</a></li>
				<li class='current'>
					<a href='#'>PROJECTS</a>
					<ul>
						<li><a href='slicease.html'>slicease.js 3.0</a></li>
						<li><a href='chatease.html'>chatease.js</a></li>
						<li><a href='chatease-server.html'>chatease-server</a></li>
						<li><a href='playease.html'>playease.js</a></li>
						<li><a href='http://rtmpmate.com' target='_blank'>rtmpmate</a></li>
					</ul>
				</li>
				<li><a href='contact.html'>CONTACT</a></li>
				<li><a href='blog.html'>BLOG</a></li>
			</ul>
		</section>
		</nav>
	</header>
	
	<div class='wrap'>
		<div>
		<section>
			<p>
				[source] <a href='https://github.com/studease/playease' target='_blank'>https://github.com/studease/playease</a><br/>
				[zh_doc] <a href='http://blog.csdn.net/icysky1989/article/details/75094205' target='_blank'>http://blog.csdn.net/icysky1989/article/details/75094205</a>
			</p>
			
			<p>
				This is a HTML5 video player for FLV/fMP4 live streaming, FLV/fMP4 VoD and original HTML5 media resources, eg. Ogg, Mpeg4, WebM, HLS, and RTMP streaming for MSIE with flash embed in.
			</p>
			
			<h3>News</h3>
			<ul class='u5 square'>
				<li>Introduced self-adaption display, and added flash render for MSIE 8, in <a href='playease.html'>playease.js</a> 1.0.33.<i> - Apr. 27, 2017</i></li>
				<li>Added UI controls for <a href='playease.html'>playease.js</a> at version 1.0.08.<i> - Apr. 17, 2017</i></li>
				<li><a href='playease.html'>Playease.js</a>, an HTML5 media player for FLV live streaming, beta released.<i> - Feb. 10, 2017</i></li>
			</ul>
			
			<h3>Example</h3>
			<div class='ol-status' style='width: 100%; max-width: 640px;'>
				<label>Online: </label>
				<span id='ol-users'>0</span>
			</div>
			<div id='playwrap' style='width: 100%; max-width: 640px; top: 0; left: 0;'>
				<div id='player'></div>
			</div>
			<div id='chatwrap' style='width: 100%; max-width: 640px; height: 400px; display: none;'>
				<div id='chat'></div>
			</div>
			<div class='input-container' style='width: 100%; max-width: 640px;'>
				<span>
					<input id='url-input' value='/vod/sample.mp4'>
				</span>
				<a class='btn red' onclick='playTheURL();'>Play</a>
			</div>
			
			<p>
				The example below will find the element with an id of "player" and render a player into it.
			</p>

<?prettify lang=js linenums=true?>
<pre class='prettyprint'>
&lt;div id='player'&gt;&lt;/div&gt;
...
playease('player').setup({
    width: 640,
    height: 400,
    file: '/vod/sample.flv',
    /*sources: [{
        file: 'http://127.0.0.1/live/sample.flv',
        type: 'flv',
        label: 'HTTP-FLV'
    }, {
        file: 'ws://127.0.0.1/live/sample.flv',
        type: 'flv',
        label: 'WS-FLV'
    }, {
        file: 'ws://127.0.0.1/live/sample',
        type: 'wss',
        label: 'WS-fMP4'
    }, {
        file: 'rtmp://127.0.0.1/live/sample',
        type: 'flash',
        label: 'RTMP-STREAM'
    }, {
        file: 'http://127.0.0.1/live/sample.m3u8',
        type: 'def'
    }],*/
    mode: 'vod',
    controls: true,
    autoplay: true,
    poster: 'sample.png',
    loader: {
        mode: 'cors'
    },
    render: {
        name: 'flv'
    }
});
</pre>
<br/>

			<p>
			For more configurations, please check cn/studease/embed/playease.embed.config.js.<br/>
			Component config is at the front of their sources.
			</p>

<?prettify lang=js linenums=true?>
<pre class='prettyprint'>
_defaults = {
    width: 640,
    height: 400,
    aspectratio: '16:9',
    file: '',
    sources: [],
    mode: rendermodes.VOD,
    bufferTime: .1,
    maxretries: 0,
    retrydelay: 3000,
    controls: true,
    autoplay: true,
    airplay: 'allow',
    playsinline: true,
    poster: '',
    report: true,
    debug: false,
    loader: {
        mode: iomodes.CORS
    },
    logo: {
        visible: true
    },
    bulletscreen: {
        enable: true,
        visible: true
    },
    render: {
        name: rendertypes.DEFAULT,
        swf: 'swf/playease.swf'
    },
    skin: {
        name: skintypes.DEFAULT
    },
    events: {
        
    }
};
</pre>
<br/>

			<h3>Add Callbacks</h3>

<?prettify lang=js linenums=true?>
<pre class='prettyprint'>
playease('player').setup({
    ...
    events: {
        onReady: function(e) {
            console.log('onReady');
        },
        ...
    }
});
</pre>
<br/>

			<p>
				For more events, please check cn/studease/api/playease.api.js.
			</p>

<?prettify lang=js linenums=true?>
<pre class='prettyprint'>
_eventMapping = {
    onError: events.ERROR,
    onReady: events.PLAYEASE_READY,
    onMetaData: events.PLAYEASE_METADATA,
    onBuffering: events.PLAYEASE_BUFFERING,
    onPlaying: events.PLAYEASE_PLAYING,
    onPaused: events.PLAYEASE_PAUSED,
    onReloading: events.PLAYEASE_RELOADING,
    onSeeking: events.PLAYEASE_SEEKING,
    onStopped: events.PLAYEASE_STOPPED,
    onReport: events.PLAYEASE_REPORT,
    onMute: events.PLAYEASE_MUTE,
    onVolume: events.PLAYEASE_VOLUME,
    onHD: events.PLAYEASE_HD,
    onBullet: events.PLAYEASE_BULLET,
    onFullpage: events.PLAYEASE_FULLPAGE,
    onFullscreen: events.PLAYEASE_FULLSCREEN
};
</pre>
<br/>

			<h3>Interfaces</h3>
			<ul class='u5 square'>
				<li>
					<a>play(url)</a>
				</li>
				<li>
					<a>pause()</a>
				</li>
				<li>
					<a>reload()</a>
				</li>
				<li>
					<a>seek(offset)</a>
				</li>
				<li>
					<a>stop()</a>
				</li>
				<li>
					<a>report()</a>
				</li>
				<li>
					<a>mute()</a>
				</li>
				<li>
					<a>volume(vol)</a>
				</li>
				<li>
					<a>hd(index)</a>
				</li>
				<li>
					<a>bullet()</a>
				</li>
				<li>
					<a>fullpage(exit)</a>
				</li>
				<li>
					<a>fullscreen(exit)</a>
				</li>
				<li>
					<a>shoot(text)</a>
				</li>
				<li>
					<a>resize(width, height)</a>
				</li>
			</ul>
			<br/>
			
			<h3>Software License</h3>
			<p>
				MIT.
			</p>
		</section>
		</div>
	</div>
	
	<footer>
		<div class='footerall'>
		<section>
			<ul>
				<li>
					<a href='faq.html' target='_blank'>
						<strong>FAQ</strong>
						<span>Check for the articles<br/>and known issues</span>
					</a>
				</li>
				<li>
					<a href='solutions.html' target='_blank'>
						<strong>SOLUTIONS</strong>
						<span>Low latency and<br/>cross-platform</span>
					</a>
				</li>
				<li>
					<a href='contact.html' target='_blank'>
						<strong>CONTACT</strong>
						<span>+8618224088983<br/>670292548@qq.com</span>
					</a>
				</li>
				<li>
					<a href='donate.html' target='_blank'>
						<strong>DONATE</strong>
						<span>Contribute by<br/>making a donation ￥</span>
					</a>
				</li>
			</ul>
		</section>
		</div>
		
		<div class='copyright'>
		<section>
			<span>Copyright &copy; 2014-2017 studease.cn | All Rights Reserved</span>
		</section>
		</div>
	</footer>
	
	<script type='text/javascript'>
		window.onload = function() {
			prettyPrint();
		};
		
		var player, chat, users;
		
		users = document.getElementById('ol-users');
		
		var pw = document.getElementById('playwrap');
		var width = pw.clientWidth;
		var height = width * 9 / 16 + 40;
		
		player = playease('player').setup({
			width: width,
			height: height,
			aspectratio: '16:9',
			//file: '/vod/sample.mp4',
			sources: [{
				file: '/vod/sample.flv',
				type: 'flv',
				label: 'HTTP-FLV'
			}, {
				file: '/vod/sample.mp4',
				type: 'def',
				label: 'HTTP-MP4'
			}],
			mode: 'vod',
			bufferTime: 1,
			maxretries: 0,
			controls: true,
			autoplay: false,
			poster: 'images/content/poster.png',
			loader: {
				mode: 'cors'
			},
			logo: {
				file: 'images/content/playease-logo.png'
			},
			render: {
				name: 'def',
				swf: 'swf/playease.swf'
			},
			events: {
				onFullpage: function(e) {
					pw.style.margin = e.exit ? '40px auto' : '0';
					pw.style.height = e.exit ? '' : '100%';
					pw.style.position = e.exit ? '' : 'fixed';
					pw.style.maxWidth = e.exit ? '640px' : '100%';
					pw.style.zIndex = e.exit ? '' : 100;
					
					if (chat) {
						chat.resize();
					}
				}
			}
		});
		
		chat = chatease('chat').setup({
			url: 'ws://118.190.79.29/001' + (function() {
				var params = window.location.search;
				if (params) {
					return params;
				}
				
				var id = Math.ceil(Math.random() * 1000);
				
				return '?name=游客' + chatease.utils.pad(id, 3);
			})(),
			width: 320,
			height: 400,
			maxretries: -1,
			render: {
				name: 'def',
				swf: 'swf/chatease.swf'
			},
			events: {
				onIdent: function(e) {
					users.innerText = e.channel.total;
				},
				onMessage: function(e) {
					player.shoot(e.data);
				},
				onUsers: function(e) {
					users.innerText = e.channel.total;
				},
				onClose: function(e) {
					users.innerText = 0;
				}
			}
		});
		
		if (playease.utils.isMobile()) {
			window.addEventListener('resize', function(e) {
				setTimeout(function() {
					player.fullscreen(!playease.utils.isHorizontal());
				}, 500);
			});
		}
		
		function playTheURL() {
			var input = document.getElementById('url-input');
			var url = input.value;
			player.play(url);
		}
	</script>
</body>