<!DOCTYPE HTML>
<html>

<head>
    <title>playease.js - StudEase.cn</title>

    <meta charset="utf-8">
    <meta name="robots" content="index, follow" />
    <meta name="keywords" content="playease.js,html5 flv player,html5 fmp4 player,html5 dash player,html5播放器,flv,fmp4,dash,rtmp,hls" />
    <meta name="description" content="This is a HTML5 FLV Player for FLV/fMP4/dash live streaming." />
    <meta name="author" content="Spencer Lau" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta content="yes" name="apple-mobile-web-app-capable" />
    <meta content="yes" name="apple-touch-fullscreen" />
    <meta content="telephone=no,email=no" name="format-detection" />
    <meta name="App-Config" content="fullscreen=yes, useHistoryState=yes, transition=yes" />

    <link rel="shortcut icon" href="images/favicon.ico">

    <!--[if lt IE 9]>
	<script type='text/javascript'>
		(function() {
			if (!/*@cc_on!@*/0) {
				return;
			}
			
			var e = "abbr, article, aside, audio, canvas, datalist, details, dialog, eventsource, figure, footer, header, hgroup, mark, menu, meter, nav, output, progress, section, time, video".split(', ');
			var i = e.length;
			while (i--) {
				document.createElement(e[i]);
			}
		})()
	</script>
	
	<style type='text/css' media='screen'>
		article, aside, dialog, footer, header, section, footer, nav, figure, menu {
			display: block;
		}
	</style>
	<![endif]-->

    <link type='text/css' rel='stylesheet' href='css/style.css' />
    <link type='text/css' rel='stylesheet' href='css/prettify.css' />
    <link type='text/css' rel='stylesheet' href='css/classic.css' />

    <script type='text/javascript' src='js/prettify/min/prettify.min.js'></script>
    <script type='text/javascript' src='js/bscroll.min.js'></script>
    <script type='text/javascript' src='js/playease.min.js'></script>
    <script type='text/javascript' src='js/chatease.min.js'></script>
</head>

<body ontouchstart=''>
    <header>
        <div class='topbar'>
            <section>
                <ul class='info'>
                    <li><span class='icon-card'>Name: Spencer Lau</span></li>
                    <li><span class='icon-phone'>Phone: +8618224088983</span></li>
                    <li><span class='icon-email'>Email: 670292548@qq.com</span></li>
                    <li><span class='icon-address'>Address: Guangzhou, China</span></li>
                </ul>
            </section>
        </div>

        <nav>
            <section>
                <span class='logo'>
                    <a href='.' title='studease.cn'>StudEase</a>
                </span>

                <div class='menu-toggle'></div>

                <ul>
                    <li><a href='.'>HOME</a></li>
                    <li><a href='about.html'>ABOUT</a></li>
                    <li><a href='index.html#news'>NEWS</a></li>
                    <li><a href='solutions.html'>SOLUTIONS</a></li>
                    <li class='current'>
                        <a href='#'>PROJECTS</a>
                        <ul>
                            <li><a href='rtmpmate.html'>rtmpmate</a></li>
                            <li><a href='playease.html'>playease.js</a></li>
                            <li><a href='chatease.html'>chatease.js</a></li>
                            <li><a href='slicease.html'>slicease.js</a></li>
                        </ul>
                    </li>
                    <li><a href='contact.html'>CONTACT</a></li>
                    <li><a href='blog.html'>BLOG</a></li>
                </ul>
            </section>
        </nav>
    </header>

    <div class='wrap'>
        <div>
            <section>
                <h2>playease.js</h2>
                <p>
                    [source] <a href='https://github.com/studease/playease' target='_blank'>https://github.com/studease/playease</a><br />
                    [中文] <a href='http://blog.csdn.net/icysky1989/article/details/75094205' target='_blank'>http://blog.csdn.net/icysky1989/article/details/75094205</a><br />
                    公众号：STUDEASE<br />
                    QQ群：528109813<br />
                    Skype: live:670292548
                </p>

                <p>
                    This is not only an <a href='https://github.com/studease/playease#roadmap' target='_blank'>HTML5 FLV Player</a>,
                    which supports HTTP/WS-FLV live streaming, but also supports HTTP/WS-fMP4, MPEG-DASH, HLS and Original HTML5 Media Resources (eg. Ogg, Mpeg4, WebM),
                    with an independent UI framework.
                </p>
                <p>
                    Note: The open-sourced version (v1.2) is no longer being maintained. You can still find the source under branch "v1.2.xx".
                    But it is outdated and not recommended to use in productions.
                </p>
                <p>
                    Instead, we've started a new version (v2) for business usage, which is much more professional, high-performance and stable,
                    and compatiable with all of the browsers that supports <a href='https://caniuse.com/?search=mse' target='_blank'>MSE</a>,
                    including iPad Safari and Android Chrome. In this build, an UI framework is developed separately from the core SDK (known as API),
                    and is much easier to understand and extend. In the meantime, the UI framework is open-sourced since v2.1.49
                    to help building customized UI, plugins and components.
                </p>
                <p>
                    The new core SDK provides more professional configurations, interfaces and events. In allusion to entertainment, monitoring, education and VR scenes,
                    it is able to run in multi-instance mode and destroy dynamically, detect tracks automatically, synchronize audio and video while missing frames.
                    In addition, configurable time range collector makes it functional 24/7. Tying in with reducing latency due to the cumulative ack of tcp,
                    the latency of live broadcast can remain low. Besides, it also supports frame capture, progressive fMP4 recording at any time,
                    real-time fetching and event reporting of media info, log feedback and so on.
                </p>
                <p>
                    The UI framework is built independently from the core SDK, driven by the interfaces and events. It is designed with multiple scalable and registering plugins,
                    each instance supports simple skin switching. Among these plugins, Display and Controlbar provide a flexible way to setup components,
                    such as customization, deleting or re-sorting.
                </p>
                <p>
                    If you are interested in this player, and or solutions about live media streaming, please contact us for details.
                </p>
                <div class='ol-status' style='width: 100%; max-width: 640px;'>
                    <label>Online: </label>
                    <span id='ol-users'>0</span>
                </div>
                <div id='playwrap' style='width: 100%; max-width: 640px; height: 400px; top: 0; left: 0;'></div>
                <div id='chatwrap' style='width: 100%; max-width: 640px; height: 400px; display: none;'>
                    <div id='chat'></div>
                </div>
                <div class='input-container' style='width: 100%; max-width: 640px;'>
                    <span>
                        <input id='url-input' value='/vod/sample.mp4'>
                    </span>
                    <a class='btn red' onclick='playTheURL();'>Play</a>
                </div>

                <h3>News</h3>
                <ul class='u5 square'>
                    <li><a href='playease.html'>Playease.js</a> @ v2.1.77 - Reduce latency smoothly, due to the cumulative ack of tcp.<i> - Jan. 25, 2021</i></li>
                    <li><a href='playease.html'>Playease.js</a> @ v2.1.73 - New module[s]: FMP4.<i> - Jan. 15, 2021</i></li>
                    <li><a href='playease.html'>Playease.js</a> @ v2.1.69 - StreamWriter starts while the first keyframe is detected.<i> - Dec. 30, 2020</i></li>
                    <li><a href='playease.html'>Playease.js</a> @ v2.1.67 - Implemented Logger class. New interface[s]: getProperty.<i> - Dec. 29, 2020</i></li>
                    <li><a href='playease.html'>Playease.js</a> @ v2.1.59 - StreamSaver using ServiceWorke.<i> - Dec. 11, 2020</i></li>
                    <li><a href='playease.html'>Playease.js</a> @ v2.1.54 - New interface[s]: record.<i> - Dec. 4, 2020</i></li>
                    <li><a href='playease.html'>Playease.js</a> @ v2.1.50 - New interface[s]: create, destroy.<i> - Nov. 30, 2020</i></li>
                    <li><a href='playease.html'>Playease.js</a> @ v2.1.45 - New event for screenshot, and capture() will no longer auto download, but return the image data.<i> - Nov. 23, 2020</i></li>
                    <li><a href='playease.html'>Playease.js</a> @ v2.1.43 - Buffer before starting to play.<i> - Nov. 23, 2020</i></li>
                    <li><a href='playease.html'>Playease.js</a> @ v2.1.38 - Fix incorrect ui display when exiting fullscreen by pressing esc.<i> - Nov. 11, 2020</i></li>
                    <li><a href='playease.html'>Playease.js</a> @ v2.1.37 - Fix audio time issue.<i> - Nov. 10, 2020</i></li>
                    <li><a href='playease.html'>Playease.js</a> @ v2.1.36 - Optimize track data into interleaved mode.<i> - Nov. 9, 2020</i></li>
                    <li><a href='playease.html'>Playease.js</a> @ v2.1.33 - Ignore track depending on flv flags, to optimize audio only or video only streaming.<i> - Nov. 2, 2020</i></li>
                    <li><a href='playease.html'>Playease.js</a> @ v2.1.27 - Reduce latency by simply seeking.<i> - Oct. 27, 2020</i></li>
                    <li><a href='playease.html'>Playease.js</a> @ v2.1.20 - Capture the current frame, and save as a picture.<i> - Oct. 20, 2020</i></li>
                    <li><a href='playease.html'>Playease.js</a> @ v2.1.10 - Remove media segments within a specific time range to release memory usage.<i> - Oct. 16, 2020</i></li>
                    <li><a href='playease.html'>Playease.js</a> @ v2.1.07 - Carry api.id while dispatching events.<i> - Oct. 15, 2020</i></li>
                    <li><a href='playease.html'>Playease.js</a> @ v2.0.89 - Synchronize video with audio while some frames are missing.<i> - Aug. 28, 2020</i></li>
                    <li>Start to build <a href='playease.html'>playease.js</a> v2 for business usage.<i> - Jun. 17, 2020</i></li>
                    <li>New feature of <a href='playease.html'>playease.js</a>: MPEG-DASH.<i> - Aug. 10, 2017</i></li>
                    <li>Introduced self-adaption display, and added flash render for MSIE 8, in <a href='playease.html'>playease.js</a> 1.0.33.<i> - Apr. 27, 2017</i></li>
                    <li>Added UI controls for <a href='playease.html'>playease.js</a> at version 1.0.08.<i> - Apr. 17, 2017</i></li>
                    <li><a href='playease.html'>Playease.js</a>, an HTML5 FLV Player for live streaming, beta released.<i> - Feb. 10, 2017</i></li>
                </ul>

                <h3>Documents</h3>
                <ul class='u5 square'>
                    <li><a href='https://github.com/studease/playease#roadmap' target='_blank'>Roadmap</a></li>
                    <li><a href='https://github.com/studease/playease#solutions' target='_blank'>Solutions</a></li>
                    <li><a href='https://github.com/studease/playease#example' target='_blank'>Example</a></li>
                    <li><a href='https://github.com/studease/playease#configuration' target='_blank'>Configuration</a></li>
                    <li><a href='https://github.com/studease/playease#api' target='_blank'>API</a></li>
                    <li><a href='https://github.com/studease/playease#events' target='_blank'>Events</a></li>
                </ul>

                <h3>Software License</h3>
                <ul class='u5 square'>
                    <li><a href='https://github.com/studease/playease/blob/master/LICENSE' target='_blank'>BSD 3-Clause License</a></li>
                    <li><a href='https://github.com/studease/playease/blob/master/NOTICE' target='_blank'>NOTICE</a></li>
                </ul>
            </section>
        </div>
    </div>

    <footer>
        <div class='footerall'>
            <section>
                <ul>
                    <li>
                        <a href='faq.html' target='_blank'>
                            <strong>FAQ</strong>
                            <span>Check for the articles<br />and known issues</span>
                        </a>
                    </li>
                    <li>
                        <a href='solutions.html' target='_blank'>
                            <strong>SOLUTIONS</strong>
                            <span>Low latency and<br />cross-platform</span>
                        </a>
                    </li>
                    <li>
                        <a href='contact.html' target='_blank'>
                            <strong>CONTACT</strong>
                            <span>+8618224088983<br />670292548@qq.com</span>
                        </a>
                    </li>
                    <li>
                        <a href='donate.html' target='_blank'>
                            <strong>DONATE</strong>
                            <span>Contribute by<br />making a donation ￥</span>
                        </a>
                    </li>
                </ul>
            </section>
        </div>

        <div class='copyright'>
            <section>
                <span>Copyright &copy; 2014-2021 studease.cn | All Rights Reserved</span>
            </section>
        </div>
    </footer>

    <script type='text/javascript'>
        window.onload = function () {
            prettyPrint();
        };

        var ui, chat;
        var users = document.getElementById('ol-users');
        var pw = document.getElementById('playwrap');
        var utils = playease.utils,
            events = playease.events,
            Event = events.Event,
            MediaEvent = events.MediaEvent,
            UIEvent = events.UIEvent,
            index = 0;

        ui = playease.ui.create({ mode: 'file' });
        ui.addEventListener('ready', onReady);
        ui.addEventListener('click', onClick);
        ui.addEventListener(MediaEvent.SCREENSHOT, onScreenshot);
        ui.addEventListener(UIEvent.FULLPAGE, onFullpage);
        ui.addEventListener(Event.ERROR, console.error);
        ui.setup(playwrap, {
            bufferLength: 0.5,       // sec.
            // file: 'http://127.0.0.1/vod/sample.flv',
            // file: 'http://127.0.0.1/live/_definst_/stream02.flv',
            // file: 'http://120.79.67.102:4022/flv?port=10077&app=live&stream=13751093611_channel_2',
            // file: 'ws://120.79.67.102:4022/ws?port=10077&app=live&stream=64921778277_channel_1',
            lowlatency: true,        // ll-dash, ll-hls, ll-flv/fmp4 (auto reduce latency due to cumulative ack of tcp)
            maxBufferLength: 1.5,    // sec.
            maxRetries: 0,           // maximum number of retries while some types of error occurs. -1 means always
            mode: 'live',            // live, vod
            module: 'FLV',
            objectfit: 'fill',
            retrying: 0,             // ms. retrying interval
            loader: {
                name: 'auto',
                mode: 'cors',        // cors, no-cors, same-origin
                credentials: 'omit', // omit, include, same-origin
            },
            service: {
                script: 'js/sw.js',
                scope: 'js/',
                enable: false,
            },
            sources: [{
                file: '/vod/sample.flv',
                label: 'http-flv',
                default: true,
            }, {
                file: '/vod/sample.mp4',
                label: 'http-mp4',
            }],
            plugins: [{
                kind: 'Poster',
                file: 'images/content/poster.png',
                objectfit: 'fill',
                visibility: true,
            }, {
                kind: 'Display',
                layout: '[Button:play=][Button:waiting=][Label:error=][Panel:info=][Panel:stats=]',
                ondoubleclick: 'fullscreen',
                visibility: true,
            }, {
                kind: 'Controlbar',
                layout: '[Slider:timebar=Preview]|[Button:play=Play][Button:pause=Pause][Button:reload=Reload][Button:stop=Stop][Label:quote=Live broadcast][Label:time=00:00/00:00]||[Button:report=Report][Button:capture=Capture][Button:mute=Mute][Button:unmute=Unmute][Slider:volumebar=80][Select:definition=Definition][Button:danmuoff=Danmu Off][Button:danmuon=Danmu On][Button:fullpage=Fullpage][Button:exitfullpage=Exit Fullpage][Button:fullscreen=Fullscreen][Button:exitfullscreen=Exit Fullscreen]',
                autohide: false,
                visibility: true,
            }],
        });

        function onReady(e) {
            // ui.record('fragmented.mp4');
        }

        function onClick(e) {
            switch (e.data.name) {
                case 'report':
                    ui.logger.flush();
                    break;
            }
        }

        function onScreenshot(e) {
            var arr = e.data.image.split(',');
            var ret = arr[0].match(/^data:(image\/(.+));base64$/);
            if (ret === null) {
                console.error('The string did not match the expected pattern.');
                return;
            }

            var link = document.createElement('a');
            link.href = e.data.image;
            link.download = 'screenshot-' + utils.padStart(index++, 3, '0') + '.' + ret[2];
            link.click();
        }

        function onFullpage(e) {
            pw.style.margin = e.data.status ? '0' : '0 auto';
            pw.style.height = e.data.status ? '100%' : '400px';
            pw.style.position = e.data.status ? 'fixed' : '';
            pw.style.maxWidth = e.data.status ? '100%' : '640px';
            pw.style.zIndex = e.data.status ? 100 : '';

            if (chat) {
                chat.resize();
            }
        }

        var events = chatease.events;

        chat = chatease('chat');
        chat.addEventListener(events.CHATEASE_INFO, onInfo);
        chat.addEventListener(events.CHATEASE_MESSAGE, onMessage);
        chat.addEventListener(events.CHATEASE_USER, onUser);
        chat.addEventListener(events.CHATEASE_CLOSE, onClose);
        chat.setup({
            url: 'ws://39.98.40.193:8080/chat/001' + window.location.search,
            width: 320,
            height: 400,
            maxLength: 70,
            maxRetries: -1,
            smoothing: false,
            debug: true,
            render: {
                name: 'none',
                swf: 'swf/chatease.swf'
            },
            skin: {
                name: chatease.utils.isMobile() ? 'mobile' : 'def'
            },
            bubble: {
                name: 'def'
            }
        });

        function onInfo(e) {
            users.innerText = e.channel.total;
        }

        function onMessage(e) {
            if (ui) {
                ui.shoot(e.data);
            }
        }

        function onUser(e) {
            users.innerText = e.channel.total;
        }

        function onClose(e) {
            users.innerText = 0;
        }

        if (playease.OS.isMobile) {
            window.addEventListener('resize', function (e) {
                setTimeout(function () {
                    ui.fullscreen(!playease.OS.isHorizontal());
                }, 500);
            });
        }

        function playTheURL() {
            var input = document.getElementById('url-input');
            var url = input.value;
            ui.play(url);
        }
    </script>
</body>