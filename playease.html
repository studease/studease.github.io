<!DOCTYPE HTML>
<html>
<head>
	<title>playease.js - StudEase.cn</title>
	
	<meta charset="utf-8">
	<meta name="robots" content="index, follow" />
	<meta name="keywords" content="playease.js,html5 video player,html5 flv player,html5 dash player,html5播放器,ie8,ie9,flv,fmp4,dash,rtmp,hls" />
	<meta name="description" content="This is a HTML5 video player for FLV/fMP4 live streaming." />
	<meta name="author" content="Tony Lau" />
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta content="yes" name="apple-mobile-web-app-capable"/>
	<meta content="yes" name="apple-touch-fullscreen"/>
	<meta content="telephone=no,email=no" name="format-detection"/>
	<meta name="App-Config" content="fullscreen=yes, useHistoryState=yes, transition=yes"/>
	
	<link rel="shortcut icon" href="images/favicon.ico">
	
	<!--[if lt IE 9]>
	<script type='text/javascript'>
		(function() {
			if (!/*@cc_on!@*/0) {
				return;
			}
			
			var e = "abbr, article, aside, audio, canvas, datalist, details, dialog, eventsource, figure, footer, header, hgroup, mark, menu, meter, nav, output, progress, section, time, video".split(', ');
			var i = e.length;
			while (i--) {
				document.createElement(e[i]);
			}
		})()
	</script>
	
	<style type='text/css' media='screen'>
		article, aside, dialog, footer, header, section, footer, nav, figure, menu {
			display: block;
		}
	</style>
	<![endif]-->
	
	<link type='text/css' rel='stylesheet' href='css/style.css' />
	<link type='text/css' rel='stylesheet' href='css/prettify.css' />
	
	<script type='text/javascript' src='js/prettify/min/prettify.min.js'></script>
	<script type='text/javascript' src='js/bscroll.min.js'></script>
	<script type='text/javascript' src='js/playease.min.js'></script>
	<script type='text/javascript' src='js/chatease.min.js'></script>
</head>
<body ontouchstart=''>
	<header>
		<div class='topbar'>
		<section>
			<ul class='info'>
				<li><span class='icon-card'>Name: Tony Lau</span></li>
				<li><span class='icon-phone'>Phone: +8618224088983</span></li>
				<li><span class='icon-email'>Email: 670292548@qq.com</span></li>
				<li><span class='icon-address'>Address: Chongqing, China</span></li>
			</ul>
		</section>
		</div>
		
		<nav>
		<section>
			<span class='logo'>
				<a href='.' title='studease.cn'>StudEase</a>
			</span>
			
			<div class='menu-toggle'></div>
			
			<ul>
				<li><a href='.'>HOME</a></li>
				<li><a href='about.html'>ABOUT</a></li>
				<li><a href='index.html#news'>NEWS</a></li>
				<li><a href='solutions.html'>SOLUTIONS</a></li>
				<li class='current'>
					<a href='#'>PROJECTS</a>
					<ul>
						<li><a href='slicease.html'>slicease.js 3.0</a></li>
						<li><a href='playease.html'>playease.js</a></li>
						<li><a href='chatease.html'>chatease.js</a></li>
						<li><a href='kiwichatd.html'>kiwichatd</a></li>
						<li><a href='http://rtmpmate.com' target='_blank'>rtmpmate</a></li>
					</ul>
				</li>
				<li><a href='contact.html'>CONTACT</a></li>
				<li><a href='blog.html'>BLOG</a></li>
			</ul>
		</section>
		</nav>
	</header>
	
	<div class='wrap'>
		<div>
		<section>
			<h2>playease.js</h2>
			<p>
				[source] <a href='https://github.com/studease/playease' target='_blank'>https://github.com/studease/playease</a><br/>
				[中文] <a href='http://blog.csdn.net/icysky1989/article/details/75094205' target='_blank'>http://blog.csdn.net/icysky1989/article/details/75094205</a>
			</p>
			
			<p>
				This is a HTML5 video player for FLV/fMP4 live streaming, FLV/fMP4 VoD, MPEG-DASH, and original HTML5 media resources, eg. Ogg, Mpeg4, WebM, HLS.<br/>
				It also supports RTMP streaming for MSIE with flash embed in.
			</p>
			
			<h3>News</h3>
			<ul class='u5 square'>
				<li>New feature of <a href='playease.html'>playease.js</a>: MPEG-DASH.<i> - Aug. 10, 2017</i></li>
				<li>Introduced self-adaption display, and added flash render for MSIE 8, in <a href='playease.html'>playease.js</a> 1.0.33.<i> - Apr. 27, 2017</i></li>
				<li>Added UI controls for <a href='playease.html'>playease.js</a> at version 1.0.08.<i> - Apr. 17, 2017</i></li>
				<li><a href='playease.html'>Playease.js</a>, an HTML5 media player for FLV live streaming, beta released.<i> - Feb. 10, 2017</i></li>
			</ul>
			
			<h3>Example</h3>
			<div class='ol-status' style='width: 100%; max-width: 640px;'>
				<label>Online: </label>
				<span id='ol-users'>0</span>
			</div>
			<div id='playwrap' style='width: 100%; max-width: 640px; top: 0; left: 0;'>
				<div id='player'></div>
			</div>
			<div id='chatwrap' style='width: 100%; max-width: 640px; height: 400px; display: none;'>
				<div id='chat'></div>
			</div>
			<div class='input-container' style='width: 100%; max-width: 640px;'>
				<span>
					<input id='url-input' value='/vod/sample.mp4'>
				</span>
				<a class='btn red' onclick='playTheURL();'>Play</a>
			</div>
			
			<p>
				The example below will find the element with an id of "player" and render a player into it.
			</p>

<?prettify lang=js linenums=true?>
<pre class='prettyprint'>
&lt;div id='playwrap' style='margin: 0 auto; width: 100%; max-width: 640px; top: 0; left: 0;'&gt;
	&lt;div id='player'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div id='others' style='width: 100%;'&gt;
	...
&lt;/div&gt;
...

var pw = document.getElementById('playwrap');
var events = playease.events;

var player = playease('player');
player.addEventListener(events.PLAYEASE_FULLPAGE, onFullpage);
player.addEventListener(events.RESIZE, onResize);
player.setup({
    width: 640,
    height: 400,
    aspectratio: '16:9',
    file: '/vod/sample.flv',
    /*sources: [{
        file: 'http://127.0.0.1/live/sample.flv',
        type: 'flv',
        label: 'HTTP-FLV'
    }, {
        file: 'ws://127.0.0.1/live/sample.flv',
        type: 'flv',
        label: 'WS-FLV'
    }, {
        file: 'ws://127.0.0.1/live/sample',
        type: 'rtmpmate',
        label: 'WS-RTMPMATE'
    }, {
        file: 'ws://127.0.0.1/live/sample',
        type: 'wss',
        label: 'WS-fMP4'
    }, {
        file: 'http://127.0.0.1/live/sample/manifest.mpd',
        type: 'dash',
        label: 'MPEG-DASH'
    }, {
        file: 'rtmp://127.0.0.1/live/sample',
        type: 'flash',
        label: 'RTMP-STREAM'
    }, {
        file: 'http://127.0.0.1/live/sample/index.m3u8',
        type: 'def'
    }],*/
    mode: 'vod',
    controls: true,
    autoplay: false,
    //poster: 'sample.png',
    //report: true,
    loader: {
        name: 'xhr-chunked-loader',
        chunkSize: 2 * 1024 * 1024,
        mode: 'cors'
    },
    logo: {
        file: 'logo.png'
    },
    bulletscreen: {
        enable: true,
        visible: true
    },
    /*fullpage: {
        visible: true
    },*/
    render: {
        name: 'def',
        bufferLength: 4 * 1024 * 1024,
        swf: '../swf/playease.swf'
    }
});

function onFullpage(e) {
    pw.style.margin = e.exit ? '0 auto' : '0';
    pw.style.height = e.exit ? '' : '100%';
    pw.style.position = e.exit ? '' : 'fixed';
    pw.style.maxWidth = e.exit ? '640px' : '100%';
    pw.style.zIndex = e.exit ? '' : '99';
}

function onResize(e) {
    // x5-playsinline
    if (playease.utils.isAndroid() && playease.utils.isQQBrowser()) {
        var video = document.getElementById('player').firstChild.lastChild;
        video.style.width = window.innerWidth + 'px';
        video.style.height = window.innerHeight + 'px';
        video.style['object-position'] = 'center top';
        
        var controlbar = document.getElementById('player').childNodes[1];
        controlbar.style.top = e.height - 40 + 'px';
        controlbar.style.position = 'absolute';
        
        var next = document.getElementById('others');
        next.style.top = e.height + 'px';
        next.style.bottom = '0px';
        next.style.position = 'absolute';
        next.style.zIndex = 999;
    }
    
    // Something else
}
</pre>
<br/>

			<p>
			For more configurations, please check cn/studease/embed/playease.embed.config.js.<br/>
			Component config is at the front of their sources.
			</p>

<?prettify lang=js linenums=true?>
<pre class='prettyprint'>
_defaults = {
    width: 640,
    height: 400,
    aspectratio: '16:9',
    file: '',
    sources: [],
    mode: rendermodes.VOD,
    bufferTime: .1,
    maxretries: 0,
    retrydelay: 3000,
    controls: true,
    autoplay: true,
    airplay: 'allow',
    playsinline: true,
    poster: '',
    report: false,
    debug: false,
    loader: {
        //name: 'xhr-chunked-loader', // For flv render in vod mode only. Otherwise, don't name it out.
        //chunkSize: 2 * 1024 * 1024, // For xhr-chunked-loader only
        mode: iomodes.CORS
    },
    logo: {
        visible: true
    },
    bulletscreen: {
        enable: true,
        visible: false
    },
    fullpage: {
        visible: false
    },
    render: {
        name: rendertypes.DEFAULT,
        //bufferLength: 4 * 1024 * 1024, // For flv render in vod mode only
        swf: 'swf/playease.swf'
    },
    skin: {
        name: skintypes.DEFAULT
    },
    events: {
        
    }
};
</pre>
<br/>

			<h3>Add Callbacks</h3>

<?prettify lang=js linenums=true?>
<pre class='prettyprint'>
playease('player').setup({
    ...
    events: {
        onReady: function(e) {
            console.log('onReady');
        },
        ...
    }
});

// or

var events = playease.events;
var player = playease('player');
player.addEventListener(events.PLAYEASE_READY, onReady);
player.setup({
    ...
});

function onReady(e) {
    console.log('onReady');
}
</pre>
<br/>

			<p>
				For more events, please check cn/studease/api/playease.api.js.
			</p>

<?prettify lang=js linenums=true?>
<pre class='prettyprint'>
_eventMapping = {
    onError: events.ERROR,
    onReady: events.PLAYEASE_READY,
    onMetaData: events.PLAYEASE_METADATA,
    onBuffering: events.PLAYEASE_BUFFERING,
    onPlaying: events.PLAYEASE_PLAYING,
    onPaused: events.PLAYEASE_PAUSED,
    onReloading: events.PLAYEASE_RELOADING,
    onSeeking: events.PLAYEASE_SEEKING,
    onStopped: events.PLAYEASE_STOPPED,
    onReport: events.PLAYEASE_REPORT,
    onMute: events.PLAYEASE_MUTE,
    onVolume: events.PLAYEASE_VOLUME,
    onVideoOff: events.PLAYEASE_VIDEOOFF,
    onHD: events.PLAYEASE_HD,
    onBullet: events.PLAYEASE_BULLET,
    onFullpage: events.PLAYEASE_FULLPAGE,
    onFullscreen: events.PLAYEASE_FULLSCREEN,
    onResize: events.RESIZE
};
</pre>
<br/>

			<h3>Interfaces</h3>
			<ul class='u5 square'>
				<li>
					<a>play(url)</a>
				</li>
				<li>
					<a>pause()</a>
				</li>
				<li>
					<a>reload()</a>
				</li>
				<li>
					<a>seek(offset)</a>
				</li>
				<li>
					<a>stop()</a>
				</li>
				<li>
					<a>report()</a>
				</li>
				<li>
					<a>mute(mute)</a>
				</li>
				<li>
					<a>volume(vol)</a>
				</li>
				<li>
					<a>videoOff(off)</a>
				</li>
				<li>
					<a>hd(index)</a>
				</li>
				<li>
					<a>bullet(enable)</a>
				</li>
				<li>
					<a>fullpage(exit)</a>
				</li>
				<li>
					<a>fullscreen(exit)</a>
				</li>
				<li>
					<a>shoot(text)</a>
				</li>
				<li>
					<a>resize(width, height)</a>
				</li>
			</ul>
			<br/>
			
			<h3>Software License</h3>
			<p>
				MIT.
			</p>
		</section>
		</div>
	</div>
	
	<footer>
		<div class='footerall'>
		<section>
			<ul>
				<li>
					<a href='faq.html' target='_blank'>
						<strong>FAQ</strong>
						<span>Check for the articles<br/>and known issues</span>
					</a>
				</li>
				<li>
					<a href='solutions.html' target='_blank'>
						<strong>SOLUTIONS</strong>
						<span>Low latency and<br/>cross-platform</span>
					</a>
				</li>
				<li>
					<a href='contact.html' target='_blank'>
						<strong>CONTACT</strong>
						<span>+8618224088983<br/>670292548@qq.com</span>
					</a>
				</li>
				<li>
					<a href='donate.html' target='_blank'>
						<strong>DONATE</strong>
						<span>Contribute by<br/>making a donation ￥</span>
					</a>
				</li>
			</ul>
		</section>
		</div>
		
		<div class='copyright'>
		<section>
			<span>Copyright &copy; 2014-2017 studease.cn | All Rights Reserved</span>
		</section>
		</div>
	</footer>
	
	<script type='text/javascript'>
		window.onload = function() {
			prettyPrint();
		};
		
		var player, chat;
		var users = document.getElementById('ol-users');
		var pw = document.getElementById('playwrap');
		var events = playease.events;
		
		var player = playease('player');
		player.addEventListener(events.PLAYEASE_FULLPAGE, onFullpage);
		player.setup({
			width: pw.clientWidth,
			height: pw.clientWidth * 9 / 16 + 40,
			aspectratio: '16:9',
			//file: '/vod/sample.mp4',
			sources: [{
				file: '/vod/sample.flv',
				type: 'flv',
				label: 'HTTP-FLV'
			}, {
				file: '/vod/sample.mp4',
				type: 'def',
				label: 'HTTP-MP4'
			}],
			mode: 'vod',
			bufferTime: 1,
			maxretries: 0,
			controls: true,
			autoplay: false,
			//poster: 'images/content/poster.png',
			//report: true,
			loader: {
				name: 'xhr-chunked-loader',
				chunkSize: 2 * 1024 * 1024,
				mode: 'cors'
			},
			logo: {
				file: 'images/content/playease-logo.png'
			},
			bulletscreen: {
				enable: true,
				visible: true
			},
			fullpage: {
				visible: !playease.utils.isMobile()
			},
			render: {
				name: 'def',
				bufferLength: 4 * 1024 * 1024,
				swf: 'swf/playease.swf'
			}
		});
		
		function onFullpage(e) {
			pw.style.margin = e.exit ? '0 auto' : '0';
			pw.style.height = e.exit ? '' : '100%';
			pw.style.position = e.exit ? '' : 'fixed';
			pw.style.maxWidth = e.exit ? '640px' : '100%';
			pw.style.zIndex = e.exit ? '' : 100;
			
			if (chat) {
				chat.resize();
			}
		}
		
		events = chatease.events;
		
		chat = chatease('chat');
		chat.addEventListener(events.CHATEASE_INDENT, onIdent);
		chat.addEventListener(events.CHATEASE_MESSAGE, onMessage);
		chat.addEventListener(events.CHATEASE_USERS, onUsers);
		chat.addEventListener(events.CHATEASE_CLOSE, onClose);
		chat.setup({
			url: 'ws://chat.qcus.cn/001' + (function() {
				var params = window.location.search;
				if (params) {
					return params;
				}
				
				var id = Math.ceil(Math.random() * 1000);
				
				return '?name=游客' + chatease.utils.pad(id, 3) + '&icon=/images/icon/tourist.png';
			})(),
			width: 320,
			height: 400,
			maxlength: 50,
			maxretries: -1,
			smoothing: chatease.utils.isMobile(),
			debug: true,
			render: {
				name: 'none',
				swf: 'swf/chatease.swf'
			},
			skin: {
				name: chatease.utils.isMobile() ? 'mobile' : 'def'
			}
		});
		
		function onIdent(e) {
			users.innerText = e.channel.total;
		}
		
		function onMessage(e) {
			if (player) {
				player.shoot(e.data);
			}
		}
		
		function onUsers(e) {
			users.innerText = e.channel.total;
		}
		
		function onClose(e) {
			users.innerText = 0;
		}
		
		if (playease.utils.isMobile()) {
			window.addEventListener('resize', function(e) {
				setTimeout(function() {
					player.fullscreen(!playease.utils.isHorizontal());
				}, 500);
			});
		}
		
		function playTheURL() {
			var input = document.getElementById('url-input');
			var url = input.value;
			player.play(url);
		}
	</script>
</body>