playease=function(){if(playease.API)return playease.API.get.apply(this,arguments)};playease.VERSION="2.1.00";playease.DEBUG=!1;
(function(c){var d={extendz:function(){var a=Array.prototype.slice.call(arguments,0),e=a[0];switch(d.typeOf(e)){case "null":case "number":case "string":throw{name:"TypeError",message:"Could not extend to type "+d.typeOf(e)+"."};}for(var b=1;b<a.length;b++){var f=a[b];switch(d.typeOf(f)){case "null":case "number":case "string":c.DEBUG&&d.warn("Could not extend from type "+d.typeOf(f));break;case "array":d.forEach(f,function(b,g){switch(d.typeOf(g)){case "object":e.push(d.extendz({},g));break;case "array":e.push(d.extendz([],
g));break;default:"array"===d.typeOf(e)?e.push(g):e[b]=g}});break;default:d.forEach(f,function(b,g){switch(d.typeOf(g)){case "object":switch(d.typeOf(e[b])){case "null":case "number":case "string":e[b]={}}e[b]=d.extendz(e[b],g);break;case "array":e[b]=d.extendz([],g);break;default:e[b]=g}})}}return e},forEach:function(a,e){for(var b in a)a.hasOwnProperty&&"function"===d.typeOf(a.hasOwnProperty)?a.hasOwnProperty(b)&&e(b,a[b]):e(b,a[b])},getCookie:function(a){var e;return(e=document.cookie.match(new RegExp("(^| )"+
a+"=([^;]*)(;|$)")))?unescape(e[2]):null},padStart:function(a,e,b){for(a+="";a.length<e;)a=b+a;return a},padEnd:function(a,e,b){for(a+="";a.length<e;)a+=b;return a},hex:function(a){return"0x"+d.padStart(a.toString(16),2,"0")},time2string:function(a){var e="",b=a/3600|0,f=a%3600/60|0;a=a%60|0;b&&(e+=d.padStart(b,2,"0")+":");return e+=d.padStart(f,2,"0")+":"+d.padStart(a,2,"0")},typeOf:function(a){if(null===a||void 0===a)return"null";var e=typeof a;if("object"===e)try{var b=Object.prototype.toString.call(a).match(/^\[object ([a-z]+)\]$/i);
if(b&&1<b.length&&b[1])return b[1].toLowerCase()}catch(f){}return e},trim:function(a){return a.replace(/^\s+|\s+$/g,"")},indexOf:function(a,e){if("array"===d.typeOf(a))for(var b=0;b<a.length;b++)if(a[b]===e)return b;return-1},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var e=16*Math.random()|0;return("x"===a?e:e&3|8).toString(16)})}};void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52));void 0===Number.MAX_SAFE_INTEGER&&(Number.MAX_SAFE_INTEGER=Math.pow(2,
53)-1);void 0===Number.MIN_SAFE_INTEGER&&(Number.MIN_SAFE_INTEGER=-1*Number.MAX_SAFE_INTEGER);d.equal=function(a,e){return Math.abs(a-e)<Number.EPSILON};d.createElement=function(a,e){a=document.createElement(a);e&&(a.className=e);return a};d.addClass=function(a,e){var b="string"===d.typeOf(a.className)?a.className.split(" "):[];e="array"===d.typeOf(e)?e:e.split(" ");d.forEach(e,function(a,e){-1===d.indexOf(b,e)&&b.push(e)});a.className=d.trim(b.join(" "))};d.hasClass=function(a,e){a=a.className||
"";e="array"===d.typeOf(e)?e:e.split(" ");for(var b=0;b<e.length;b++)if(-1===a.search(new RegExp("\\b"+e[b]+"\\b","i")))return!1;return!0};d.removeClass=function(a,e){var b="string"===d.typeOf(a.className)?a.className.split(" "):[];e="array"===d.typeOf(e)?e:e.split(" ");d.foreach(e,function(a,e){a=d.indexOf(b,e);0<=a&&b.splice(a,1)});a.className=d.trim(b.join(" "))};d.emptyElement=function(a){for(;a.firstChild;)a.removeChild(a.firstChild)};var a=window.console=window.console||{log:function(){},warn:function(){},
error:function(){}};d.debug=function(){c.DEBUG&&d.log.apply(d,arguments)};d.log=function(){var c=Array.prototype.slice.call(arguments,0);"object"===d.typeOf(a)?a.log.apply(a,c):a.log(c)};d.warn=function(){var c=Array.prototype.slice.call(arguments,0);"object"===d.typeOf(a)?a.warn.apply(a,c):a.warn(c)};d.error=function(){var c=Array.prototype.slice.call(arguments,0);"object"===d.typeOf(a)?a.error.apply(a,c):a.error(c)};c.utils=d})(playease);
(function(c){function d(b){var a=this;a.set=function(b,g,f){switch(a.type){case e.DOUBLE:if("number"!==l.typeOf(g))throw{name:"TypeError",message:"Value should be number."};break;case e.BOOLEAN:if("boolean"!==l.typeOf(g))throw{name:"TypeError",message:"Value should be boolean."};case e.STRING:case e.LONG_STRING:if("string"!==l.typeOf(g))throw{name:"TypeError",message:"Value should be string."};break;case e.OBJECT:case e.ECMA_ARRAY:if("array"!==l.typeOf(g))throw{name:"TypeError",message:"Value should be array."};
for(f=0;f<g.length;f++){var h=g[f];a.table[h.key]=h}break;case e.STRICT_ARRAY:if("array"!==l.typeOf(g))throw{name:"TypeError",message:"Value should be array."};break;case e.DATE:if("number"!==l.typeOf(g))throw{name:"TypeError",message:"Value should be number."};if("number"!==l.typeOf(f))throw{name:"TypeError",message:"Offset not presented."};a.offset=f;break;case e.NULL:case e.UNDEFINED:if("null"!==l.typeOf(g))throw{name:"TypeError",message:"Value should be null."};break;default:throw{name:"TypeError",
message:"Unrecognized amf type "+a.type+"."};}a.key=b;a.value=g;return a};a.get=function(){switch(a.type){case e.DATE:return new Date(a.value+6E4*a.offset);default:return a.value}};a.type=b;a.key="";a.value=null;a.table={};a.offset=0;a.ended=!1}function a(a,f){for(var b=0,g=0;g<f.value.length;g++){var d=f.value[g];d.key&&(d=crypt.stringToByteArray(d.key),a.WriteUint16(d.length,!1),a.Write(d),b+=2+d.length);b+=e.encode(a,f)}return b}var l=c.utils,e={DOUBLE:0,BOOLEAN:1,STRING:2,OBJECT:3,MOVIE_CLIP:4,
NULL:5,UNDEFINED:6,REFERENCE:7,ECMA_ARRAY:8,END_OF_OBJECT:9,STRICT_ARRAY:10,DATE:11,LONG_STRING:12,UNSUPPORTED:13,RECORD_SET:14,XML:15,TYPED_OBJECT:16,AMF3_DATA:17,decode:function(a,f,d){if(1>f.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf Value."};var b=0,c=new DataView(f,d);a.type=c.getUint8(b);b+=1;c={0:e.decodeDouble,1:e.decodeBoolean,2:e.decodeString,3:e.decodeObject,5:e.decodeNull,6:e.decodeUndefined,8:e.decodeECMAArray,9:e.decodeEndOfObject,10:e.decodeStrictArray,
11:e.decodeDate,12:e.decodeLongString}[a.type];if(!c)throw{name:"TypeError",message:"Unrecognized amf type "+a.type+"."};return b+=c(a,f,d+b)},decodeDouble:function(a,f,e){if(8>f.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf double."};f=new DataView(f,e);a.value=f.getFloat64(0);return 8},decodeBoolean:function(a,f,e){if(1>f.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf boolean."};f=new DataView(f,e);a.value=!!f.getUint8(0);return 1},
decodeString:function(a,f,e){if(2>f.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf string."};var b=0,d=(new DataView(f,e)).getUint16(b);b+=2;0<d?(a.value=String.fromCharCode.apply(String,new Uint8Array(f,e+b,d)),b+=d):a.value="";return b},decodeObject:function(a,f,c){if(3>f.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf object."};var b=0,p=f.byteLength-c;for(a.value=[];b<p;){var h=new d;b+=e.decodeString(h,f,c+b);h.key=h.get();b+=e.decode(h,
f,c+b);if(h.type===e.END_OF_OBJECT)break;a.value.push(h);a.table[h.key]=h}return b},decodeNull:function(a,f,e){a.value=null;return 0},decodeUndefined:function(a,f,e){a.value=void 0;return 0},decodeECMAArray:function(a,f,d){if(4>f.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf ecma array."};var b=4;return b+=e.decodeObject(a,f,d+b)},decodeEndOfObject:function(a,f,e){a.ended=!0;return 0},decodeStrictArray:function(a,f,c){if(4>f.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf strict array."};
var b=0,p=new DataView(f,c),h=p.getUint32(b);b+=4;var k=f.byteLength-c;a.value=[];for(var l=0;l<h&&b<k;l++){var q=new d;b+=e.decode(q,f,c+b);a.value.push(q)}b+3<=k&&0===p.getUint8(b)&&0===p.getUint8(b+1)&&p.getUint8(b+2)===e.END_OF_OBJECT&&(a.ended=!0,b+=3);return b},decodeDate:function(a,f,e){if(10>f.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf date."};var b=0;f=new DataView(f,e);a.Timestamp=f.getFloat64(b);b+=8;a.Timeoffset=f.getInt16(b);return b+2},decodeLongString:function(a,
e,d){if(4>e.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf long string."};var b=0,f=(new DataView(e,d)).getUint32(b);b+=4;0<f&&(a.value=String.fromCharCode.apply(String,new Uint8Array(e,d+b,f)),b+=f);return b},appendBytes:function(a,e){a.Write(e)},appendInt8:function(a,e){a.writeInt8(e)},appendInt16:function(a,e,d){a.WriteInt16(e,d)},appendInt32:function(a,e,d){a.WriteInt32(e,d)},appendUint8:function(a,e){a.writeUint8(e)},appendUint16:function(a,e,d){a.WriteUint16(e,
d)},appendUint32:function(a,e,d){a.WriteUint32(e,d)},encode:function(a,f){var b={0:e.encodeDouble,1:e.encodeBoolean,2:e.encodeString,3:e.encodeObject,5:e.encodeNull,6:e.encodeUndefined,8:e.encodeECMAArray,10:e.encodeStrictArray,11:e.encodeDate,12:e.encodeLongString}[f.type];if(!b)throw{name:"TypeError",message:"Unrecognized amf type "+f.type+"."};return b(a,f)},encodeNumber:function(a,f){a.WriteUint8(e.DOUBLE);a.WriteFloat64(f.value,!1);return 9},encodeBoolean:function(a,f){a.WriteUint8(e.BOOLEAN);
a.WriteUint8(f.value?1:0);return 2},encodeString:function(a,f){if(!f.value)return 0;if(65535<=f.value.length)return e.encodeLongString(a,f);f=crypt.stringToByteArray(f.value);a.WriteUint8(e.STRING);a.WriteUint16(f.length,!1);a.Write(f);return 3+f.length},encodeObject:function(b,f){var d=1;b.WriteUint8(e.OBJECT);d+=a(f);f.ended&&(b.WriteUint16(0),b.WriteUint8(e.END_OF_OBJECT),d+=3);return d},encodeNull:function(a,f){a.WriteUint8(e.NULL);return 1},encodeUndefined:function(a,f){a.WriteUint8(e.UNDEFINED);
return 1},encodeECMAArray:function(b,f){var d=3;b.WriteUint8(e.ECMA_ARRAY);b.WriteUint32(f.value.length,!1);return d+=a(b,f)},encodeStrictArray:function(b,f){var d=3;b.WriteUint8(e.STRICT_ARRAY);b.WriteUint32(f.value.length,!1);return d+=a(b,f)},encodeDate:function(a,f){a.WriteUint8(e.DATE);a.WriteFloat64(f.value,!1);a.WriteUint16(f.offset,!1);return 11},encodeLongString:function(a,f){if(!f.value)return 0;f=crypt.stringToByteArray(f.value);a.WriteUint8(e.LONG_STRING);a.WriteUint32(f.length,!1);a.Write(f);
return 5+f.length}};e.Value=d;l.AMF=e})(playease);
(function(c){c=c.utils;c.MIN_UINT32=0;c.MAX_UINT32=4294967295;c.MAX_INT32=2147483647;c.MIN_INT32=-2147483648;c.MIN_CACHE_BITS=25;c.BitStream=function(d){var a=this;a.ShowBits=function(a){if(0===a)return 0;var f=b>>>3,g=0;b<e&&(g=c.getUint8(f)<<24);b+8<e&&(g|=c.getUint8(f+1)<<16);b+16<e&&(g|=c.getUint8(f+2)<<8);b+24<e&&(g|=c.getUint8(f+3));return g<<(b&7)>>>32-a};a.ShowBitsLong=function(b){return 25>=b?a.ShowBits(b):a.ShowBits(16)<<b-16|a.ShowBits(b-16)};a.ReadBits=function(e){var f=a.ShowBits(e);
b+=e;return f};a.ReadBitsLong=function(e){var f=a.ShowBitsLong(e);b+=e;return f};a.SkipBits=function(a){b+=a};a.Left=function(){return e-b};var c=new DataView(d.buffer,d.byteOffset,d.byteLength);var e=8*d.byteLength;var b=0}})(playease);
(function(c){var d=new function(){function a(){return f.match(/(Chrome|CriOS)\/((\d+)\.(\d+)(?:\.\d+)*)/)}function d(){if(!b.isWindows)return 0;var a=navigator.plugins;if(a){var e=a["Shockwave Flash"];if(e&&e.description){var f=e.description.replace(/\D+(\d+\.?\d*).*/,"$1");return parseFloat(f)}}if("undefined"!==typeof window.ActiveXObject)try{return e=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"),f=e.GetVariable("$version").split(" ")[1].replace(/\s*,\s*/,"."),parseFloat(f)}catch(h){}return 0}
function e(){return void 0!==window.orientation?90===window.orientation||-90===window.orientation:window.innerWidth>window.innerHeight}var b=this;var f=navigator.userAgent;b.OS={name:"",version:"",major:NaN,minor:NaN};b.Kernel={name:"",version:"",major:NaN,minor:NaN};b.Browser={name:"",version:"",major:NaN,minor:NaN};(function(){var a=f.match(/(Windows)\sNT\s((\d+)\.(\d+))/)||f.match(/(Mac)\sOS\sX\s((\d+)[\._](\d+)(?:[\._]\d+)*)/)||f.match(/(Android)(?:\s((\d+)(?:\.(\d+))?(?:\.(\d+))*))?/)||f.match(/(iP(?:hone|ad|od)).*\s((\d+)_(\d+)(?:_\d+)*)/)||
f.match(/(Windows\sPhone)(?:\sOS)?\s((\d+)\.(\d+)(?:\.\d+)*)/);a&&(b.OS.name=a[1]||"",b.OS.version=a[2]||"",b.OS.major=parseInt(a[3]),b.OS.minor=parseInt(a[4]));b.OS.isWindows="Windows"===b.OS.name;b.OS.isMac="Mac"===b.OS.name;b.OS.isAndroid="Android"===b.OS.name;b.OS.isIOS="iPhone"===b.OS.name||"iPad"===b.OS.name||"iPod"===b.OS.name;b.OS.isWindowsPhone="Windows Phone"===b.OS.name;b.OS.isMobile=b.OS.isAndroid||b.OS.isIOS||b.OS.isWindowsPhone;b.OS.isHorizontal=e})();(function(){var a=b.OS.isAndroid&&
f.match(/;\s(([-a-z\d\s]+)(?:\sBuild\/([-a-z\d\s]+))?)\)/i);a&&(b.OS.model=a[1],b.OS.brand=a[2],b.OS.build=a[3])})();(function(){var e=!b.OS.isIOS&&a()||f.match(/(AppleWebKit)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(Gecko)\/((\d+))/)||f.match(/(Presto)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(Trident)\/((\d+)\.(\d+)(?:\.\d+)*)/);e&&(b.Kernel.name=e[1]||"",b.Kernel.version=e[2]||"",b.Kernel.major=parseInt(e[3]),b.Kernel.minor=parseInt(e[4]));b.Kernel.isChrome="Chrome"===b.Kernel.name;b.Kernel.isAppleWebKit=
"AppleWebKit"===b.Kernel.name;b.Kernel.isGecko="Gecko"===b.Kernel.name;b.Kernel.isPresto="Presto"===b.Kernel.name;b.Kernel.isTrident="Trident"===b.Kernel.name})();(function(){var e;(e=f.match(/(MSIE)\s((\d+)\.(\d+))/)||f.match(/(Trident)\/.+rv:((11)\.(\d+))/i)||f.match(/(Firefox)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(OPR|OPiOS|Opera\sMini)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(UCBrowser)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(Edg|Edge|EdgA)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(MicroMessenger)\/((\d+)\.(\d+)(?:\.\d+)*)/)||
f.match(/(QQ)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/([M]?QQBrowser)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(MetaSr|SogouMobileBrowser)[\s\/]((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(QihooBrowser|360browser)(?:\/((\d+)\.(\d+)(?:\.\d+)*))?/)||a())||(e=b.OS.isAndroid||a()||!f.match(/Safari/)?null:(e=f.match(/Version\/((\d+)\.(\d+)(?:\.\d+)*)/))?["Safari/"+e[1],"Safari"].concat(e.slice(1)):null);if(e=e||f.match(/\s([a-z\d]+Browser)\/((\d+)\.(\d+)(?:\.\d+)*)/i)||f.match(/\s([a-z\d]+)\/((\d+)\.(\d+)(?:\.\d+)*)$/i))b.Browser.name=
e[1]||"",b.Browser.version=e[2]||"",b.Browser.major=parseInt(e[3]),b.Browser.minor=parseInt(e[4]);b.Browser.isMSIE="MSIE"===b.Browser.name;b.Browser.isIE8="MSIE"===b.Browser.name&&8===b.Browser.major;b.Browser.isIE9="MSIE"===b.Browser.name&&9===b.Browser.major;b.Browser.isIE10="MSIE"===b.Browser.name&&10===b.Browser.major;b.Browser.isIE11="Trident"===b.Browser.name;b.Browser.isIE=b.Browser.isMSIE||b.Browser.isIE11;b.Browser.isFirefox="Firefox"===b.Browser.name;b.Browser.isOpera="OPR"===b.Browser.name||
"OPiOS"===b.Browser.name||"Opera Mini"===b.Browser.name;b.Browser.isUCBrowser="UCBrowser"===b.Browser.name;b.Browser.isEdg="Edg"===b.Browser.name;b.Browser.isEdge="Edge"===b.Browser.name;b.Browser.isEdgA="EdgA"===b.Browser.name;b.Browser.isWeChat="MicroMessenger"===b.Browser.name;b.Browser.isQQ="QQ"===b.Browser.name;b.Browser.isQQBrowser="QQBrowser"===b.Browser.name||"MQQBrowser"===b.Browser.name;b.Browser.isSogou="MetaSr"===b.Browser.name||"SogouMobileBrowser"===b.Browser.name;b.Browser.is360="QihooBrowser"===
b.Browser.name;b.Browser.isChrome="Chrome"===b.Browser.name;b.Browser.isCriOS="CriOS"===b.Browser.name;b.Browser.isSafari="Safari"===b.Browser.name;b.Browser.flash=d()})()};c.OS=d.OS;c.Kernel=d.Kernel;c.Browser=d.Browser})(playease);
(function(c){var d=c.utils;d.crypt={stringToByteArray:function(a){for(var d=[],e=0,b=0;b<a.length;b++){for(var f=a.charCodeAt(b);255<f;)d[e++]=f&255,f>>=8;d[e++]=f}return d},byteArrayToString:function(a){if(8192>=a.length)return String.fromCharCode.apply(null,a);for(var d="",e=0;e<a.length;e+=8192){var b=Array.slice(a,e,e+8192);d+=String.fromCharCode.apply(null,b)}return d},byteArrayToHex:function(a){return Array.map(a,function(a){return d.padStart(a.toString(16),2,0)}).join("")},hexToByteArray:function(a){if(0!==
a.length%2)return d.error("Key string length must be multiple of 2."),null;for(var c=[],e=0;e<a.length;e+=2)c.push(parseInt(a.substring(e,e+2),16));return c},stringToUTF8ByteArray:function(a){for(var d=[],e=0,b=0;b<a.length;b++){var f=a.charCodeAt(b);128>f?d[e++]=f:(2048>f?d[e++]=f>>6|192:(55296===(f&64512)&&b+1<a.length&&56320===(a.charCodeAt(b+1)&64512)?(f=65536+((f&1023)<<10)+(a.charCodeAt(++b)&1023),d[e++]=f>>18|240,d[e++]=f>>12&63|128):d[e++]=f>>12|224,d[e++]=f>>6&63|128),d[e++]=f&63|128)}return d},
UTF8ByteArrayToString:function(a){for(var d=[],e=0,b=0;e<a.length;){var f=a[e++];if(128>f)d[b++]=String.fromCharCode(f);else if(191<f&&224>f){var c=a[e++];d[b++]=String.fromCharCode((f&31)<<6|c&63)}else if(239<f&&365>f){c=a[e++];var g=a[e++],r=a[e++];f=((f&7)<<18|(c&63)<<12|(g&63)<<6|r&63)-65536;d[b++]=String.fromCharCode(55296+(f>>10));d[b++]=String.fromCharCode(56320+(f&1023))}else c=a[e++],g=a[e++],d[b++]=String.fromCharCode((f&15)<<12|(c&63)<<6|g&63)}return d.join("")},XORByteArray:function(a,
c){if(a.length!==c.length)d.error("XOR array lengths must match.");else{for(var e=[],b=0;b<a.length;b++)e.push(a[b]^c[b]);return e}}}})(playease);
(function(c){function d(b,d){e||(e=a());var f="";l.foreach(d,function(a,b){f+=a+": "+b+"; "});try{e.insertRule?e.insertRule(b+" { "+f+"}",e.cssRules.length):e.addRule(b,f,e.rules.length)}catch(g){l.error("Failed to insert css rule: "+b)}}function a(){var a=document.createElement("style");a.type="text/css";document.getElementsByTagName("head")[0].appendChild(a);return a.sheet||a.styleSheet}var l=c.utils,e;d.style=function(a,e,d){if(void 0!==a&&null!==a)for(void 0===a.length&&(a=[a]),e=l.extendz({},
e),d=0;d<a.length;d++){var b=a[d];void 0!==b&&null!==b&&l.forEach(e,function(a,e){a=a.split("-");for(var h=1;h<a.length;h++)a[h]=a[h].charAt(0).toUpperCase()+a[h].slice(1);a=a.join("");b.style[a]!==e&&(b.style[a]=e)})}};l.css=d})(playease);
(function(c){c=c.utils;c.LITTLE_ENDIAN=function(){try{var d=new ArrayBuffer(2);(new DataView(d)).setInt16(0,256,!0);var a=new Int16Array(d)}catch(l){}return a&&256===a[0]}();c.getUint32=function(d,a,c){void 0===a&&(a=0);return c?d[a+0]|d[a+1]>>>8|d[a+2]>>>16|d[a+3]>>>24:d[a+0]<<24|d[a+1]<<16|d[a+2]<<8|d[a+3]}})(playease);
(function(c){function d(e){var b=this,d,c,g,r;b.append=function(a){h.push(a)};b.save=function(a){a||(a=b.config.filename);d=new Blob(h,{type:b.config.type});c=URL.createObjectURL(d);g=document.createEvent("MouseEvents");g.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null);r=document.createElementNS("http://www.w3.org/1999/xhtml","a");r.href=c;r.download=a;r.dispatchEvent(g);h=[];URL.revokeObjectURL(c)};b.config=a.extendz({},l,e);var h=[]}var a=c.utils,l={filename:"sample.fragmented.mp4",
type:"video/mpeg"};d.prototype.CONF=l;a.FileKeeper=d})(playease);
(function(c){function d(d){a.call(this,d);var e=this;e.ReadUE=function(){for(var a=-1,d=0;0===d&&0<e.Left();a++)d=e.ReadBits(1);return(1<<a>>>0)-1+e.ReadBitsLong(a)};e.ReadSE=function(){var a=e.ReadUE();return 0===(a&1)?-(a>>>1):a+1>>>1}}c=c.utils;var a=c.BitStream;d.prototype=Object.create(a.prototype);d.prototype.constructor=d;c.ebsp2rbsp=function(a){var e=2,b=a.byteLength,d=new Uint8Array(b);d[0]=a[0];d[1]=a[1];for(var c=2;c<b;c++)if(3!==a[c]||0!==a[c-1]||0!==a[c-2])d[e]=a[c],e++;return d.subarray(0,
e)};c.Golomb=d})(playease);
(function(c){var d=/^(([a-z]+:)\/\/(([-a-z\d\.]+)(?::(\d+))?))((?:\/[-_a-z\d\s\.]*)*)([?#][-_=%&a-z\d\s\.]+)?$/i;c.utils.URL=function(a){var c=this;c.parse=function(a){c.href=a;!1===/^([a-z]+):\/\//.test(a)&&(c.href=window.location.origin+("/"===a.substr(0,1)?"":"/")+a);var b=c.href.match(d);if(null===b)throw{name:"SyntaxError",message:"The URL did not match the expected pattern, url="+a+"."};c.origin=b[1];c.protocol=b[2];c.host=b[3];c.hostname=b[4];c.port=b[5]||"";c.pathname=b[6]||"";if(a=c.pathname.match(/\/([-_a-z\d\s\(\)\[\]\{\}]+)(?:\.([a-z\d]+))?$/))c.filename=
a[1],c.filetype=a[2];b[7]&&("?"===b[7].substr(0,1)?c.search=b[7]:c.hash=b[7])};c.href="";c.origin="";c.protocol="";c.host="";c.hostname="";c.port="";c.pathname="";c.filename="";c.filetype="";c.search="";c.hash="";a&&c.parse(a)}})(playease);
(function(c){function d(b){function d(b,e){var h={};if(b.nodeType===l.DOCUMENT_NODE){for(var f=0;f<b.childNodes.length;f++){var g=b.childNodes[f],q=g.localName||g.baseName||g.nodeName;g.nodeType===l.ELEMENT_NODE&&(g=d(g),g.parent=h,c.config.ignoreRoot?(delete g.parent,h=g):h[q]=g)}return h}if(b.nodeType===l.ELEMENT_NODE){for(f=0;f<b.childNodes.length;f++)if(g=b.childNodes[f],q=g.localName||g.baseName||g.nodeName,g.nodeType!==l.COMMENT_NODE)if(g=d(g,e+"."+q),g.parent=h,h.hasOwnProperty(q))"array"!=
a.typeOf(h[q])&&(h[q]=[h[q]]),h[q].push(g);else if("#text"!=q||/[^\s]/.test(g))h[q]=g;q=b.localName||b.baseName||b.nodeName;null!=b.prefix&&""!=b.prefix&&(q=b.prefix+":"+q);for(f=0;f<b.attributes.length;f++){e=b.attributes[f];g=e.value;for(var n=0;n<c.config.matchers.length;n++){var m=c.config.matchers[n];m.test(e,q)&&(g=m.exec(e.value));h[c.config.attributePrefix+e.name]=g}}null!=h["#text"]&&c.config.trimWhitespaces&&(h["#text"]=h["#text"].trim());h.toString=function(){return(null==h["#text"]?"":
h["#text"])+(null==h["#cdata-section"]?"":h["#cdata-section"])};return h}if(b.nodeType===l.TEXT_NODE||b.nodeType===l.CDATA_SECTION_NODE)return b.nodeValue}var c=this;c.parse=function(b){if(window.DOMParser){var e=new DOMParser;try{var h=e.parseFromString(b,"text/xml")}catch(k){return a.error("Failed to parse XML structure."),null}}else 0===b.indexOf("<?")&&(b=b.substr(b.indexOf("?>")+2)),h=new ActiveXObject("Microsoft.XMLDOM"),h.async="false",h.loadXML(b);return d(h)};c.config=a.extendz({},e,b)}var a=
c.utils,l={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9},e={ignoreRoot:!0,trimWhitespaces:!1,attributePrefix:"@",matchers:[]};d.prototype.CONF=e;a.XML2JSON=d})(playease);
(function(c){var d=c.utils;d.MPD=function(a){function c(a,b){if(a)for(var e=0;e<a.AdaptationSet.length;e++){var d=a.AdaptationSet[e];if(d.hasOwnProperty("@id")){if(d["@id"]===b["@id"])return d}else if(d.hasOwnProperty("@contentType")){if(d["@contentType"]===b["@contentType"])return d}else if(d.hasOwnProperty("@mimeType")){if(d["@mimeType"]===b["@mimeType"])return d}else if(d.hasOwnProperty("@codecs")){if(d["@codecs"]===b["@codecs"])return d}else break}}var e,b,f;this.update=function(a){b=p;a.Location&&
a.Location["#text"]&&(b=a.Location["#text"]);f=a.BaseURL||b.substring(0,b.lastIndexOf("/")+1);if("dynamic"===a["@type"]){var g=e,h=0,k=NaN;"array"!=d.typeOf(a.Period)&&(a.Period=[a.Period]);for(var B=0;B<a.Period.length;B++){var q=a.Period[B];q.hasOwnProperty("@start")?h=q["@start"]:isNaN(k)?0===B&&"dynamic"!==a["@type"]&&(h=0):h+=k;q.hasOwnProperty("@duration")&&(k=q["@duration"]);q["@start"]=h;q["@duration"]=k;a:{var n=g;var m=q;if(n)for(var t=0;t<n.Period.length;t++){var w=n.Period[t];if(w.hasOwnProperty("@id")){if(w["@id"]===
m["@id"]){n=w;break a}}else if(w.hasOwnProperty("@start")){if(w["@start"]===m["@start"]){n=w;break a}}else{n=w;break a}}n=void 0}"array"!=d.typeOf(q.AdaptationSet)&&(q.AdaptationSet=[q.AdaptationSet]);for(m=0;m<q.AdaptationSet.length;m++){t=q.AdaptationSet[m];w=c(n,t);var x=w,G=w=0,l=[];if(!1!==t.SegmentTemplate.hasOwnProperty("SegmentTimeline")){if(x){var I=x.SegmentTemplate.SegmentTimeline;"array"!=d.typeOf(I.S)&&(I.S=[I.S]);for(x=0;x<I.S.length;x++){var D=I.S[x];0===x&&D.hasOwnProperty("@t")&&
(w=D["@t"]);w+=D["@d"];D["@r"]&&(w+=D["@d"]*D["@r"]);l.push(d.extendz({},D))}}t=t.SegmentTemplate.SegmentTimeline;"array"!=d.typeOf(t.S)&&(t.S=t.S?[t.S]:[]);for(x=0;x<t.S.length;x++)D=t.S[x],0===x&&D.hasOwnProperty("@t")&&(G=D["@t"]),G>=w&&l.push(D),G+=D["@d"],D["@r"]&&(G+=D["@d"]*D["@r"])}}}}e=a};this.getSegmentInfo=function(a,b,h,c,B,q){for(var g=e.Period[0],k=0;k<e.Period.length;k++){var t=e.Period[k];if(t.hasOwnProperty("@start"))t["@start"]>g["@start"]&&t["@start"]<=a&&(g=t);else break}a=g;a:{for(g=
0;g<a.AdaptationSet.length;g++)if(k=a.AdaptationSet[g],k.hasOwnProperty("@contentType")){if(k["@contentType"]===b){b=k;break a}}else if(k.hasOwnProperty("@mimeType")&&(t=k["@mimeType"].match(/^([a-z]+)\/[a-z0-9]+/i))&&1<t.length&&t[1]===b){b=k;break a}b=void 0}if(b){g=b;"array"!=d.typeOf(g.Representation)&&(g.Representation=[g.Representation]);k=g.Representation[0];for(t=0;t<g.Representation.length;t++){var w=g.Representation[t];w["@bandwidth"]>k["@bandwidth"]&&(!q||w["@bandwidth"]<=q)&&(k=w)}if(q=
k){t=b.SegmentTemplate;g=t[h?"@initialization":"@media"];k=t["@timescale"]||1;var x=t["@duration"]||0;g=g.replace(/\$RepresentationID\$/,q["@id"]);if(t["@media"].search(/\$Time\$/))if(w=t.SegmentTimeline,h)if(0<c||0===c&&!1===e.hasOwnProperty("@suggestedPresentationDelay"))w.S.length&&(c=w.S[0]["@t"]);else{var r=Math.abs(r)||e["@suggestedPresentationDelay"];a:{var l=r*k;for(r=w.S.length-1;0<=r;r--){var p=w.S[r];l-=p["@d"]*(p["@r"]||1);if(0>=l){l=w.S[0]["@t"];for(var D=0;D<r;D++)l+=w.S[D]["@d"],p["@r"]&&
(l+=p["@d"]*p["@r"]);p["@t"]=l;r=p;break a}}r=w.S[0]}r&&(c=r["@t"],x=r["@d"])}else{a:{for(r=NaN;w.S.length;){x=w.S.shift();isNaN(r)&&(r=x["@t"]||0);if(r+x["@d"]*(x["@r"]||0)>=c){x["@t"]=r;w.S.length&&(w.S[0]["@t"]=x["@t"]+x["@d"]);r=x;break a}r+=x["@d"];x["@r"]&&(r+=x["@d"]*x["@r"])}r=void 0}if(void 0===r)return;c=r["@t"];x=r["@d"];g=g.replace(/\$Time\$/,c)}t["@media"].search(/\$Number\$/)&&(h?B=t["@startNumber"]:g=g.replace(/\$Number\$/,B));h=q.baseURL||b.baseURL||a.baseURL;g=(h?h["#text"]:f)+g;
return{mimeType:q["@mimeType"]||b["@mimeType"],codecs:q["@codecs"]||b["@codecs"],index:B,start:c,duration:x,timescale:k,url:g}}}};this.getLocation=function(){return b};var p=a||""}})(playease);(function(c){c.utils.MPD.matchers={}})(playease);
(function(c){var d=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;c.utils.MPD.matchers.datetime=function(){this.test=function(a){return d.test(a.value)};this.exec=function(a){a=d.exec(a);var c=Date.UTC(parseInt(a[1],10),parseInt(a[2],10)-1,parseInt(a[3],10),parseInt(a[4],10),parseInt(a[5],10),a[6]&&parseInt(a[6],10)||0,a[7]&&1E3*parseFloat(a[7])||0);if(a[9]&&a[10]){var e=60*parseInt(a[9],10)+parseInt(a[10],10);c+=("+"===a[8]?
-1:1)*e*6E4}return new Date(c)}}})(playease);
(function(c){var d=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,a="minBufferTime mediaPresentationDuration minimumUpdatePeriod timeShiftBufferDepth maxSegmentDuration maxSubsegmentDuration suggestedPresentationDelay start starttime duration".split(" ");c.utils.MPD.matchers.duration=function(){this.test=function(c){for(var e=0;e<a.length;e++)if((c.localName||c.baseName||c.nodeName)===a[e])return d.test(c.value);return!1};this.exec=function(a){a=d.exec(a);var e=
31536E3*parseFloat(a[2]||0)+2592E3*parseFloat(a[4]||0)+86400*parseFloat(a[6]||0)+3600*parseFloat(a[8]||0)+60*parseFloat(a[10]||0)+parseFloat(a[12]||0);void 0!==a[1]&&(e*=-1);return e}}})(playease);(function(c){var d=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;c.utils.MPD.matchers.numeric=function(){this.test=function(a){return d.test(a.value)};this.exec=function(a){return parseFloat(a)}}})(playease);
(function(c){var d={MPD:["id","profiles"],Period:["id"],BaseURL:["serviceLocation","byteRange"],SegmentBase:["indexRange"],Initialization:["range"],RepresentationIndex:["range"],SegmentList:["indexRange"],BitstreamSwitching:["range"],SegmentURL:["mediaRange","indexRange"],SegmentTemplate:["indexRange","media","index","initialization","bitstreamSwitching"],AssetIdentifier:["value","id"],EventStream:["value"],AdaptationSet:["profiles","mimeType","segmentProfiles","codecs","contentType"],FramePacking:["value",
"id"],AudioChannelConfiguration:["value","id"],ContentProtection:["value","id"],EssentialProperty:["value","id"],SupplementalProperty:["value","id"],InbandEventStream:["value","id"],Accessibility:["value","id"],Role:["value","id"],Rating:["value","id"],Viewpoint:["value","id"],ContentComponent:["contentType"],Representation:["id","dependencyId","mediaStreamStructureId"],Subset:["id"],Metrics:["metrics"],Reporting:["value","id"]};c.utils.MPD.matchers.string=function(){this.test=function(a,c){return d.hasOwnProperty(c)&&
(c=d[c],void 0!==c)?0<=c.indexOf(a.name):!1};this.exec=function(a){return String(a)}}})(playease);
(function(c){c.events={Event:{BIND:"bind",READY:"ready",PLAY:"play",WAITING:"waiting",DURATIONCHANGE:"durationchange",LOADEDMETADATA:"loadedmetadata",LOADEDDATA:"loadeddata",CANPLAY:"canplay",PLAYING:"playing",CANPLAYTHROUGH:"canplaythrough",PAUSE:"pause",SEEKING:"seeking",SEEKED:"seeked",SWITCHING:"switching",SWITCHED:"switched",RATECHANGE:"ratechange",TIMEUPDATE:"timeupdate",VOLUMECHANGE:"volumechange",ENDED:"ended",ERROR:"error"},IOEvent:{SUSPEND:"suspend",LOADSTART:"loadstart",STALLED:"stalled",
ABORT:"abort",TIMEOUT:"timeout",PROGRESS:"progress",LOAD:"load",LOADEND:"loadend"},UIEvent:{SHOOTING:"shooting",FULLPAGE:"fullpage",FULLSCREEN:"fullscreen",RESIZE:"resize"},GlobalEvent:{CHANGE:"change"},MouseEvent:{CLICK:"click",DOUBLE_CLICK:"doubleclick",MOUSE_MOVE:"mousemove"},KeyboardEvent:{KEY_DOWN:"key-down",KEY_UP:"key-up"},TimerEvent:{TIMER:"timer",COMPLETE:"complete"},MediaEvent:{PACKET:"packet",AAC_SPECIFIC_CONFIG:"aac-specific-config",AAC_SAMPLE:"aac-sample",AVC_CONFIG_RECORD:"avc-config-record",
AVC_SAMPLE:"avc-sample",END_OF_STREAM:"end-of-stream",FLV_INFO_FRAME:"flv-info-frame",FLV_FRAME:"flv-frame",MP4_INIT_SEGMENT:"mp4-init-segment",MP4_SEGMENT:"mp4-segment"},MediaStreamTrackEvent:{ADDTRACK:"addtrack",REMOVETRACK:"removetrack"}}})(playease);
(function(c){var d=c.utils;c.events.EventDispatcher=function(a){function l(a,b){if(a)for(var e=a.slice(0),c=0;c<e.length;c++){var f=e[c];if(f){isNaN(f.count)||0!==--f.count||a.splice(c,1);try{if(f.listener(b),b.stopPropagation)break}catch(q){d.error("Error handling event:",b,q.toString())}}}}var e=this,b=Array.prototype.slice.call(arguments,1);e.bind=function(){var a=Array.prototype.slice.call(arguments,0);d.forEach(a,function(a,b){d.forEach(b,function(a,b){a="on"+b.replace(/-/g,"");e[a]=void 0})})};
e.addEventListener=function(a,b,e){try{f[a]||(f[a]=[]),"string"===d.typeOf(b)&&(b=(new Function("return "+b))()),f[a].push({listener:b,count:e||NaN})}catch(k){d.error("Failed to addEventListener("+a+"):",k)}};e.removeEventListener=function(a,b){if(f[a])try{if(void 0===b)delete f[a];else for(var e=0;e<f[a].length;e++)if(f[a][e].listener.toString()===b.toString()){f[a].splice(e,1);break}}catch(k){d.error("Failed to removeEventListener("+a+"):",k)}};e.hasEventListener=function(a){return f.hasOwnProperty(a)&&
0<f[a].length};e.addGlobalListener=function(a,b){try{"string"===d.typeOf(a)&&(a=(new Function("return "+a))()),p.push({listener:a,count:b||NaN})}catch(h){d.error("Failed to addGlobalListener():",h)}};e.removeGlobalListener=function(a){if(a)try{for(var b=0;b<p.length;b++)if(p[b].listener.toString()===a.toString()){p.splice(b,1);break}}catch(h){d.error("Failed to removeGlobalListener():",h)}};e.dispatchEvent=function(a,b){e.forward({type:a,data:b||{},srcElement:e,version:c.VERSION})};e.forward=function(a){a.target=
e;a.stopPropagation=!1;c.DEBUG&&d.log(a);var b="on"+a.type.replace(/-/g,"");if("function"===d.typeOf(e[b]))e[b](a);else l(f[a.type],a),l(p,a)};var f={};var p=[];e.bind.apply(e,b)}})(playease);
(function(c){function d(a,d){function b(){h++;c.dispatchEvent(e.TIMER);0<c.repeatCount&&h>=c.repeatCount&&(c.stop(),c.dispatchEvent(e.COMPLETE))}l.call(this,"Timer",[e.TIMER,e.COMPLETE]);var c=this,f,h=0,k=!1;c.start=function(){!1===k&&(f=setInterval(b,c.delay),k=!0)};c.stop=function(){k&&(clearInterval(f),f=0,k=!1)};c.reset=function(){c.stop();h=0};c.currentCount=function(){return h};c.running=function(){return k};c.delay=a||50;c.repeatCount=d||0}var a=c.utils;c=c.events;var l=c.EventDispatcher,
e=c.TimerEvent;d.prototype=Object.create(l.prototype);d.prototype.constructor=d;a.Timer=d})(playease);
(function(c){var d=c.utils,a={},l=[];a.register=function(e,b){try{l.splice(b||l.length,0,e),a[e.prototype.kind]=e}catch(f){d.error("Failed to register loader "+e.prototype.kind+", Error="+f.message)}};a.get=function(a,b){for(var e=0;e<l.length;e++){var d=l[e];if(d.prototype.isSupported(a,b))return d}return null};a.Mode={CORS:"cors",NO_CORS:"no-cors",SAME_ORIGIN:"same-origin"};a.Credentials={OMIT:"omit",INCLUDE:"include",SAME_ORIGIN:"same-origin"};a.Cache={DEFAULT:"default",NO_STAORE:"no-store",RELOAD:"reload",
NO_CACHE:"no-cache",FORCE_CACHE:"force-cache",ONLY_IF_CACHED:"only-if-cached"};a.Redirect={FOLLOW:"follow",MANUAL:"manual",ERROR:"error"};a.ResponseType={ARRAYBUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};a.ReadyState={UNINITIALIZED:0,OPEN:1,SENT:2,LOADING:3,DONE:4};c.io=a.get;c.IO=a})(playease);
(function(c){function d(d){function c(e){return e.read().then(function(d){if(d.done)return a.debug("Loader load"),B=f.DONE,g.dispatchEvent(b.LOAD),g.dispatchEvent(b.LOADEND),Promise.resolve("load");switch(B){case f.SENT:B=f.LOADING;break;case f.DONE:return a.warn("Loader state error, probably aborted already."),e.cancel()}a.debug("Loader progress: "+d.value.buffer.byteLength+"/"+q);g.dispatchEvent(b.PROGRESS,{buffer:d.value.buffer,loaded:d.value.buffer.byteLength,total:q});return c(e)})["catch"](h)}
function h(e){B=f.DONE;switch(e.name){case "AbortError":a.warn("Loader "+e.name+": "+e.message);g.dispatchEvent(b.ABORT,{name:e.name,message:e.message});break;case "TimeoutError":a.error("Loader "+e.name+": "+e.message);g.dispatchEvent(b.TIMEOUT,{name:e.name,message:e.message});break;default:a.error("Loader "+e.name+": "+e.message),g.dispatchEvent(b.STALLED,{name:e.name,message:e.message})}g.dispatchEvent(b.LOADEND)}e.call(this,"Fetch",b);var g=this,B;g.load=function(e,d,w){B=f.UNINITIALIZED;g.isSupported(e)?
(a.debug("Loader loadstart"),g.dispatchEvent(b.LOADSTART),B=f.OPEN,void 0!==d&&a.extendz(g.config.headers,{Range:"bytes="+d+"-"+(w||"")}),d=a.extendz({},g.config,{headers:new Headers(g.config.headers),signal:n.signal}),fetch(e.href,d).then(function(b){switch(B){case f.OPEN:B=f.SENT;break;default:a.warn("Loader state error, probably aborted already.")}if(!b.ok||200>b.status||299<b.status)return Promise.reject(Error(b.status+" "+b.statusText));var e=b.headers.get("Content-Length");e&&(e=parseInt(e));
if(206===b.status){var d=b.headers.get("Content-Range");d&&(d=d.match(/bytes (\d*)\-(\d*)\/(\d+)/i))&&(e=parseInt(d[3]))}q!==e&&(q=e||Infinity,a.log("File size changed: "+q));return c(b.body.getReader())})["catch"](h)):(a.error("Loader suspend: not supportped"),B=f.DONE,g.dispatchEvent(b.SUSPEND,{name:"NotSupportedError",message:"Not supportped."}),g.dispatchEvent(b.LOADEND))};g.abort=function(){n.abort()};g.state=function(){return B};g.config=a.extendz({},p,d);var q=NaN;var n=new AbortController}
var a=c.utils,l=c.events,e=l.EventDispatcher,b=l.IOEvent;c=c.IO;var f=c.ReadyState,p={method:"GET",headers:{},mode:c.Mode.CORS,credentials:c.Credentials.OMIT,cache:c.Cache.DEFAULT,redirect:c.Redirect.FOLLOW};d.prototype=Object.create(e.prototype);d.prototype.constructor=d;d.prototype.kind="Fetch";d.prototype.CONF=p;d.prototype.isSupported=function(a,b){return b&&"live"!==b?!1:!!fetch&&("http:"===a.protocol||"https:"===a.protocol)};c.register(d)})(playease);
(function(c){function d(e){b.call(this,"MozStream",f);var d=this,h;d.load=function(b,e,c){h=g.UNINITIALIZED;if(d.isSupported(b)){a.debug("Loader loadstart");d.dispatchEvent(f.LOADSTART);n.open(d.config.method,b.href,!0);void 0!==e&&a.extendz(d.config.headers,{Range:"bytes="+e+"-"+(c||"")});a.forEach(d.config.headers,function(a,b){n.setRequestHeader(a,b)});switch(d.config.credentials){case p.INCLUDE:n.withCredentials=!0;break;case p.SAME_ORIGIN:n.withCredentials=window.location.host===b.host;break;
default:n.withCredentials=!1}n.send()}else a.error("Loader suspend: not supportped"),h=g.DONE,d.dispatchEvent(f.SUSPEND,{name:"NotSupportedError",message:"Not supportped."}),d.dispatchEvent(f.LOADEND)};d.abort=function(){n.abort()};d.state=function(){return h};d.config=a.extendz({},r,e);var c=NaN;var n=new XMLHttpRequest;n.onreadystatechange=function(b){h=n.readyState;switch(h){case g.SENT:if(200>n.status||299<n.status)a.error("Loader stalled: "+n.status+" "+n.statusText),d.dispatchEvent(f.STALLED,
{name:"NetworkError",message:n.status+" "+n.statusText});else{(b=n.getResponseHeader("Content-Length"))&&(b=parseInt(b));if(206===n.status){var e=n.getResponseHeader("Content-Range");e&&(e=e.match(/bytes (\d*)\-(\d*)\/(\d+)/i))&&(b=parseInt(e[3]))}c!==b&&(c=b||Infinity,a.log("File size changed: "+c))}}};n.onabort=function(b){a.warn("Loader AbortError: The operation was aborted.");d.dispatchEvent(f.ABORT,{name:"AbortError",message:"The operation was aborted."})};n.onprogress=function(b){a.debug("Loader progress: "+
n.response.byteLength+"/"+c);d.dispatchEvent(f.PROGRESS,{buffer:n.response,loaded:n.response.byteLength,total:c})};n.onload=function(b){a.debug("Loader load.");d.dispatchEvent(f.LOAD)};n.onerror=function(b){a.error("Loader "+b.name+": "+b.message);switch(b.name){case "TimeoutError":d.dispatchEvent(f.TIMEOUT,{name:b.name,message:b.message});break;default:d.dispatchEvent(f.STALLED,{name:b.name,message:b.message})}};n.onloadend=function(a){d.dispatchEvent(f.LOADEND)};n.responseType="moz-chunked-arraybuffer"}
var a=c.utils,l=c.Browser,e=c.events,b=e.EventDispatcher,f=e.IOEvent;c=c.IO;var p=c.Credentials,g=c.ReadyState,r={method:"GET",headers:{},mode:c.Mode.CORS,credentials:p.OMIT,cache:c.Cache.DEFAULT,redirect:c.Redirect.FOLLOW};d.prototype=Object.create(b.prototype);d.prototype.constructor=d;d.prototype.kind="MozStream";d.prototype.CONF=r;d.prototype.isSupported=function(a,b){return b&&"live"!==b||l.isFirefox&&(14>l.major||67<l.major)?!1:"http:"===a.protocol||"https:"===a.protocol};c.register(d)})(playease);
(function(c){function d(e){function d(b){a.error("Loader "+b.name+": "+b.message);switch(b.name){case "TimeoutError":h.dispatchEvent(f.TIMEOUT,{name:b.name,message:b.message});break;default:h.dispatchEvent(f.STALLED,{name:b.name,message:b.message})}}b.call(this,"MSStream",f);var h=this,c;h.load=function(b,e,d){c=g.UNINITIALIZED;t.position=0;if(h.isSupported(b)){a.debug("Loader loadstart");h.dispatchEvent(f.LOADSTART);m.open(h.config.method,b.href,!0);void 0!==e&&a.extendz(h.config.headers,{Range:"bytes="+
e+"-"+(d||"")});a.forEach(h.config.headers,function(a,b){m.setRequestHeader(a,b)});switch(h.config.credentials){case p.INCLUDE:m.withCredentials=!0;break;case p.SAME_ORIGIN:m.withCredentials=window.location.host===b.host;break;default:m.withCredentials=!1}m.send()}else a.error("Loader suspend: not supportped"),c=g.DONE,h.dispatchEvent(f.SUSPEND,{name:"NotSupportedError",message:"Not supportped."}),h.dispatchEvent(f.LOADEND)};h.abort=function(){m.abort()};h.state=function(){return c};h.config=a.extendz({},
r,e);var n=NaN;var m=new XMLHttpRequest;m.onreadystatechange=function(b){c=m.readyState;switch(c){case g.SENT:if(200>m.status||299<m.status){a.error("Loader stalled: "+m.status+" "+m.statusText);h.dispatchEvent(f.STALLED,{name:"NetworkError",message:m.status+" "+m.statusText});break}(b=m.getResponseHeader("Content-Length"))&&(b=parseInt(b));if(206===m.status){var e=m.getResponseHeader("Content-Range");e&&(e=e.match(/bytes (\d*)\-(\d*)\/(\d+)/i))&&(b=parseInt(e[3]))}n!==b&&(n=b||Infinity,a.log("File size changed: "+
n));break;case g.LOADING:200>m.status||299<m.status?(a.error("Loader stalled: "+m.status+" "+m.statusText),h.dispatchEvent(f.STALLED,{name:"NetworkError",message:m.status+" "+m.statusText})):t.readAsArrayBuffer(m.response)}};m.onabort=function(b){a.warn("Loader AbortError: The operation was aborted.");h.dispatchEvent(f.ABORT,{name:"AbortError",message:"The operation was aborted."})};m.onerror=d;m.onloadend=function(a){h.dispatchEvent(f.LOADEND)};m.responseType="ms-stream";var t=new MSStreamReader;
t.onprogress=function(b){b=t.result.slice(t.position);null==b?a.warn("What happend???"):(a.debug("Loader progress: "+b.byteLength+"/"+n),h.dispatchEvent(f.PROGRESS,{buffer:b,loaded:b.byteLength,total:n}),t.position=t.result.byteLength)};t.onload=function(b){a.debug("Loader load.");h.dispatchEvent(f.LOAD)};t.onerror=d}var a=c.utils,l=c.Browser,e=c.events,b=e.EventDispatcher,f=e.IOEvent;c=c.IO;var p=c.Credentials,g=c.ReadyState,r={method:"GET",headers:{},mode:c.Mode.CORS,credentials:p.OMIT,cache:c.Cache.DEFAULT,
redirect:c.Redirect.FOLLOW};d.prototype=Object.create(b.prototype);d.prototype.constructor=d;d.prototype.kind="MSStream";d.prototype.CONF=r;d.prototype.isSupported=function(a,b){return b&&"live"!==b||!l.isIE10&&!l.isIE11&&!l.isEdge?!1:"http:"===a.protocol||"https:"===a.protocol};c.register(d)})(playease);
(function(c){function d(d){function c(b){n=f.SENT;a.log("File size changed: Infinity")}function h(e){a.debug("Loader progress: "+e.data.byteLength+"/Infinity");n===f.SENT&&(n=f.LOADING);q.dispatchEvent(b.PROGRESS,{buffer:e.data,loaded:e.data.byteLength,total:Infinity})}function g(a){switch(a.name){case "TimeoutError":q.dispatchEvent(b.TIMEOUT,{name:a.name,message:a.message});break;default:q.dispatchEvent(b.STALLED,{name:a.name,message:a.message})}}function B(e){a.debug("Loader load.");n=f.DONE;q.dispatchEvent(b.LOAD);
q.dispatchEvent(b.LOADEND)}e.call(this,"Websocket",b);var q=this,n,m;q.load=function(e,d,k){n=f.UNINITIALIZED;q.isSupported(e)?(a.debug("Loader loadstart"),q.dispatchEvent(b.LOADSTART),n=f.OPEN,m=new window.WebSocket(e.href),m.onopen=c,m.onmessage=h,m.onerror=g,m.onclose=B,m.binaryType="arraybuffer"):(a.error("Loader suspend: not supportped"),n=f.DONE,q.dispatchEvent(b.SUSPEND,{name:"NotSupportedError",message:"Not supportped."}),q.dispatchEvent(b.LOADEND))};q.abort=function(){!m||m.readyState!=WebSocket.CONNECTING&&
m.readyState!=WebSocket.OPEN||(m.close(),a.warn("Loader AbortError: The operation was aborted."),q.dispatchEvent(b.ABORT,{name:"AbortError",message:"The operation was aborted."}))};q.state=function(){return n};q.config=a.extendz({},p,d);window.WebSocket=window.WebSocket||window.MozWebSocket}var a=c.utils,l=c.events,e=l.EventDispatcher,b=l.IOEvent;c=c.IO;var f=c.ReadyState,p={method:"GET",headers:{},mode:c.Mode.CORS,credentials:c.Credentials.OMIT,cache:c.Cache.DEFAULT,redirect:c.Redirect.FOLLOW};d.prototype=
Object.create(e.prototype);d.prototype.constructor=d;d.prototype.kind="Websocket";d.prototype.CONF=p;d.prototype.isSupported=function(a,b){return b&&"live"!==b?!1:!(!window.WebSocket&&!window.MozWebSocket)&&("ws:"===a.protocol||"wss:"===a.protocol)};c.register(d)})(playease);
(function(c){function d(d){e.call(this,"XHR",b);var h=this,c;h.load=function(e,d,g){c=p.UNINITIALIZED;if(h.isSupported(e)){a.debug("Loader loadstart");h.dispatchEvent(b.LOADSTART);q.open(h.config.method,e.href,!0);void 0!==d&&a.extendz(h.config.headers,{Range:"bytes="+d+"-"+(g||"")});a.forEach(h.config.headers,function(a,b){q.setRequestHeader(a,b)});switch(h.config.credentials){case f.INCLUDE:q.withCredentials=!0;break;case f.SAME_ORIGIN:q.withCredentials=window.location.host===e.host;break;default:q.withCredentials=
!1}q.send()}else a.error("Loader suspend: not supportped"),c=p.DONE,h.dispatchEvent(b.SUSPEND,{name:"NotSupportedError",message:"Not supportped."}),h.dispatchEvent(b.LOADEND)};h.abort=function(){q.abort()};h.state=function(){return c};h.config=a.extendz({},g,d);var r=NaN;var q=new XMLHttpRequest;q.onreadystatechange=function(e){c=q.readyState;switch(c){case p.SENT:if(416!==q.status&&(200>q.status||299<q.status))a.error("Loader stalled: "+q.status+" "+q.statusText),h.dispatchEvent(b.STALLED,{name:"NetworkError",
message:q.status+" "+q.statusText});else{(e=q.getResponseHeader("Content-Length"))&&(e=parseInt(e));if(206===q.status){var d=q.getResponseHeader("Content-Range");d&&(d=d.match(/bytes (\d*)\-(\d*)\/(\d+)/i))&&(e=parseInt(d[3]))}r!==e&&(r=e||Infinity,a.log("File size changed: "+r))}}};q.onabort=function(e){a.warn("Loader AbortError: The operation was aborted.");h.dispatchEvent(b.ABORT,{name:"AbortError",message:"The operation was aborted."})};q.onprogress=function(b){a.debug("Loader progress: "+q.loaded+
"/"+r)};q.onload=function(e){a.debug("Loader load.");h.dispatchEvent(b.PROGRESS,{buffer:q.response,loaded:q.response.byteLength,total:r});h.dispatchEvent(b.LOAD)};q.onerror=function(e){a.error("Loader "+e.name+": "+e.message);switch(e.name){case "TimeoutError":h.dispatchEvent(b.TIMEOUT,{name:e.name,message:e.message});break;default:h.dispatchEvent(b.STALLED,{name:e.name,message:e.message})}};q.onloadend=function(a){h.dispatchEvent(b.LOADEND)};q.responseType=h.config.responseType}var a=c.utils,l=c.events,
e=l.EventDispatcher,b=l.IOEvent;c=c.IO;var f=c.Credentials,p=c.ReadyState,g={method:"GET",headers:{},mode:c.Mode.CORS,credentials:f.OMIT,cache:c.Cache.DEFAULT,redirect:c.Redirect.FOLLOW,responseType:c.ResponseType.ARRAYBUFFER};d.prototype=Object.create(e.prototype);d.prototype.constructor=d;d.prototype.kind="XHR";d.prototype.CONF=g;d.prototype.isSupported=function(a,b){if(b&&"live"===b){b=["flv","",void 0,"mp4","m4s","f4v","m4v","mov"];for(var e=0;e<b.length;e++)if(a.filetype===b[e])return!1}return"http:"===
a.protocol||"https:"===a.protocol};c.register(d)})(playease);
(function(c){function d(a,b){this.Num=a||30;this.Den=b||1}function a(){var a=this;a.left=function(){return null==a.payload?0:a.payload.byteLength-a.position};a.set=function(a,e){b[a]=e};a.get=function(a){return b[a]};var b={};a.kind="";a.codec="";a.length=0;a.timestamp=0;a.streamid=0;a.payload=null;a.position=0}var l={};a.KindAudio="audio";a.KindVideo="video";a.KindScript="script";l.Rational=d;l.Information=function(){this.MimeType="";this.Codecs=[];this.Timescale=1E3;this.BitRate=this.VideoDataRate=
this.AudioDataRate=this.CodecHeight=this.CodecWidth=this.Height=this.Width=this.Size=this.Duration=this.VideoTimestamp=this.AudioTimestamp=this.Timestamp=this.TimeBase=0;this.FrameRate=new d;this.Channels=this.SampleSize=this.SampleRate=0};l.Packet=a;c.AV=l})(playease);
(function(c){var d=c.utils;c=c.AV;var a={},l=[];a.COL_PRI_RESERVED0=0;a.COL_PRI_BT709=1;a.COL_PRI_UNSPECIFIED=2;a.COL_PRI_RESERVED=3;a.COL_PRI_BT470M=4;a.COL_PRI_BT470BG=5;a.COL_PRI_SMPTE170M=6;a.COL_PRI_SMPTE240M=7;a.COL_PRI_FILM=8;a.COL_PRI_BT2020=9;a.COL_PRI_SMPTEST428_1=10;a.COL_PRI_NB=11;a.COL_TRC_RESERVED0=0;a.COL_TRC_BT709=1;a.COL_TRC_UNSPECIFIED=2;a.COL_TRC_RESERVED=3;a.COL_TRC_GAMMA22=4;a.COL_TRC_GAMMA28=5;a.COL_TRC_SMPTE170M=6;a.COL_TRC_SMPTE240M=7;a.COL_TRC_LINEAR=8;a.COL_TRC_LOG=9;a.COL_TRC_LOG_SQRT=
10;a.COL_TRC_IEC61966_2_4=11;a.COL_TRC_BT1361_ECG=12;a.COL_TRC_IEC61966_2_1=13;a.COL_TRC_BT2020_10=14;a.COL_TRC_BT2020_12=15;a.COL_TRC_SMPTEST2084=16;a.COL_TRC_SMPTEST428_1=17;a.COL_TRC_ARIB_STD_B67=18;a.COL_TRC_NB=19;a.COL_SPC_RGB=0;a.COL_SPC_BT709=1;a.COL_SPC_UNSPECIFIED=2;a.COL_SPC_RESERVED=3;a.COL_SPC_FCC=4;a.COL_SPC_BT470BG=5;a.COL_SPC_SMPTE170M=6;a.COL_SPC_SMPTE240M=7;a.COL_SPC_YCOCG=8;a.COL_SPC_YCGCO=8;a.COL_SPC_BT2020_NCL=9;a.COL_SPC_BT2020_CL=10;a.COL_SPC_NB=11;a.COL_RANGE_UNSPECIFIED=0;
a.COL_RANGE_MPEG=1;a.COL_RANGE_JPEG=2;a.COL_RANGE_NB=2;a.CHROMA_LOC_UNSPECIFIED=0;a.CHROMA_LOC_LEFT=1;a.CHROMA_LOC_CENTER=2;a.CHROMA_LOC_TOPLEFT=3;a.CHROMA_LOC_TOP=4;a.CHROMA_LOC_BOTTOMLEFT=5;a.CHROMA_LOC_BOTTOM=6;a.CHROMA_LOC_NB=7;a.register=function(e,b){try{l.splice(b||l.length,0,e),a[e.prototype.kind]=e}catch(f){d.error("Failed to register codec "+e.prototype.kind+", Error="+f.message)}};a.get=function(a){for(var b=0;b<l.length;b++){var e=l[b];if(e.prototype.kind===a)return e}return null};c.codec=
a.get;c.Codec=a})(playease);
(function(c){function d(e){b.call(this,"AAC",p,[f.ERROR]);var d=this,c;d.parse=function(b){if(1>b.left())d.dispatchEvent(f.ERROR,{name:"DataError",message:"Data not enough while parsing AAC packet."});else{t.Timestamp=Math.max(b.timestamp,t.VideoTimestamp);var e=new DataView(b.payload.buffer);b.set("DataType",e.getUint8(b.position++));b.set("CTS",0);switch(b.get("DataType")){case h.SPECIFIC_CONFIG:a:if(2>b.left())d.dispatchEvent(f.ERROR,{name:"DataError",message:"Data not enough while parsing AAC specific config."});else{c=
new l(b.payload.subarray(b.position));d.AudioObjectType=c.ReadBits(5);d.AudioObjectType===k.ESCAPE&&(d.AudioObjectType=32+c.ReadBits(6));d.SamplingFrequencyIndex=c.ReadBits(4);d.SamplingFrequency=15===d.SamplingFrequencyIndex?c.ReadBits(24):B[d.SamplingFrequencyIndex];d.ChannelConfiguration=c.ReadBits(4);16>d.ChannelConfiguration&&(d.Channels=q[d.ChannelConfiguration]);if(d.AudioObjectType===k.SBR||d.AudioObjectType===k.PS&&0===(c.ShowBits(3)&3)&&0===(c.ShowBits(9)&63))switch(d.ExtensionSamplingFrequencyIndex=
c.ReadBits(4),d.ExtensionSamplingFrequency=15===d.ExtensionSamplingFrequencyIndex?c.ReadBits(24):B[d.ExtensionSamplingFrequencyIndex],d.ExtensionAudioObjectType=c.ReadBits(5),d.ExtensionAudioObjectType){case k.ESCAPE:d.ExtensionAudioObjectType=32+c.ReadBits(6);break;case k.ER_BSAC:d.ExtensionChannelConfiguration=c.ReadBits(4)}else d.ExtensionAudioObjectType=k.NULL,d.ExtensionSamplingFrequency=0;if(d.AudioObjectType===k.ALS){c.ShowBits(5);4279379!==c.ShowBitsLong(24)&&c.SkipBits(24);try{if(112>c.Left())throw{name:"DataError",
message:"Data not enough while parsing ALS config."};if(1095521024!==c.ReadBitsLong(32))throw{name:"TypeError",message:"Not ALS\\0"};d.SamplingFrequency=c.ReadBitsLong(32);c.SkipBits(32);d.ChannelConfiguration=0;d.Channels=c.ReadBits(16)+1}catch(Q){a.error("Failed to parse AAC config ALS.");d.dispatchEvent(f.ERROR,{name:Q.name,message:Q.message});break a}}d.RefSampleDuration=Math.floor(1024*t.Timescale/d.SamplingFrequency);d.AudioObjectType=k.SBR;d.ExtensionSamplingFrequencyIndex=d.SamplingFrequencyIndex;
6<=d.SamplingFrequencyIndex?d.ExtensionSamplingFrequencyIndex-=3:1===d.ChannelConfiguration&&(d.AudioObjectType=k.AAC_LC);d.Config=d.AudioObjectType===k.SBR?new Uint8Array([d.AudioObjectType<<3|d.SamplingFrequencyIndex>>1,d.SamplingFrequencyIndex<<7|d.ChannelConfiguration<<3|d.ExtensionSamplingFrequencyIndex>>1,d.ExtensionSamplingFrequencyIndex<<7|8,0]):new Uint8Array([d.AudioObjectType<<3|d.SamplingFrequencyIndex>>1,d.SamplingFrequencyIndex<<7|d.ChannelConfiguration<<3]);d.Codec="mp4a.40."+d.AudioObjectType;
d.dispatchEvent(p.AAC_SPECIFIC_CONFIG)}break;case h.RAW_FRAME_DATA:t.AudioTimestamp=b.timestamp;e=Math.ceil((b.timestamp-t.AudioTimestamp)/d.RefSampleDuration);for(var w=0;w<e-1;w++){var x=new g.Packet;x.kind=r.KindAudio;x.codec=b.codec;x.timestamp=t.AudioTimestamp+d.RefSampleDuration;x.streamid=b.streamid;var G=x;a:switch(d.AudioObjectType){case AAC_LC:var E=n[d.Channels];break a;default:E=m[d.Channels]}G.payload=E;if(void 0===x.payload){a.warn("Failed to get silent frame: AudioObjectType="+d.AudioObjectType+
", Channels="+d.Channels);break}x.length=x.payload.byteLength;x.set("DTS",t.TimeBase+x.timestamp);x.set("PTS",x.get("DTS"));x.set("Data",x.payload);a.warn("Generates silent frame: "+x.timestamp);t.AudioTimestamp=x.timestamp;d.dispatchEvent(p.AAC_SAMPLE,{packet:x})}b.set("DTS",t.TimeBase+b.timestamp);b.set("PTS",b.get("DTS"));b.set("Data",b.payload.subarray(b.position));d.dispatchEvent(p.AAC_SAMPLE,{packet:b});break;default:d.dispatchEvent(f.ERROR,{name:"TypeError",message:"Unrecognized AAC packet type: "+
d.DataType})}}};var t=e;d.MimeType="audio/mp4";d.Codec="";d.RefSampleDuration=Math.floor(1024*t.Timescale/44100);d.AudioObjectType=0;d.SamplingFrequencyIndex=0;d.SamplingFrequency=0;d.ChannelConfiguration=0;d.Channels=0;d.ExtensionAudioObjectType=0;d.ExtensionSamplingFrequencyIndex=0;d.ExtensionSamplingFrequency=0;d.ExtensionChannelConfiguration=0;d.Config=null;d.ExpectedDts=0;d.Flags={IsLeading:0,SampleDependsOn:1,SampleIsDependedOn:0,SampleHasRedundancy:0,IsNonSync:0}}var a=c.utils,l=a.Golomb,e=
c.events,b=e.EventDispatcher,f=e.Event,p=e.MediaEvent,g=c.AV,r=g.Packet;c=g.Codec;var h={SPECIFIC_CONFIG:0,RAW_FRAME_DATA:1},k={NULL:0,AAC_MAIN:1,AAC_LC:2,AAC_SSR:3,AAC_LTP:4,SBR:5,AAC_SCALABLE:6,TWINVQ:7,CELP:8,HVXC:9,TTSI:12,MAINSYNTH:13,WAVESYNTH:14,MIDI:15,SAFX:16,ER_AAC_LC:17,ER_AAC_LTP:19,ER_AAC_SCALABLE:20,ER_TWINVQ:21,ER_BSAC:22,ER_AAC_LD:23,ER_CELP:24,ER_HVXC:25,ER_HILN:26,ER_PARAM:27,SSC:28,PS:29,SURROUND:30,ESCAPE:31,L1:32,L2:33,L3:34,DST:35,ALS:36,SLS:37,SLS_NON_CORE:38,ER_AAC_ELD:39,
SMR_SIMPLE:40,SMR_MAIN:41,USAC_NOSBR:42,SAOC:43,LD_SURROUND:44,USAC:45},B=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350],q=[0,1,2,3,4,5,6,8],n=[new Uint8Array([0,200,0,128,35,128]),new Uint8Array([33,0,73,144,2,25,0,35,128]),new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]),new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]),new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]),new Uint8Array([0,200,0,128,32,132,1,38,64,8,
100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])],m=[new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]),new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]),new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,
149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])];d.prototype=Object.create(b.prototype);d.prototype.constructor=d;d.prototype.kind="AAC";d.DataTypes=h;d.AOT=k;d.SamplingFrequencys=B;d.Channels=q;d.SilentFramesOfLC=n;d.SilentFramesOfSBR=m;c.register(d)})(playease);
(function(c){function d(c){e.call(this,"AVC",f,[b.ERROR]);var h=this;h.parse=function(d){if(4>d.left())h.dispatchEvent(b.ERROR,{name:"DataError",message:"Data not enough while parsing AVC packet."});else{k.Timestamp=Math.max(d.timestamp,k.AudioTimestamp);var e=new DataView(d.payload.buffer);d.set("DataType",e.getUint8(d.position++));d.set("CTS",e.getUint8(d.position++)<<16|e.getUint8(d.position++)<<8|e.getUint8(d.position++));switch(d.get("DataType")){case p.SEQUENCE_HEADER:a:if(7>d.left())h.dispatchEvent(b.ERROR,
{name:"DataError",message:"Data not enough while parsing AVC decoder configuration record."});else{h.AVCC=d.payload.subarray(d.position);e=0;var n=new DataView(d.payload.buffer,d.position);h.ConfigurationVersion=n.getUint8(e++);h.ProfileIndication=n.getUint8(e++);h.ProfileCompatibility=n.getUint8(e++);h.LevelIndication=n.getUint8(e++);if(1!==h.ConfigurationVersion||0===h.ProfileIndication)h.dispatchEvent(b.ERROR,{name:"DataError",message:"Invalid AVC configuration version or profile."});else if(h.NalLengthSize=
(n.getUint8(e++)&3)+1,3>h.NalLengthSize)h.dispatchEvent(b.ERROR,{name:"DataError",message:"Invalid NalLengthSize "+h.NalLengthSize});else{for(var m=n.getUint8(e++)&31,r=0;r<m;r++){var w=n.getUint16(e);e+=2;if(0!==w){var x=h.AVCC.subarray(e,e+w);try{h.SPS.parse(x),h.RefSampleDuration=Math.floor(k.Timescale*c.FrameRate.Den/c.FrameRate.Num)}catch(G){h.dispatchEvent(b.ERROR,{name:G.name,message:G.message});break a}e+=w}}m=n.getUint8(e++);for(r=0;r<m;r++)w=n.getUint16(e),e+=2,0!==w&&(e+=w);h.Codec=h.SPS.Codec;
h.dispatchEvent(f.AVC_CONFIG_RECORD,{packet:d})}}break;case p.NALU:a:{k.VideoTimestamp=d.timestamp;e=0;n=new DataView(d.payload.buffer,d.position);r=d.payload.subarray(d.position);m=[];d.set("DTS",k.TimeBase+d.timestamp);d.set("PTS",d.get("CTS")+d.get("DTS"));d.set("Data",r);for(d.set("NALUs",m);e<n.byteLength;){if(e+4>=n.byteLength){h.dispatchEvent(l.ERROR,{name:"DataError",message:"Data not enough for next NALU."});break a}w=n.getUint32(e);3===h.NalLengthSize&&(w>>=8);e+=h.NalLengthSize;if(w>n.byteLength-
h.NalLengthSize){h.dispatchEvent(l.ERROR,{name:"DataError",message:"Malformed Nalus near timestamp "+d.get("DTS")+"."});break a}d.set("ForbiddenZeroBit",n.getUint8(e)>>7&1);d.set("NalRefIdc",n.getUint8(e)>>5&3);d.set("NalUnitType",n.getUint8(e)&31);d.get("NalUnitType")===g.IDR_SLICE&&d.set("Keyframe",!0);x=r.subarray(e,e+w);e+=w;m.push(x)}h.dispatchEvent(f.AVC_SAMPLE,{packet:d})}break;case p.END_OF_SEQUENCE:a.debug("AVC sequence end.");h.dispatchEvent(f.END_OF_STREAM);break;default:h.dispatchEvent(b.ERROR,
{name:"TypeError",message:"Unrecognized AVC packet type: "+d.get("DataType")})}}};var k=c;h.MimeType="video/mp4";h.Codec="";h.RefSampleDuration=Math.floor(k.Timescale*c.FrameRate.Den/c.FrameRate.Num);h.AVCC=null;h.ConfigurationVersion=0;h.ProfileIndication=0;h.ProfileCompatibility=0;h.LevelIndication=0;h.NalLengthSize=0;h.SPS=new d.SPS(k);h.PPS=new d.PPS(h.SPS);h.ExpectedDts=0;h.Flags={IsLeading:0,SampleDependsOn:0,SampleIsDependedOn:0,SampleHasRedundancy:0,IsNonSync:0}}var a=c.utils,l=c.events,e=
l.EventDispatcher,b=l.Event,f=l.MediaEvent;c=c.AV.Codec;var p={SEQUENCE_HEADER:0,NALU:1,END_OF_SEQUENCE:2},g={SLICE:1,DPA:2,DPB:3,DPC:4,IDR_SLICE:5,SEI:6,SPS:7,PPS:8,AUD:9,END_SEQUENCE:10,END_STREAM:11,FILLER_DATA:12,SPS_EXT:13,AUXILIARY_SLICE:19,FF_IGNORE:267448321};d.prototype=Object.create(e.prototype);d.prototype.constructor=d;d.prototype.kind="AVC";d.DataTypes=p;d.NAL=g;c.register(d)})(playease);
(function(c){function d(){var a=this,b;a.parse=function(d){b=d;a.CpbCnt=b.ReadUE()+1;if(32<a.CpbCnt)throw{name:"DataError",message:"Invalid HRD.CpbCnt "+a.CpbCnt+"."};a.BitRateScale=b.ReadBits(4);a.CpbSizeScale=b.ReadBits(4);for(d=0;d<a.CpbCnt;d++)a.BitRateValue[d]=b.ReadUE(),a.CpbSizeValue[d]=b.ReadUE(),a.CbrFlag|=b.ReadBits(1)<<d;a.InitialCpbRemovalDelayLength=_b.ReadBits(5)+1;a.CpbRemovalDelayLength=b.ReadBits(5)+1;a.DpbOutputDelayLength=b.ReadBits(5)+1;a.TimeOffsetLength=b.ReadBits(5)};a.CpbCnt=
0;a.BitRateScale=0;a.CpbSizeScale=0;a.BitRateValue=Array(32);a.CpbSizeValue=Array(32);a.CbrFlag=0;a.InitialCpbRemovalDelayLength=0;a.CpbRemovalDelayLength=0;a.DpbOutputDelayLength=0;a.TimeOffsetLength=0}function a(){var a=this,e;a.parse=function(b){e=b;a.AspectRatioInfoPresentFlag=e.ReadBits(1);if(0!==a.AspectRatioInfoPresentFlag)if(a.AspectRatioIdc=e.ReadBits(8),255===a.AspectRatioIdc)a.Sar.Num=e.ReadBits(16),a.Sar.Den=e.ReadBits(16);else if(a.AspectRatioIdc<p.length)a.Sar=p[a.AspectRatioIdc];else throw{name:"DataError",
message:"Illegal aspect ratio."};else a.Sar.Num=0,a.Sar.Den=0;a.OverscanInfoPresentFlag=e.ReadBits(1);0!==a.OverscanInfoPresentFlag&&(a.OverscanAppropriateFlag=e.ReadBits(1));a.VideoSignalTypePresentFlag=e.ReadBits(1);0!==a.VideoSignalTypePresentFlag&&(a.VideoFormat=e.ReadBits(3),a.VideoFullRangeFlag=e.ReadBits(1),a.ColourDescriptionPresentFlag=e.ReadBits(1),0!==a.ColourDescriptionPresentFlag&&(a.ColourPrimaries=e.ReadBits(8),a.TransferCharacteristics=e.ReadBits(8),a.MatrixCoefficients=e.ReadBits(8),
a.ColourPrimaries>=f.COL_PRI_NB&&(a.ColourPrimaries=f.COL_PRI_UNSPECIFIED),a.TransferCharacteristics>=f.COL_TRC_NB&&(a.TransferCharacteristics=f.COL_TRC_UNSPECIFIED),a.MatrixCoefficients>=f.COL_SPC_NB&&(a.MatrixCoefficients=f.COL_SPC_UNSPECIFIED)));a.ChromaLocInfoPresentFlag=e.ReadBits(1);0!==a.ChromaLocInfoPresentFlag&&(a.ChromaSampleLocTypeTopField=e.ReadUE(),a.ChromaSampleLocTypeBottomField=e.ReadUE());if(0!==e.ReadBits(1)&&10>e.Left())throw{name:"DataError",message:"Truncated VUI."};a.TimingInfoPresentFlag=
e.ReadBits(1);if(0!==a.TimingInfoPresentFlag){a.NumUnitsInTick=e.ReadBitsLong(32);a.TimeScale=e.ReadBitsLong(32);if(0===a.NumUnitsInTick||0===a.TimeScale)l.debug("time_scale/num_units_in_tick invalid or unsupported "+a.TimeScale+"/"+a.NumUnitsInTick),a.TimingInfoPresentFlag=0;a.FixedFrameRateFlag=e.ReadBits(1)}a.NalHrdParametersPresentFlag=e.ReadBits(1);0!==a.NalHrdParametersPresentFlag&&a.NalHrd.parse(e);a.VclHrdParametersPresentFlag=e.ReadBits(1);0!==a.VclHrdParametersPresentFlag&&a.VclHrd.parse(e);
if(0!==a.NalHrdParametersPresentFlag||0!==a.VclHrdParametersPresentFlag)a.LowDelayHrdFlag=e.ReadBits(1);a.PicStructPresentFlag=e.ReadBits(1);if(0!==e.Left()&&(a.BitstreamRestrictionFlag=e.ReadBits(1),0!==a.BitstreamRestrictionFlag&&(a.MotionVectorsOverPicBoundariesFlag=e.ReadBits(1),a.MaxBytesPerPicDenom=e.ReadUE(),a.MaxBitsPerMbDenom=e.ReadUE(),a.Log2MaxMvLengthHorizontal=e.ReadUE(),a.Log2MaxMvLengthVertical=e.ReadUE(),a.MaxNumReorderFrames=e.ReadUE(),a.MaxDecFrameBuffering=e.ReadUE(),0>e.Left()&&
(a.MaxNumReorderFrames=0,a.BitstreamRestrictionFlag=0),16<a.MaxNumReorderFrames)))throw a.MaxNumReorderFrames=16,{name:"DataError",message:"Clipping illegal MaxNumReorderFrames "+a.MaxNumReorderFrames+"."};};a.AspectRatioInfoPresentFlag=0;a.AspectRatioIdc=0;a.Sar=new b;a.OverscanInfoPresentFlag=0;a.OverscanAppropriateFlag=0;a.VideoSignalTypePresentFlag=0;a.VideoFormat=0;a.VideoFullRangeFlag=0;a.ColourDescriptionPresentFlag=0;a.ColourPrimaries=0;a.TransferCharacteristics=0;a.MatrixCoefficients=0;a.ChromaLocInfoPresentFlag=
0;a.ChromaSampleLocTypeTopField=0;a.ChromaSampleLocTypeBottomField=0;a.TimingInfoPresentFlag=0;a.NumUnitsInTick=0;a.TimeScale=0;a.FixedFrameRateFlag=0;a.NalHrdParametersPresentFlag=0;a.NalHrd=new d;a.VclHrdParametersPresentFlag=0;a.VclHrd=new d;a.LowDelayHrdFlag=0;a.PicStructPresentFlag=0;a.BitstreamRestrictionFlag;a.MotionVectorsOverPicBoundariesFlag=0;a.MaxBytesPerPicDenom=0;a.MaxBitsPerMbDenom=0;a.Log2MaxMvLengthHorizontal=0;a.Log2MaxMvLengthVertical=0;a.MaxNumReorderFrames=0;a.MaxDecFrameBuffering=
0}var l=c.utils,e=l.Golomb;c=c.AV;var b=c.Rational,f=c.Codec;c=f.AVC;var p=[new b(0,1),new b(1,1),new b(12,11),new b(10,11),new b(16,11),new b(40,33),new b(24,11),new b(20,11),new b(32,11),new b(80,33),new b(18,11),new b(15,11),new b(64,33),new b(160,99),new b(4,3),new b(3,2),new b(2,1)];c.SPS=function(b){function d(a,b){return 0!==a&&0!==b&&(a+128)*(b+128)<l.MAX_INT32/8}var c=this,k;c.parse=function(a){if(4>a.byteLength)throw{name:"DataError",message:"Data not enough while parsing SPS."};c.Codec=
"avc1.";l.forEach(a.subarray(1,4),function(a,b){a=l.padStart(b.toString(16),2,"0");c.Codec+=a});a=l.ebsp2rbsp(a);k=new e(a);c.Data=a;k.ReadBits(8);c.ProfileIdc=k.ReadBits(8);c.ConstraintSetFlags=k.ReadBits(1)<<0;c.ConstraintSetFlags|=k.ReadBits(1)<<1;c.ConstraintSetFlags|=k.ReadBits(1)<<2;c.ConstraintSetFlags|=k.ReadBits(1)<<3;c.ConstraintSetFlags|=k.ReadBits(1)<<4;c.ConstraintSetFlags|=k.ReadBits(1)<<5;c.ReservedZero2Bits=k.ReadBits(2);c.LevelIdc=k.ReadBits(8);c.ID=k.ReadUE();if(32<=c.ID)throw{name:"DataError",
message:"SPS ID(0x"+c.ID.toString(16)+") out of range."};c.SeqScalingMatrixPresentFlag=0;c.Vui.VideoFullRangeFlag=1;c.Vui.MatrixCoefficients=f.COL_SPC_UNSPECIFIED;if(100===c.ProfileIdc||110===c.ProfileIdc||122===c.ProfileIdc||244===c.ProfileIdc||44===c.ProfileIdc||83===c.ProfileIdc||86===c.ProfileIdc||118===c.ProfileIdc||128===c.ProfileIdc||138===c.ProfileIdc||144===c.ProfileIdc){c.ChromaFormatIdc=k.ReadUE();if(3<c.ChromaFormatIdc)throw{name:"DataError",message:"Bad ChromaFormatIdc "+c.ChromaFormatIdc+
"."};if(3===c.ChromaFormatIdc&&(c.SeparateColourPlaneFlag=k.ReadBits(1),0!==c.SeparateColourPlaneFlag))throw{name:"DataError",message:"Separate color planes are not supported."};c.BitDepthLuma=k.ReadUE()+8;c.BitDepthChroma=k.ReadUE()+8;if(c.BitDepthChroma!==c.BitDepthLuma)throw{name:"DataError",message:"Different chroma and luma bit depth."};if(8>c.BitDepthLuma||14<c.BitDepthLuma||8>c.BitDepthChroma||14<c.BitDepthChroma)throw{name:"DataError",message:"Illegal bit depth value "+c.BitDepthLuma+", "+
c.BitDepthChroma+"."};c.TransformBypass=k.ReadBits(1);c.SeqScalingMatrixPresentFlag=k.ReadBits(1);if(0!==c.SeqScalingMatrixPresentFlag){a=8;3===c.ChromaFormatIdc&&(a+=4);for(var h=0;h<a;h++)if(0!=k.ReadBits(1)){var n=16;6<=h&&(n=64);for(var m=8,g=8,w=0;w<n;w++)g=k.ReadSE(),g=(m+g+256)%256,0!==g&&(m=g)}}}else c.ChromaFormatIdc=1,c.BitDepthLuma=8,c.BitDepthChroma=8;c.Log2MaxFrameNum=k.ReadUE()+4;if(4>c.Log2MaxFrameNum||16<c.Log2MaxFrameNum)throw{name:"DataError",message:"log2_max_frame_num_minus4("+
(c.Log2MaxFrameNum-4)+") out of range, expect 0-12."};c.PocType=k.ReadUE();if(0===c.PocType){if(c.Log2MaxPocLsb=k.ReadUE()+4,16<c.Log2MaxPocLsb)throw{name:"DataError",message:"log2_max_poc_lsb("+c.Log2MaxPocLsb+") is out of range."};}else if(1===c.PocType){c.DeltaPicOrderAlwaysZeroFlag=k.ReadBits(1);c.OffsetForNonRefPic=k.ReadUE();c.OffsetForTopToBottomField=k.ReadUE();c.NumRefFramesInPocCycle=k.ReadUE();a=c.OffsetForRefFrame.length;if(c.NumRefFramesInPocCycle>=a)throw{name:"DataError",message:"poc_cycle_length("+
c.NumRefFramesInPocCycle+") overflow."};for(h=0;h<c.NumRefFramesInPocCycle;h++)c.OffsetForRefFrame[h]=k.ReadUE()}else if(2!==c.PocType)throw{name:"DataError",message:"Illegal POC type "+c.PocType+"."};c.MaxNumRefFrames=k.ReadUE();if(34<c.MaxNumRefFrames||16<c.MaxNumRefFrames)throw{name:"DataError",message:"Too many reference frames, "+c.MaxNumRefFrames+"."};c.GapsInFrameNumValueAllowedFlag=k.ReadBits(1);c.PicWidth=k.ReadUE()+1;c.PicHeight=k.ReadUE()+1;if(c.PicWidth>=l.MAX_INT32/16||c.PicHeight>=l.MAX_INT32/
16||!1===d(16*c.PicWidth,16*c.PicHeight))throw{name:"DataError",message:"pic_width or pic_height overflow."};c.FrameMbsOnlyFlag=k.ReadBits(1);c.MbAdaptiveFrameFieldFlag=0===c.FrameMbsOnlyFlag?k.ReadBits(1):0;b.CodecWidth=16*c.PicWidth;b.CodecHeight=16*c.PicHeight*(2-c.FrameMbsOnlyFlag);c.Direct8x8InferenceFlag=k.ReadBits(1);c.FrameCroppingFlag=k.ReadBits(1);if(0!==c.FrameCroppingFlag){var x;a=k.ReadUE();h=k.ReadUE();n=k.ReadUE();m=k.ReadUE();1===c.ChromaFormatIdc&&(x=1);if(1===c.ChromaFormatIdc||
2===c.ChromaFormatIdc)var p=1;p=1<<p;x=2-c.FrameMbsOnlyFlag<<x;if(a>l.MAX_INT32/4/p||h>l.MAX_INT32/4/p||n>l.MAX_INT32/4/x||m>l.MAX_INT32/4/x||(a+h)*p>=b.CodecWidth||(n+m)*x>=b.CodecHeight)throw{name:"DataError",message:"Invalid crop values, l="+a+", r="+h+", t="+n+", b="+m+", w="+b.CodecWidth+", h="+b.CodecHeight+"."};c.FrameCropLeftOffset=a*p;c.FrameCropRightOffset=h*p;c.FrameCropTopOffset=n*x;c.FrameCropBottomOffset=m*x}else c.FrameCropLeftOffset=0,c.FrameCropRightOffset=0,c.FrameCropTopOffset=
0,c.FrameCropBottomOffset=0;c.VuiParametersPresentFlag=k.ReadBits(1);0!==c.VuiParametersPresentFlag&&(c.Vui.parse(k),0!==c.Vui.TimingInfoPresentFlag&&(b.FrameRate.Num=c.Vui.TimeScale,b.FrameRate.Den=2*c.Vui.NumUnitsInTick));b.CodecWidth-=c.FrameCropLeftOffset+c.FrameCropRightOffset;b.CodecHeight-=c.FrameCropTopOffset+c.FrameCropBottomOffset;b.Width=b.CodecWidth;b.Height=b.CodecHeight;1<c.Vui.Sar.Den&&(b.Width*=c.Vui.Sar.Num/c.Vui.Sar.Den)};c.ProfileIdc=0;c.ConstraintSetFlags=0;c.ReservedZero2Bits=
0;c.LevelIdc=0;c.ID=0;c.ChromaFormatIdc=0;c.SeparateColourPlaneFlag=0;c.BitDepthLuma=0;c.BitDepthChroma=0;c.TransformBypass=0;c.SeqScalingMatrixPresentFlag=0;c.Log2MaxFrameNum=0;c.PocType=0;c.Log2MaxPocLsb=0;c.DeltaPicOrderAlwaysZeroFlag=0;c.OffsetForNonRefPic=0;c.OffsetForTopToBottomField=0;c.NumRefFramesInPocCycle=0;c.OffsetForRefFrame=Array(256);c.MaxNumRefFrames=0;c.GapsInFrameNumValueAllowedFlag=0;c.PicWidth=0;c.PicHeight=0;c.FrameMbsOnlyFlag=0;c.MbAdaptiveFrameFieldFlag=0;c.Direct8x8InferenceFlag=
0;c.FrameCroppingFlag=0;c.FrameCropLeftOffset=0;c.FrameCropRightOffset=0;c.FrameCropTopOffset=0;c.FrameCropBottomOffset=0;c.VuiParametersPresentFlag=0;c.Vui=new a}})(playease);
(function(c){var d=c.utils,a=d.Golomb;c.AV.Codec.AVC.PPS=function(c){var e=this,b;e.parse=function(c){c=d.ebsp2rbsp(c);b=new a(c);e.Data=c;e.ID=b.ReadUE();if(256<=e.ID)throw{name:"DataError",message:"PPS ID(0x"+e.ID.toString(16)+") out of range."};e.SpsID=b.ReadUE();if(32<=e.SpsID)throw{name:"DataError",message:"SPS ID(0x"+e.SpsID.toString(16)+") out of range."};if(14<f.BitDepthLuma)throw{name:"DataError",message:"Invalid BitDepthLuma "+f.BitDepthLuma+"."};if(11===f.BitDepthLuma||13===f.BitDepthLuma)throw{name:"DataError",
message:"Unimplemented BitDepthLuma "+f.BitDepthLuma+"."};e.EntropyCodingModeFlag=b.ReadBits(1);e.PicOrderPresentFlag=b.ReadBits(1);e.NumSliceGroups=b.ReadUE()+1;1<e.NumSliceGroups&&(e.SliceGroupMapType=b.ReadUE(),d.debug("FMO not supported!"));e.NumRefIdx[0]=b.ReadUE()+1;e.NumRefIdx[1]=b.ReadUE()+1;if(31<e.NumRefIdx[0]-1||31<e.NumRefIdx[1]-1)throw{name:"DataError",message:"PPS reference overflow."};c=6*(f.BitDepthLuma-8);e.WeightedPredFlag=b.ReadBits(1);e.WeightedBipredIdc=b.ReadBits(2);e.PicInitQp=
b.ReadSE()+26+c;e.PicInitQs=b.ReadSE()+26+c;e.ChromaQpIndexOffset[0]=b.ReadSE();e.DeblockingFilterControlPresentFlag=b.ReadBits(1);e.ConstrainedIntraPredFlag=b.ReadBits(1);e.RedundantPicCntPresentFlag=b.ReadBits(1);e.Transform8x8ModeFlag=0;if(c=0<b.Left())66!==f.ProfileIdc&&77!==f.ProfileIdc&&88!==f.ProfileIdc||0===(f.ConstraintSetFlags&7)?c=!0:(d.debug("Current profile doesn't provide more RBSP data in PPS, skipping..."),c=!1);c?(e.Transform8x8ModeFlag=b.ReadBits(1),e.PicScalingMatrixPresentFlag=
b.ReadBits(1),0!==e.PicScalingMatrixPresentFlag&&(c=2,3===f.ChromaFormatIdc&&(c=6),b.ReadBits(6+c*e.Transform8x8ModeFlag)),e.ChromaQpIndexOffset[1]=b.ReadSE()):e.ChromaQpIndexOffset[1]=e.ChromaQpIndexOffset[0];e.ChromaQpIndexOffset[0]!==e.ChromaQpIndexOffset[1]&&(e.ChromaQpDiff=1)};var f=c;e.ID=0;e.SpsID=0;e.EntropyCodingModeFlag=0;e.PicOrderPresentFlag=0;e.NumSliceGroups=0;e.SliceGroupMapType=0;e.NumRefIdx=Array(2);e.WeightedPredFlag=0;e.WeightedBipredIdc=0;e.PicInitQp=0;e.PicInitQs=0;e.ChromaQpIndexOffset=
Array(2);e.DeblockingFilterControlPresentFlag=0;e.ConstrainedIntraPredFlag=0;e.RedundantPicCntPresentFlag=0;e.Transform8x8ModeFlag=0;e.PicScalingMatrixPresentFlag=0;e.ChromaQpDiff=0}})(playease);
(function(c){function d(a,b){e.call(this,"MediaStreamTrack");var c=this;c.stop=function(){};c.clone=function(){return new d(c.kind,c.source)};c.id=0;c.sn=0;c.kind=a;c.source=b}var a=c.utils,l=c.events,e=l.EventDispatcher,b=l.Event,f=l.MediaStreamTrackEvent;c=c.AV;var p=c.Information,g={},r=[];g.register=function(b,c){try{r.splice(c||r.length,0,b),g[b.prototype.kind]=b}catch(B){a.error("Failed to register format "+b.prototype.kind+", Error="+B.message)}};g.get=function(a){for(var b=0;b<r.length;b++){var c=
r[b];if(c.prototype.kind===a)return c}return null};d.KindAudio="audio";d.KindVideo="video";g.MediaStreamTrack=d;g.MediaStream=function(){e.call(this,"MediaStream",f,[b.ERROR]);var c=this;c.addTrack=function(b){for(var d=0;d<g.length;d++)if(g[d]===b){a.warn("MediaStreamTrack already added.");return}b.id=k++;g.push(b);a.log("Added "+b.kind+" track("+b.id+") to "+c.kind+".");c.dispatchEvent(f.ADDTRACK,{track:b})};c.removeTrack=function(b){for(var d=0;d<g.length;d++)if(g[d]===b){g.splice(d,1);a.log("Removed "+
b.kind+" track("+b.id+") to "+c.kind+".");c.dispatchEvent(f.REMOVETRACK,{track:b});break}};c.getTrackById=function(a){for(var b=0;b<g.length;b++)if(g[b].id===a)return g[b];return null};c.getTracks=function(){var b=[];a.forEach(g,function(a,c){b.push(c)});return b};c.getAudioTracks=function(){var b=[];a.forEach(g,function(a,c){c.kind===d.KindAudio&&b.push(c)});return b};c.getVideoTracks=function(){var b=[];a.forEach(g,function(a,c){c.kind===d.KindVideo&&b.push(c)});return b};c.close=function(){a.forEach(g,
function(a,b){b.stop();c.dispatchEvent(f.REMOVETRACK,{track:b})});k=1;g=[];c.info=new p};var k=1;var g=[];c.info=new p};c.format=g.get;c.Format=g})(playease);
(function(c){function d(){function c(){n=k.f;d.hasAudio=!1;d.hasVideo=!1}g.call(this,"FLV");var d=this,n,m;d.append=function(c){c=new Uint8Array(c);for(var w=0;w<c.byteLength;w++)switch(n){case k.f:if(70!==c[w]){d.dispatchEvent(e.ERROR,{name:"DataError",message:'Not "F"'});return}n=k.l;break;case k.l:if(76!==c[w]){d.dispatchEvent(e.ERROR,{name:"DataError",message:'Not "L"'});return}n=k.v;break;case k.v:if(86!==c[w]){d.dispatchEvent(e.ERROR,{name:"DataError",message:'Not "V"'});return}n=k.version;
break;case k.version:n=k.flags;break;case k.flags:d.hasAudio=!!(c[w]&4);d.hasVideo=!!(c[w]&1);n=k.header0;break;case k.header0:n=k.header1;break;case k.header1:n=k.header2;break;case k.header2:n=k.header3;break;case k.header3:n=k.backpointer0;break;case k.backpointer0:n=k.backpointer1;break;case k.backpointer1:n=k.backpointer2;break;case k.backpointer2:n=k.backpointer3;break;case k.backpointer3:n=k.type;break;case k.type:m=new f.Packet;switch(c[w]){case r.AUDIO:m.kind=p.KindAudio;break;case r.VIDEO:m.kind=
p.KindVideo;break;case r.SCRIPT:m.kind=p.KindScript;break;default:d.dispatchEvent(e.ERROR,{name:"TypeError",message:"Unrecognized flv tag "+a.hex(c[w])+"."});return}n=k.length0;break;case k.length0:m.length=c[w]<<16;n=k.length1;break;case k.length1:m.length|=c[w]<<8;n=k.length2;break;case k.length2:m.length|=c[w];m.payload=new Uint8Array(m.length);m.position=0;n=k.timestamp0;break;case k.timestamp0:m.timestamp=c[w]<<16;n=k.timestamp1;break;case k.timestamp1:m.timestamp|=c[w]<<8;n=k.timestamp2;break;
case k.timestamp2:m.timestamp|=c[w];n=k.timestamp3;break;case k.timestamp3:m.timestamp|=c[w]<<24;n=k.streamid0;break;case k.streamid0:m.streamid=c[w]<<16;n=k.streamid1;break;case k.streamid1:m.streamid|=c[w]<<8;n=k.streamid2;break;case k.streamid2:m.streamid|=c[w];n=k.payload;break;case k.payload:var x=Math.min(m.length-m.position,c.byteLength-w);m.payload.set(c.subarray(w,w+x),m.position);m.position+=x;w+=x-1;if(m.position===m.length){switch(m.kind){case p.KindAudio:m.set("Format",m.payload[0]>>
4&15);m.set("SampleRate",m.payload[0]>>2&3);m.set("SampleSize",m.payload[0]>>1&1);m.set("SampleType",m.payload[0]&1);m.set("DataType",m.payload[1]);m.position=1;break;case p.KindVideo:m.set("FrameType",m.payload[0]>>4&15);m.set("Codec",m.payload[0]&15);m.set("DataType",m.payload[1]);m.set("Keyframe",m.get("FrameType")===h.KEYFRAME);m.position=1;break;case p.KindScript:m.position=0}d.dispatchEvent(b.PACKET,{packet:m});n=k.backpointer0}break;default:d.dispatchEvent(e.ERROR,{name:"InvalidStateError",
message:"Invalid state while parsing flv tag."});return}};d.reset=function(){c();d.close()};c()}var a=c.utils,l=c.events,e=l.Event,b=l.MediaEvent,f=c.AV,p=f.Packet;c=f.Format;var g=c.MediaStream,r={AUDIO:8,VIDEO:9,SCRIPT:18},h={KEYFRAME:1,INTER_FRAME:2,DISPOSABLE_INTER_FRAME:3,GENERATED_KEYFRAME:4,INFO_OR_COMMAND_FRAME:5},k={f:0,l:1,v:2,version:3,flags:4,header0:5,header1:6,header2:7,header3:8,backpointer0:9,backpointer1:10,backpointer2:11,backpointer3:12,type:13,length0:14,length1:15,length2:16,
timestamp0:17,timestamp1:18,timestamp2:19,timestamp3:20,streamid0:21,streamid1:22,streamid2:23,payload:24};d.prototype=Object.create(g.prototype);d.prototype.constructor=d;d.prototype.kind="FLV";d.Tags=r;d.Frames=h;d.Formats={LINEAR_PCM_PLATFORM_ENDIAN:0,ADPCM:1,MP3:2,LINEAR_PCM_LITTLE_ENDIAN:3,NELLYMOSER_16_kHz_MONO:4,NELLYMOSER_8_kHz_MONO:5,NELLYMOSER:6,G_711_A_LAW_LOGARITHMIC_PCM:7,G_711_MU_LAW_LOGARITHMIC_PCM:8,RESERVED:9,AAC:10,SPEEX:11,MP3_8_kHz:14,DEVICE_SPECIFIC_SOUND:15};d.Rates=[5500,11025,
22050,44100];d.Codecs={JPEG:1,H263:2,SCREEN_VIDEO:3,VP6:4,VP6_ALPHA:5,SCREEN_VIDEO_2:6,AVC:7};c.FLV=d})(playease);
(function(c){function d(){b.call(this,"FMP4");var a=this;a.append=function(b){a.dispatchEvent(l.ERROR,{name:"NotSupportedError",message:"The operation is not supported."})};a.getInitSegment=function(){var b=a.ftyp(),c=a.moov.apply(a,arguments);return d.merge(b,c)};a.getSegment=function(b,c){var f=b.source,h=c.get("DTS")-a.info.TimeBase-f.ExpectedDts;c.set("DTS",f.ExpectedDts);c.set("PTS",c.get("CTS")+c.get("DTS"));c.set("Duration",f.RefSampleDuration+h);f.ExpectedDts=c.get("DTS")+c.get("Duration");
b.kind===e.KindVideo&&(c.get("Keyframe")?(f.Flags.SampleDependsOn=2,f.Flags.SampleIsDependedOn=1):(f.Flags.SampleDependsOn=1,f.Flags.SampleIsDependedOn=0));b.sn++;b=a.moof(b,c);c=a.mdat(c.get("Data"));return d.merge(b,c)};a.box=function(a){for(var b=Array.prototype.slice.call(arguments,1),c=8,d=0;d<b.length;d++)c+=b[d].byteLength;var e=0,f=new Uint8Array(c);f[e++]=c>>>24&255;f[e++]=c>>>16&255;f[e++]=c>>>8&255;f[e++]=c&255;f.set(a,e);e+=4;for(d=0;d<b.length;d++)f.set(b[d],e),e+=b[d].byteLength;return f};
a.ftyp=function(){return a.box(f.ftyp,g)};a.moov=function(){for(var b=[],c=[],d=a.mvhd(),e=Array.prototype.slice.call(arguments,0),h=0;h<e.length;h++){var n=e[h],k=a.trak(n);n=a.trex(n);b.push(k);c.push(n)}c=a.box.apply(a,[f.mvex].concat(c));return a.box.apply(a,[f.moov].concat([d],b,[c]))};a.mvhd=function(){var b=a.info.Timescale,c=1E3*a.info.Duration;return a.box(f.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,b>>24&255,b>>16&255,b>>8&255,b&255,c>>24&255,c>>16&255,c>>8&255,c&255,0,1,0,0,1,0,0,0,
0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))};a.trak=function(b){var c=a.tkhd(b);b=a.mdia(b);return a.box(f.trak,c,b)};a.tkhd=function(b){b=b.id;var c=1E3*a.info.Duration,d=a.info.Width,e=a.info.Height;return a.box(f.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,b>>24&255,b>>16&255,b>>8&255,b&255,0,0,0,0,c>>24&255,c>>16&255,c>>8&255,c&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,d>>8&255,d&255,0,0,e>>8&255,e&255,0,0]))};a.mdia=function(b){var c=a.mdhd(),d=a.hdlr(b);b=a.minf(b);return a.box(f.mdia,c,d,b)};a.mdhd=function(){var b=a.info.Timescale,c=1E3*a.info.Duration;return a.box(f.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,b>>24&255,b>>16&255,b>>8&255,b&255,c>>24&255,c>>16&255,c>>8&255,c&255,85,196,0,0]))};a.hdlr=function(b){return a.box(f.hdlr,b.kind===e.KindAudio?h:r)};a.minf=function(b){var c=b.kind===e.KindAudio?
a.box(f.smhd,t):a.box(f.vmhd,m);var d=a.dinf();b=a.stbl(b);return a.box(f.minf,c,d,b)};a.dinf=function(){var b=a.box(f.dref,p);return a.box(f.dinf,b)};a.stbl=function(b){b=a.stsd(b);var c=a.box(f.stts,B),d=a.box(f.stsc,q),e=a.box(f.stsz,n),h=a.box(f.stco,STCO);return a.box(f.stbl,b,c,d,e,h)};a.stsd=function(b){return b.kind===e.KindAudio?a.box(f.stsd,k,a.mp4a(b)):a.box(f.stsd,k,a.avc1(b))};a.mp4a=function(b){var c=b.source.SamplingFrequency;c=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,b.source.ChannelConfiguration,
0,16,0,0,0,0,c>>>8&255,c&255,0,0]);b=a.esds(b);return a.box(f.mp4a,c,b)};a.esds=function(b){b=b.source.Config;var c=b.byteLength;c=new Uint8Array([0,0,0,0,3,23+c,0,1,0,4,15+c,64,21,0,0,0,0,0,0,0,0,0,0,0,5,c]);return a.box(f.esds,c,b,new Uint8Array([6,1,2]))};a.avc1=function(b){var c=a.info.CodecWidth,d=a.info.CodecHeight;c=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c>>8&255,c&255,d>>8&255,d&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,112,108,97,121,101,97,115,101,46,106,115,32,45,32,
118,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);b=a.box(f.avcC,b.source.AVCC);return a.box(f.avc1,c,b)};a.trex=function(b){b=b.id;return a.box(f.trex,new Uint8Array([0,0,0,0,b>>24&255,b>>16&255,b>>8&255,b&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))};a.moof=function(b,c){var d=a.mfhd(b);b=a.traf(b,c);return a.box(f.moof,d,b)};a.mfhd=function(b){b=b.sn;b=new Uint8Array([0,0,0,0,b>>24&255,b>>16&255,b>>8&255,b&255]);return a.box(f.mfhd,b)};a.traf=function(b,c){var d=b.id,e=c.get("DTS");d=a.box(f.tfhd,
new Uint8Array([0,0,0,0,d>>24&255,d>>16&255,d>>8&255,d&255]));e=a.box(f.tfdt,new Uint8Array([0,0,0,0,e>>24&255,e>>16&255,e>>8&255,e&255]));c=a.trun(b,c);b=a.sdtp(b);return a.box(f.traf,d,e,c,b)};a.trun=function(b,c){var d=c.get("Duration"),e=c.get("Data").byteLength;b=b.source.Flags;c=c.get("CTS");return a.box(f.trun,new Uint8Array([0,0,15,1,0,0,0,1,0,0,0,121,d>>24,d>>16,d>>8,d,e>>24,e>>16,e>>8,e,b.IsLeading<<2|b.SampleDependsOn,b.SampleIsDependedOn<<6|b.SampleHasRedundancy<<4|b.IsNonSync,0,0,c>>
24,c>>16,c>>8,c]))};a.sdtp=function(b){b=b.source.Flags;return a.box(f.sdtp,new Uint8Array([0,0,0,0,b.IsLeading<<6|b.SampleDependsOn<<4|b.SampleIsDependedOn<<2|b.SampleHasRedundancy]))};a.mdat=function(b){return a.box(f.mdat,b)};a.reset=function(){a.close()}}var a=c.utils,l=c.events.Event;c=c.AV.Format;var e=c.MediaStreamTrack,b=c.MediaStream,f={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],
stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},p=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),g=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),h=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),k=
new Uint8Array([0,0,0,0,0,0,0,1]),B=new Uint8Array([0,0,0,0,0,0,0,0]),q=STCO=B,n=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),m=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t=new Uint8Array([0,0,0,0,0,0,0,0]);a.forEach(f,function(a,b){b.push(a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(3))});d.prototype=Object.create(b.prototype);d.prototype.constructor=d;d.prototype.kind="FMP4";d.merge=function(){for(var a=Array.prototype.slice.call(arguments,0),b=0,c=0;c<a.length;c++)b+=a[c].byteLength;
var d=0;b=new Uint8Array(b);for(c=0;c<a.length;c++)b.set(a[c],d),d+=a[c].byteLength;return b};d.parseDescriptor=function(a){a=new Uint8Array(a);for(var b=0,c={},d,e=0;e<a.byteLength;e++)switch(b){case 0:d={type:a[e],size:0,data:void 0};c[d.type]=d;b=1;break;case 1:case 2:case 3:case 4:var f=a[e];d&&(d.size=d.size<<7|f&127);f&128?b++:b=5;break;case 5:d&&(d.data=a.subarray(e,e+d.size),e+=d.size-1);b=0;break;default:throw{name:"InvalidStateError",message:"Invalid state while parsing fmp4 descriptor."};
}return c};c.FMP4=d})(playease);(function(c){var d=c.utils,a={},l=[];a.register=function(c,b){try{l.splice(b||l.length,0,c),a[c.prototype.kind]=c}catch(f){d.error("Failed to register module "+c.prototype.kind+", Error="+f.message)}};a.get=function(a,b){for(var c=0;c<l.length;c++){var d=l[c];if(d.prototype.isSupported(a,b))return d}return null};c.module=a.get;c.Module=a})(playease);
(function(c){function d(b){p.call(this,"SRC",g,r);var c=this,d;c.setup=function(){!1===e&&(e=!0,c.dispatchEvent(g.READY,{kind:c.kind}))};c.play=function(b,e){"string"===a.typeOf(b)&&b!==d&&b!==f.src&&(d=b,f.src=b);if(b=f.play())b["catch"](function(b){switch(b.name){case "AbortError":a.debug(b.name+": "+b.message);break;case "NotAllowedError":a.warn("Failed to play due to the autoplay policy, trying to play with muted.");f.muted=!0;f.play();break;default:a.error("Unrecognized error occured, "+b.name+
": "+b.message),c.dispatchEvent(g.STALLED,{name:b.name,message:b.message})}});f.controls=!1};c.pause=function(){f.pause();f.controls=!1};c.seek=function(a){f.currentTime=a;c.play()};c.stop=function(){e=!1;d=void 0;f.removeAttribute("src");f.load();f.controls=!1};c.muted=function(b){"boolean"===a.typeOf(b)&&(f.muted=b);return f.muted};c.volume=function(b){"number"===a.typeOf(b)&&(f.volume=b);return f.volume};c.cleanup=function(){c.stop();e=!1};c.element=function(){return f};c.config=b;var e=!1;var f=
a.createElement("video");f.addEventListener("play",c.forward);f.addEventListener("suspend",c.forward);f.addEventListener("loadstart",c.forward);f.addEventListener("waiting",c.forward);f.addEventListener("abort",c.forward);f.addEventListener("timeout",c.forward);f.addEventListener("durationchange",function(a){c.dispatchEvent(g.DURATIONCHANGE,{duration:f.duration})});f.addEventListener("loadedmetadata",c.forward);f.addEventListener("loadeddata",c.forward);f.addEventListener("progress",c.forward);f.addEventListener("canplay",
c.forward);f.addEventListener("playing",c.forward);f.addEventListener("stalled",c.forward);f.addEventListener("canplaythrough",c.forward);f.addEventListener("pause",c.forward);f.addEventListener("seeking",c.forward);f.addEventListener("seeked",c.forward);f.addEventListener("ratechange",c.forward);f.addEventListener("timeupdate",function(a){a=f.buffered;c.dispatchEvent(g.TIMEUPDATE,{time:f.currentTime,buffered:a.length?a.end(a.length-1):0,duration:f.duration})});f.addEventListener("volumechange",function(a){c.dispatchEvent(g.VOLUMECHANGE,
{muted:f.muted,volume:f.volume})});f.addEventListener("load",c.forward);f.addEventListener("ended",c.forward);f.addEventListener("error",function(a){c.dispatchEvent(g.ERROR,{name:{1:"AbortError",2:"NetworkError",3:"EncodingError",4:"NotSupportedError"}[f.error.code],message:f.error.message})});c.config.objectfit&&l.style(f,{"object-fit":c.config.objectfit});c.config.airplay&&f.setAttribute("x-webkit-airplay","allow");c.config.playsinline&&(f.setAttribute("playsinline","isiPhoneShowPlaysinline"),f.setAttribute("webkit-playsinline",
"isiPhoneShowPlaysinline"),f.setAttribute("x5-playsinline",""),f.setAttribute("x5-video-player-type","h5-page"),f.setAttribute("x5-video-player-fullscreen",!0),f.setAttribute("t7-video-player-type","inline"),f.setAttribute("x-webkit-airplay",""));c.config.preload&&(f.preload=c.config.preload);f.muted=c.config.muted;f.volume=c.config.volume}var a=c.utils,l=a.css,e=c.OS,b=c.Browser,f=c.events,p=f.EventDispatcher,g=f.Event,r=f.IOEvent;c=c.Module;d.prototype=Object.create(p.prototype);d.prototype.constructor=
d;d.prototype.kind="SRC";d.prototype.isSupported=function(c,d){if(b.isMSIE&&9>b.major)return!1;c=new a.URL(c);if("http:"!==c.protocol&&"https:"!==c.protocol)return!1;d="m3u8 m3u hls mp4 f4v m4v mov m4a f4a aac ogv ogg mp3 oga webm".split(" ");var f="mp4 f4v m4v mov m4a f4a aac ogv ogg mp3 oga webm".split(" ");d=e.isMobile||e.isMac?d:f;for(f=0;f<d.length;f++)if(c.filetype===d[f])return!0;return!1};c.register(d)})(playease);
(function(c){function d(b){function d(b){a.log("MediaSource.onsourceopen");F.load(R)}function e(b){a.log("MediaSource.onsourceended")}function D(b){a.log("MediaSource.onsourceclose")}function Q(b){a.log("MediaSource.onsourceerror");u.dispatchEvent(p.ERROR,{name:err.name,message:err.message})}function Z(b){F&&(F.removeEventListener(g.SUSPEND,N),F.removeEventListener(g.LOADSTART,u.forward),F.removeEventListener(g.STALLED,N),F.removeEventListener(g.ABORT,N),F.removeEventListener(g.TIMEOUT,N),F.removeEventListener(g.PROGRESS,
W),F.removeEventListener(g.LOAD,u.forward),F.removeEventListener(g.LOADEND,H),F.abort());var d;b.loader&&"auto"!==b.loader.name&&(d=k[b.loader.name]);null!=d&&d.prototype.isSupported(R,u.config.mode)||(d=c.io(R,u.config.mode));if(null==d)throw{name:"NotSupportedError",message:"No supported io found."};F=new d(b.loader);F.addEventListener(g.SUSPEND,N);F.addEventListener(g.LOADSTART,u.forward);F.addEventListener(g.STALLED,N);F.addEventListener(g.ABORT,N);F.addEventListener(g.TIMEOUT,N);F.addEventListener(g.PROGRESS,
W);F.addEventListener(g.LOAD,u.forward);F.addEventListener(g.LOADEND,H);a.log(F.kind+" loader initialized.")}function W(b){a.debug("progress: "+b.data.loaded+"/"+b.data.total);C.append(b.data.buffer)}function N(a){u.cleanup();u.forward(a)}function da(a){a.table.audiodatarate&&(C.info.AudioDataRate=a.table.audiodatarate.get());a.table.audiosamplerate&&(C.info.AudioSampleRate=a.table.audiosamplerate.get());a.table.audiosamplesize&&(C.info.AudioSampleSize=a.table.audiosamplesize.get());a.table.videodatarate&&
(C.info.VideoDataRate=a.table.videodatarate.get());a.table.width&&(C.info.Width=a.table.width.get());a.table.height&&(C.info.Height=a.table.height.get());a.table.framerate&&(C.info.FrameRate.Num=a.table.framerate.get(),C.info.FrameRate.Den=1);a.table.duration&&(C.info.Duration=a.table.duration.get());a.table.filesize&&(C.info.Size=a.table.filesize.get())}function aa(a){a=J.getVideoTracks()[0];v(a);var b=J.getInitSegment(a);L[a.kind].push(b);S(a.kind)}function ba(a){a=J.getAudioTracks()[0];v(a);var b=
J.getInitSegment(a);L[a.kind].push(b);S(a.kind)}function ca(a){var b=J.getVideoTracks()[0];a=J.getSegment(b,a.data.packet);L[b.kind].push(a);S(b.kind)}function X(a){var b=J.getAudioTracks()[0];a=J.getSegment(b,a.data.packet);L[b.kind].push(a);S(b.kind)}function H(a){ea=!0}function v(b){var c=b.source;c=c.MimeType+'; codecs="'+c.Codec+'"';if(!1===MediaSource.isTypeSupported(c))a.warn(c+" not supported!");else if(a.log(c),"closed"===K.readyState)u.dispatchEvent(p.ERROR,{name:"InvalidStateError",message:"MediaSource is already closed while adding SourceBuffer."});
else try{var d=K.addSourceBuffer(c);d.addEventListener("updateend",A);d.addEventListener("error",M);d.kind=b.kind;O[b.kind]=d}catch(fa){a.error(fa.name+": "+fa.message)}}function S(b){if(C.hasAudio||C.hasVideo)if(C.hasAudio&&!O[t.KindAudio]||C.hasVideo&&!O[t.KindVideo])return;var c=O[b];if(c&&!c.updating&&(b=L[b].shift()))try{c.appendBuffer(b)}catch(U){a.error(U.name+": "+U.message),u.dispatchEvent(p.ERROR,{name:U.name,message:U.message})}}function A(b){a.debug("SourceBuffer.onupdateend");b=b.target;
var c=y.buffered;c.length&&(c=c.start(0),y.currentTime<c&&(y.currentTime=c,a.warn("Seems stalled, seeking to next available time "+c+".")));if(ea){if("open"!==K.readyState)return;if(!L[t.KindAudio].length&&!L[t.KindVideo].length){K.endOfStream();return}}S(b.kind)}function M(b){a.error("SourceBuffer.onerror");u.dispatchEvent(p.ERROR,{name:"DataError",message:"SourceBuffer error occurs."})}function z(a){for(var b=0;b<G.length;b++)if(G[b]===a)return!0;return!1}f.call(this,"FLV",p,g);var u=this,P,F;u.setup=
function(){!1===P&&(P=!0,u.dispatchEvent(p.READY,{kind:u.kind}))};u.play=function(b,c){if("string"===a.typeOf(b)&&(new a.URL(b)).href!==R.href){try{R.parse(b)}catch(U){a.error('Failed to parse url "'+b+'".');u.dispatchEvent(p.ERROR,{name:U.name,message:U.message});return}if(!z(R.hostname)){R=new a.URL;u.dispatchEvent(p.ERROR,{name:E,message:I});return}ea=!1;C.reset();J.reset();J.info=C.info;Z(c||{});y.src=URL.createObjectURL(K);y.load()}if(b=y.play())b["catch"](function(b){switch(b.name){case "AbortError":a.debug(b.name+
": "+b.message);break;case "NotAllowedError":a.warn("Failed to play due to the autoplay policy, trying to play with muted.");y.muted=!0;y.play();break;default:a.error("Unrecognized error occured, "+b.name+": "+b.message),u.dispatchEvent(p.ERROR,{name:b.name,message:b.message})}});y.controls=!1};u.pause=function(){y.pause();y.controls=!1};u.seek=function(a){y.currentTime=a;u.play()};u.stop=function(){F&&F.abort();a.forEach(O,function(a,b){b&&K.removeSourceBuffer(b);O[a]=null});a.forEach(L,function(a,
b){L[a]=[]});P=!1;R=new a.URL;y.removeAttribute("src");y.load();y.controls=!1};u.muted=function(b){"boolean"===a.typeOf(b)&&(y.muted=b);return y.muted};u.volume=function(b){"number"===a.typeOf(b)&&(y.volume=b);return y.volume};u.cleanup=function(){u.stop();P=!1};u.element=function(){return y};u.config=b;var ea=P=!1;var R=new a.URL;var O={};O[t.KindAudio]=null;O[t.KindVideo]=null;var L={};L[t.KindAudio]=[];L[t.KindVideo]=[];new a.FileKeeper;var K=new (window.MediaSource||window.WebKitMediaSource);
K.addEventListener("sourceopen",d);K.addEventListener("sourceended",e);K.addEventListener("sourceclose",D);K.addEventListener("error",Q);K.addEventListener("webkitsourceopen",d);K.addEventListener("webkitsourceended",e);K.addEventListener("webkitsourceclose",D);K.addEventListener("webkiterror",Q);var C=new m.FLV;C.addEventListener(r.PACKET,function(b){b=b.data.packet;switch(b.kind){case q.KindVideo:if(b.get("Codec")!==x.AVC){u.dispatchEvent(p.ERROR,{name:"NotSupportedError",message:"Video codec "+
a.hex(b.get("Codec"))+" not supported."});break}var c=C.getVideoTracks()[0];if(b.get("DataType")===n.AVC.DataTypes.SEQUENCE_HEADER){if(c){a.warn("Video track already exists, ignored.");break}c=new n.AVC(C.info);c=new t(t.KindVideo,c);C.addTrack(c)}else if(0<b.timestamp&&b.timestamp<=C.info.VideoTimestamp){a.warn("Drops unordered video packet: "+b.timestamp);break}c.source.parse(b);break;case q.KindAudio:if(b.get("Format")!==w.AAC){u.dispatchEvent(p.ERROR,{name:"NotSupportedError",message:"Audio format "+
a.hex(b.get("Format"))+" not supported."});break}c=C.getAudioTracks()[0];if(b.get("DataType")===n.AAC.DataTypes.SPECIFIC_CONFIG){if(c){a.warn("Audio track already exists, ignored.");break}c=new n.AAC(C.info);c=new t(t.KindAudio,c);C.addTrack(c)}else if(0<b.timestamp&&b.timestamp<=C.info.AudioTimestamp){a.warn("Drops unordered audio packet: "+b.timestamp);break}c.source.parse(b);break;case q.KindScript:c=new B.Value;var d=B.decode(c,b.payload.buffer,b.position);c.key=c.get();d+=B.decode(c,b.payload.buffer,
b.position+d);var e={};a.forEach(c.get(),function(a,b){e[b.key]=b.get()});a.log(c.key+":",e);"onMetaData"===c.key&&da(c);break;default:a.error("Unrecognized flv tag "+a.hex(b.kind)+".")}});C.addEventListener(h.ADDTRACK,function(a){a=a.data.track.clone();a.source.addEventListener(r.AVC_CONFIG_RECORD,aa);a.source.addEventListener(r.AAC_SPECIFIC_CONFIG,ba);a.source.addEventListener(r.AVC_SAMPLE,ca);a.source.addEventListener(r.AAC_SAMPLE,X);a.source.addEventListener(r.END_OF_STREAM,H);a.source.addEventListener(p.ERROR,
u.forward);J.addTrack(a)});C.addEventListener(h.REMOVETRACK,function(a){a=J.getTrackById(a.data.track.id);a.source.removeEventListener(r.AVC_CONFIG_RECORD,aa);a.source.removeEventListener(r.AAC_SPECIFIC_CONFIG,ba);a.source.removeEventListener(r.AVC_SAMPLE,ca);a.source.removeEventListener(r.AAC_SAMPLE,X);a.source.removeEventListener(r.END_OF_STREAM,H);a.source.removeEventListener(p.ERROR,u.forward);a.stop();J.removeTrack(a)});C.addEventListener(p.ERROR,u.forward);var J=new m.FMP4;J.addEventListener(p.ERROR,
u.forward);var y=a.createElement("video");y.addEventListener("play",u.forward);y.addEventListener("suspend",u.forward);y.addEventListener("loadstart",u.forward);y.addEventListener("waiting",u.forward);y.addEventListener("abort",u.forward);y.addEventListener("timeout",u.forward);y.addEventListener("durationchange",function(a){u.dispatchEvent(p.DURATIONCHANGE,{duration:y.duration})});y.addEventListener("loadedmetadata",u.forward);y.addEventListener("loadeddata",u.forward);y.addEventListener("progress",
u.forward);y.addEventListener("canplay",u.forward);y.addEventListener("playing",u.forward);y.addEventListener("stalled",u.forward);y.addEventListener("canplaythrough",u.forward);y.addEventListener("pause",u.forward);y.addEventListener("seeking",u.forward);y.addEventListener("seeked",u.forward);y.addEventListener("ratechange",u.forward);y.addEventListener("timeupdate",function(a){a=y.buffered;u.dispatchEvent(p.TIMEUPDATE,{time:y.currentTime,buffered:a.length?a.end(a.length-1):0,duration:y.duration})});
y.addEventListener("volumechange",function(a){u.dispatchEvent(p.VOLUMECHANGE,{muted:y.muted,volume:y.volume})});y.addEventListener("load",u.forward);y.addEventListener("ended",u.forward);y.addEventListener("error",function(a){u.dispatchEvent(p.ERROR,{name:{1:"AbortError",2:"NetworkError",3:"EncodingError",4:"NotSupportedError"}[y.error.code],message:y.error.message})});u.config.objectfit&&l.style(y,{"object-fit":u.config.objectfit});u.config.airplay&&y.setAttribute("x-webkit-airplay","allow");u.config.playsinline&&
(y.setAttribute("playsinline","isiPhoneShowPlaysinline"),y.setAttribute("webkit-playsinline","isiPhoneShowPlaysinline"),y.setAttribute("x5-playsinline",""),y.setAttribute("x5-video-player-type","h5-page"),y.setAttribute("x5-video-player-fullscreen",!0),y.setAttribute("t7-video-player-type","inline"),y.setAttribute("x-webkit-airplay",""));y.muted=u.config.muted;y.volume=u.config.volume}var a=c.utils,l=a.css,e=c.Browser,b=c.events,f=b.EventDispatcher,p=b.Event,g=b.IOEvent,r=b.MediaEvent,h=b.MediaStreamTrackEvent,
k=c.IO,B=a.AMF;b=c.AV;var q=b.Packet,n=b.Codec,m=b.Format,t=m.MediaStreamTrack,w=m.FLV.Formats,x=m.FLV.Codecs;b=c.Module;var G=[String.fromCharCode(115,116,117,100,101,97,115,101,46,99,110),String.fromCharCode(51,57,46,57,56,46,52,48,46,49,57,51),String.fromCharCode(119,119,119,46,99,97,114,45,101,121,101,46,99,110),String.fromCharCode(119,119,119,46,115,116,114,101,97,109,105,110,103,45,118,105,112,46,99,111,109),String.fromCharCode(49,50,48,46,55,54,46,50,51,53,46,49,48,57),String.fromCharCode(49,
50,48,46,55,57,46,54,55,46,49,48,50)],E=String.fromCharCode(83,101,99,117,114,105,116,121,69,114,114,111,114),I=String.fromCharCode(84,104,101,32,111,112,101,114,97,116,105,111,110,32,105,115,32,105,110,115,101,99,117,114,101,46);d.prototype=Object.create(f.prototype);d.prototype.constructor=d;d.prototype.kind="FLV";d.prototype.isSupported=function(b,c){if(e.isMSIE&&9>e.major||!window.MediaSource&&!window.WebKitMediaSource)return!1;b=new a.URL(b);if("http:"!==b.protocol&&"https:"!==b.protocol&&"ws:"!==
b.protocol&&"wss:"!==b.protocol)return!1;c=["flv","",void 0];for(var d=0;d<c.length;d++)if(b.filetype===c[d])return!0;return!1};b.register(d)})(playease);(function(c){c.core={}})(playease);
(function(c){var d=c.utils;c.core.Model=function(a){var l=this,e,b,f;l.definition=function(a){"number"===d.typeOf(a)&&a!==b&&a<l.config.sources.length&&(d.log("Model definition changed: "+a),b=a);return isNaN(b)?null:l.config.sources[b]};l.duration=function(a){"number"===d.typeOf(a)&&a!==f&&(d.log("Model duration changed: "+a),f=a,l.config.mode=Infinity===a?"live":"vod");return f};l.state=function(a){"string"===d.typeOf(a)&&a!==e&&(d.log("playease("+l.config.id+") state changed: "+a),e=a);return e};
(function(){l.config=a;e="";f=NaN;"array"!==d.typeOf(l.config.sources)&&(l.config.sources=[]);l.config.file&&(l.config.sources=[{file:l.config.file,module:l.config.module,loader:l.config.loader}]);b=l.config.sources.length?0:NaN;for(var p=0;p<l.config.sources.length;p++){var g=l.config.sources[p];null==c.module(g.file,l.config.mode)?(d.warn("Ignored unsupported source url: "+g.file+"."),l.config.sources.splice(p--,1)):g["default"]&&(b=p)}0===l.config.sources.length&&d.warn("No supported source url provided.")})()}})(playease);
(function(c){function d(d,l){e.call(this,"View",b,f);var h=this,g;h.setup=function(b){if(void 0!==g){g.cleanup();if(g.kind===b){g.setup();return}g.removeGlobalListener(h.forward);r.innerHTML=""}try{g=new p[b](q.config),r.appendChild(g.element()),g.addGlobalListener(h.forward),g.muted(q.config.muted),g.volume(q.config.volume),g.setup()}catch(m){a.error("Failed to init module "+b+". "+m.name+": "+m.message)}};h.play=function(a,d){if(void 0===a){if(void 0===g){h.dispatchEvent(b.ERROR,{name:"NotFoundError",
message:"Module not found while the source url doesn't provided."});return}}else if(void 0===g||!g.isSupported(a,q.config.mode)){a=c.module(a,q.config.mode);if(null==a){h.dispatchEvent(b.ERROR,{name:"NotSupportedError",message:"No supported module found."});return}h.setup(a.prototype.kind);return}g.play(a,d)};h.pause=function(){g&&g.pause()};h.seek=function(a){g&&g.seek(a)};h.stop=function(){g&&g.stop()};h.muted=function(c){"boolean"===a.typeOf(c)&&(g?q.config.muted=g.muted(c):q.config.muted!==c&&
(q.config.muted=c,h.dispatchEvent(b.VOLUMECHANGE,{muted:q.config.muted,volume:q.config.volume})));return q.config.muted};h.volume=function(c){"number"===a.typeOf(c)&&(g?q.config.volume=g.volume(c):q.config.volume!==c&&(q.config.volume=c,h.dispatchEvent(b.VOLUMECHANGE,{muted:q.config.muted,volume:q.config.volume})));return q.config.volume};h.definition=function(c){"number"===a.typeOf(c)&&c!==q.definition()&&(c<q.config.sources.length?(q.definition(c),h.dispatchEvent(b.SWITCHING,{index:c})):h.dispatchEvent(b.ERROR,
{name:"IndexSizeError",message:"The index is not in the allowed range."}));return q.definition()};h.onSWFState=function(a){switch(a.state){case "buffering":h.dispatchEvent(b.WAITING);break;case "playing":h.dispatchEvent(b.PLAYING);break;case "paused":h.dispatchEvent(b.PAUSE);break;case "stopped":h.dispatchEvent(b.ENDED);break;case "error":h.dispatchEvent(b.ERROR,{name:err.name,message:"Flash plugin error occured."});break;default:h.dispatchEvent(b.ERROR,{name:"InvalidStateError",message:"Invalid state "+
a.state+"."})}};h.element=function(){return g?g.element():null};h.resize=function(a,b){};var r=d;var q=l}var a=c.utils,l=c.events,e=l.EventDispatcher,b=l.Event,f=l.IOEvent,p=c.Module;l=c.core;d.prototype=Object.create(e.prototype);d.prototype.constructor=d;l.View=d})(playease);
(function(c){function d(c,d){function g(a){q.state(a.type);h.forward(a)}e.call(this,"Controller",b,f);var h=this,k,l;h.play=function(a,c){if(void 0===a){if("pause"===q.state()){n.play();return}c=q.definition();if(null==c||!c.file){h.dispatchEvent(b.ERROR,{name:"NotFoundError",message:"No supported source url found."});return}a=c.file}k=a;l=c;n.play(k,l)};h.reload=function(){n.stop();h.play(k,l)};var q=c;var n=d;n.addEventListener(b.READY,function(b){a.log("playease("+c.config.id+') module "'+b.data.kind+
'" is ready.');g(b);h.play(k,l)});n.addEventListener(b.PLAY,g);n.addEventListener(f.SUSPEND,h.forward);n.addEventListener(f.LOADSTART,h.forward);n.addEventListener(f.STALLED,h.forward);n.addEventListener(b.WAITING,g);n.addEventListener(f.ABORT,h.forward);n.addEventListener(f.TIMEOUT,h.forward);n.addEventListener(b.DURATIONCHANGE,function(a){q.duration(a.data.duration);h.forward(a)});n.addEventListener(b.LOADEDMETADATA,h.forward);n.addEventListener(b.LOADEDDATA,h.forward);n.addEventListener(f.PROGRESS,
h.forward);n.addEventListener(b.CANPLAY,h.forward);n.addEventListener(b.PLAYING,g);n.addEventListener(b.CANPLAYTHROUGH,h.forward);n.addEventListener(b.PAUSE,g);n.addEventListener(b.SEEKING,g);n.addEventListener(b.SEEKED,h.forward);n.addEventListener(b.SWITCHING,function(b){var c=q.definition();a.log("Switching definition "+b.data.index+": "+c.file);var d=0,e=n.element();e&&(d=e.currentTime);g(b);h.play(c.file,c);n.seek(d)});n.addEventListener(b.SWITCHED,h.forward);n.addEventListener(b.RATECHANGE,
h.forward);n.addEventListener(b.TIMEUPDATE,h.forward);n.addEventListener(b.VOLUMECHANGE,h.forward);n.addEventListener(f.LOAD,h.forward);n.addEventListener(b.ENDED,g);n.addEventListener(b.ERROR,function(b){a.error(b.data.name+": "+b.data.message);n.stop();g(b)})}var a=c.utils,l=c.events,e=l.EventDispatcher,b=l.Event,f=l.IOEvent;c=c.core;d.prototype=Object.create(e.prototype);d.prototype.constructor=d;c.Controller=d})(playease);
(function(c){function d(b){function c(){d.play=k.play;d.pause=f.pause;d.seek=f.seek;d.stop=f.stop;d.reload=k.reload;d.muted=f.muted;d.volume=f.volume;d.definition=f.definition;d.element=f.element;d.duration=function(){return e.duration()};d.state=function(){return e.state()};d.dispatchEvent(g.BIND)}p.call(this,"API",g,r);var d=this,e,f,k;d.setup=function(b,g){d.config=a.extendz({id:d.id},B,g);e=new h.Model(d.config);f=new h.View(b,e);k=new h.Controller(e,f);k.addGlobalListener(d.forward);c();d.config.autoplay&&
k.play()};d.id=b}var a=c.utils,l=c.OS,e=c.Kernel,b=c.Browser,f=c.events,p=f.EventDispatcher,g=f.Event,r=f.IOEvent,h=c.core,k={},B={airplay:"allow",autoplay:!1,dynamic:!1,bufferLength:.1,file:"",latency:"none",loop:!1,maxBufferLength:30,mode:"live",module:"",muted:!1,objectfit:"contain",playsinline:!0,preload:"none",smooth:!1,swf:"swf/playease.swf",volume:.8,loader:{name:"auto",mode:"cors",credentials:"omit"},sources:[]};a.log("Version: playease/"+c.VERSION);a.log("OS: "+l.name+"/"+l.version+(l.model?
"; "+l.model:""));a.log("Kernel: "+e.name+"/"+e.version);a.log("Browser: "+b.name+"/"+b.version);d.prototype=Object.create(p.prototype);d.prototype.constructor=d;d.prototype.CONF=B;d.get=function(a){void 0==a&&(a=0);var b=k[a];void 0==b&&(b=new d(a),k[a]=b);return b};c.API=d})(playease);
(function(c){function d(b){function c(){a.forEach(v.config.plugins,function(b,c){if("function"!==a.typeOf(d[c.kind]))a.error("Unrecognized plugin: index="+b+", kind="+c.kind+".");else if(!1===c.visibility)a.log("Component "+c.kind+" is disabled.");else{"Controlbar"!==c.kind||v.config.file||(c.sources=v.config.sources);try{var e=new d[c.kind](c);"function"===a.typeOf(e.addGlobalListener)&&e.addGlobalListener(I);A.appendChild(e.element());u[c.kind]=e}catch(O){a.error("Failed to initialize plugin: index="+
b+", kind="+c.kind+". Error="+O.message)}}})}function n(){A.setAttribute("mode",v.config.mode);A.setAttribute("state","");var a=u.Controlbar;a?(A.setAttribute("controls",a.config.autohide?"motion":"always"),a.config.autohide&&A.addEventListener("mousemove",T)):A.setAttribute("controls","never");(a=u.Danmu)&&A.setAttribute("danmu",a.config.enable?"on":"off");A.setAttribute("muted",v.config.muted);A.setAttribute("fullpage",!1);A.setAttribute("fullscreen",!1);u.ContextMenu&&(A.oncontextmenu=function(a){a=
a||window.event;a.preventDefault?a.preventDefault():a.returnValue=!1;return!1},document.addEventListener("mouseup",Q),A.addEventListener("mouseup",Q),document.addEventListener("mousedown",Z),A.addEventListener("mousedown",Z));document.addEventListener("fullscreenchange",E);document.addEventListener("webkitfullscreenchange",E);document.addEventListener("mozfullscreenchange",E);document.addEventListener("MSFullscreenChange",E)}function t(a){v.config=z.config;v.play=z.play;v.pause=z.pause;v.seek=z.seek;
v.stop=z.stop;v.reload=z.reload;v.muted=z.muted;v.volume=z.volume;v.definition=z.definition;v.element=z.element;v.duration=z.duration;v.state=z.state;v.forward(a)}function E(a){document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||v.fullscreen(!1)}function I(a){switch(a.type){case h.CHANGE:D(a);break;case k.CLICK:V(a);break;case k.DOUBLE_CLICK:Y(a)}}function D(a){var b={timebar:function(){var b=z.duration();b&&z.seek(b*a.data.value/
100)},volumebar:function(){z.volume(a.data.value/100)},definition:function(){z.definition(parseInt(a.data.value))}}[a.data.name];b?b():v.forward(a)}function V(a){var b={play:v.play,pause:v.pause,stop:v.stop,reload:v.reload,mute:function(){v.muted(!0)},unmute:function(){v.muted(!1)},danmuoff:function(){v.danmu(!1)},danmuon:function(){v.danmu(!0)},fullpage:function(){v.fullpage(!0)},exitfullpage:function(){v.fullpage(!1)},fullscreen:function(){v.fullscreen(!0)},exitfullscreen:function(){v.fullscreen(!1)}}[a.data.name];
b?b():v.forward(a)}function Y(a){var b={fullpage:function(){v.fullpage("true"!==A.getAttribute("fullpage"))},fullscreen:function(){v.fullscreen("true"!==A.getAttribute("fullscreen"))}}[a.data.name];b?b():v.forward(a)}function T(a){(a=u.Controlbar)&&e.style(a.element(),{display:"block"});P.stop();P.start()}function Q(a){var b=u.ContextMenu;if(void 0===a.currentTarget)for(var c=a.srcElement;c;c=c.offsetParent)if(c===A){a.currentTarget=A;break}if(2===a.button&&a.currentTarget===A){var d=0,f=0;for(c=
a.srcElement||a.target;c&&c!==A;c=c.offsetParent)d+=c.offsetLeft,f+=c.offsetTop;e.style(b.element(),{left:a.offsetX+d+"px",top:a.offsetY+f+"px",display:"block"});a.preventDefault?a.preventDefault():a.returnValue=!1;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;return!1}}function Z(a){e.style(u.ContextMenu.element(),{display:"none"})}function W(a){H(a)}function N(a){a.type=p.ENDED;H(a)}function da(a){A.setAttribute("mode",v.config.mode);v.forward(a)}function aa(a){var b=u.Controlbar;b&&(b=
b.components.definition)&&b.value(a.data.index);H(a)}function ba(b){var c=u.Controlbar;if(c){var d=c.components.timebar;d&&(d.duration=b.data.duration,d.progress(isNaN(b.data.duration)?0:b.data.buffered/b.data.duration*100),d.position(isNaN(b.data.duration)?0:b.data.time/b.data.duration*100));if(c=c.components.time){d=a.time2string(b.data.time);var e=a.time2string(b.data.duration);c.text(d+"/"+e)}}v.forward(b)}function ca(a){var b=100*a.data.volume|0;A.setAttribute("muted",a.data.muted||!b);var c=
u.Controlbar;c&&(c.resize(M.clientWidth,M.clientHeight),c=c.components.volumebar)&&(c.position(b),c.thumb(b));v.forward(a)}function X(a){var b=u.Display;b&&b.error(a.data);a.type=p.ERROR;H(a);v.stop()}function H(a){A.setAttribute("state",a.type);var b=u.Display;b&&b.update(a.type);v.resize();v.forward(a)}f.call(this,"UI",a.extendz({},p,g,r));var v=this,S,A,M,z;v.setup=function(b,d){S=b;"array"!==a.typeOf(d.plugins)&&(d.plugins=[]);b=[];for(var e=0;e<m.plugins.length;e++){var f=m.plugins[e],h=f.prototype.CONF;
a:{for(var k=0;k<d.plugins.length;k++){var l=d.plugins[k];if(l.kind===f.prototype.kind){f=l;break a}}f=null}b.push(a.extendz({},h,f))}v.config=a.extendz({id:v.id},q.prototype.CONF,m,d);v.config.plugins=b;A=a.createElement("div","pe-wrapper pe-ui-"+v.config.skin);M=a.createElement("div","pe-content");A.appendChild(M);S.appendChild(A);z=q.get(v.id);z.addEventListener(p.BIND,t);z.addEventListener(p.READY,W);z.addEventListener(p.PLAY,H);z.addEventListener(g.SUSPEND,X);z.addEventListener(g.LOADSTART,v.forward);
z.addEventListener(p.WAITING,H);z.addEventListener(g.ABORT,N);z.addEventListener(g.TIMEOUT,X);z.addEventListener(p.DURATIONCHANGE,da);z.addEventListener(p.LOADEDMETADATA,v.forward);z.addEventListener(p.LOADEDDATA,v.forward);z.addEventListener(g.PROGRESS,v.forward);z.addEventListener(p.CANPLAY,v.forward);z.addEventListener(p.PLAYING,H);z.addEventListener(g.STALLED,v.forward);z.addEventListener(p.CANPLAYTHROUGH,v.forward);z.addEventListener(p.PAUSE,H);z.addEventListener(p.SEEKING,H);z.addEventListener(p.SEEKED,
v.forward);z.addEventListener(p.SWITCHING,aa);z.addEventListener(p.SWITCHED,v.forward);z.addEventListener(p.RATECHANGE,v.forward);z.addEventListener(p.TIMEUPDATE,ba);z.addEventListener(p.VOLUMECHANGE,ca);z.addEventListener(g.LOAD,v.forward);z.addEventListener(p.ENDED,H);z.addEventListener(p.ERROR,X);z.setup(M,v.config);c();n();v.resize()};v.danmu=function(a){A.setAttribute("danmu",a?"on":"off");var b=u.Controlbar;b&&b.resize(M.clientWidth,M.clientHeight);return(b=u.Danmu)?b.enable(a):!1};v.shoot=
function(a,b){var c=u.Danmu;c&&(c.shoot(a,b),v.dispatchEvent(r.SHOOTING,{text:a,data:b}))};v.displayAD=function(a){var b=u.AD;b&&b.display(a)};v.removeAD=function(){var a=u.AD;a&&a.remove()};v.fullpage=function(a){if(void 0===a)return"true"===A.getAttribute("fullpage");(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)&&v.fullscreen(!1);A.setAttribute("fullpage",!!a);v.resize();v.dispatchEvent(r.FULLPAGE,{status:a})};v.fullscreen=
function(b){if(void 0===b)return"true"===A.getAttribute("fullscreen");var c=z.element();if(b){var d=A.requestFullscreen||A.webkitRequestFullScreen||A.mozRequestFullScreen||A.msRequestFullscreen;if(l.isMobile){if(c&&c.webkitEnterFullscreen&&(c.setAttribute("x5-video-orientation","landscape"),c.webkitEnterFullscreen()),l.isIOS)return}else if(d){if(c=d.call(A))c["catch"](function(b){a.debug(b.name+": "+b.message)})}else{v.fullpage(b);return}}else if(d=document.exitFullscreen||document.webkitCancelFullScreen||
document.mozCancelFullScreen||document.msExitFullscreen){if(c&&c.setAttribute("x5-video-orientation","portraint"),c=d.call(document))c["catch"](function(b){a.debug(b.name+": "+b.message)})}else{v.fullpage(b);return}if(c=u.Controlbar)e.style(c.element(),{display:"block"}),b?c.config.autohide||(A.setAttribute("controls","motion"),A.addEventListener("mousemove",T)):c.config.autohide||(A.setAttribute("controls","always"),A.removeEventListener("mousemove",T),P.stop());A.setAttribute("fullscreen",!!b);
v.resize();v.dispatchEvent(r.FULLSCREEN,{status:b})};v.resize=function(){var b=M.clientWidth,c=M.clientHeight;if(""!==v.config.aspectratio){var d=v.config.aspectratio.match(/(\d+):(\d+)/);if("array"===a.typeOf(d)&&2<d.length){var e=parseInt(d[1]);d=parseInt(d[2]);c=b*d/e;"always"===A.getAttribute("controls")&&(c-=40)}}a.forEach(u,function(a,d){d.resize(b,c)});v.dispatchEvent(r.RESIZE,{width:b,height:c})};v.id=b;var u={};var P=new a.Timer(3E3,1);P.addEventListener(B.TIMER,function(a){(a=u.Controlbar)&&
e.style(a.element(),{display:"none"})})}var a=c.utils,l=c.OS,e=a.css,b=c.events,f=b.EventDispatcher,p=b.Event,g=b.IOEvent,r=b.UIEvent,h=b.GlobalEvent,k=b.MouseEvent,B=b.TimerEvent,q=c.API,n={},m={aspectratio:"",skin:"classic",plugins:[]};d.prototype=Object.create(f.prototype);d.prototype.constructor=d;d.prototype.CONF=m;d.register=function(b,c){try{m.plugins.splice(c||m.plugins.length,0,b),d[b.prototype.kind]=b}catch(x){a.error("Failed to register plugin "+b.prototype.kind+", Error="+x.message)}};
d.get=function(a){null==a&&(a=0);var b=n[a];void 0===b&&(b=new d(a),n[a]=b);return b};c.ui=d.get;c.UI=d})(playease);(function(c){c.UI.components={}})(playease);
(function(c){function d(c,d){e.call(this,"Button",[b.CLICK]);var f=this;f.element=function(){return l};f.resize=function(a,b){};var l=a.createElement("span","pe-button "+c);l.addEventListener("click",function(a){f.dispatchEvent(b.CLICK,{name:c})})}var a=c.utils,l=c.events,e=l.EventDispatcher,b=l.MouseEvent;c=c.UI.components;d.prototype=Object.create(e.prototype);d.prototype.constructor=d;d.prototype.kind="Button";c.Button=d})(playease);
(function(c){function d(c,b){l.call(this,"Label");this.text=function(a){void 0!==a&&(e.innerHTML=a);return d};this.element=function(){return e};this.resize=function(a,b){};var d=b||"";var e=a.createElement("span","pe-label "+c);e.innerHTML=d}var a=c.utils,l=c.events.EventDispatcher;c=c.UI.components;d.prototype=Object.create(l.prototype);d.prototype.constructor=d;d.prototype.kind="Label";c.Label=d})(playease);
(function(c){function d(){e.call(this,"Preview",[b.CLICK]);this.append=function(b,c,e){var f=a.createElement("img");f.setAttribute("min",c);f.setAttribute("max",e||NaN);f.src=b;d.appendChild(f)};this.element=function(){return c};this.resize=function(a,b){};var c=a.createElement("div","pe-tooltip preview");var d=a.createElement("div");c.appendChild(d)}var a=c.utils,l=c.events,e=l.EventDispatcher,b=l.MouseEvent;c=c.UI.components;d.prototype=Object.create(e.prototype);d.prototype.constructor=d;d.prototype.kind=
"Preview";c.Preview=d})(playease);
(function(c){function d(c,d){function e(a){a=a.target.getAttribute("value");a!==p&&h.dispatchEvent(f.CHANGE,{name:g,value:a});t.style.visibility="hidden"}b.call(this,"Select",[f.CHANGE]);var h=this,g,p,q,n,m,t;h.append=function(b,c){var d=a.createElement("span","pe-select-menu-option");d.addEventListener("click",e);d.setAttribute("value",c||q.length);d.innerHTML=b;q.push(d);t.appendChild(d);1===q.length&&h.value(d.getAttribute("value"))};h.remove=function(a){for(var b=0;b<q.length;b++){var c=q[b];
if(c.getAttribute("value")===a){c.removeEventListener("click",e);t.removeChild(c);q.splice(b,1);p===a&&(p=q.length||NaN,m.innerHTML=q.length?q[0].innerHTML:_placeholder);break}}};h.value=function(a){switch(typeof a){case "number":case "string":for(var b=0;b<q.length;b++){var c=q[b];if(c.getAttribute("value")==a){p=a;m.innerHTML=c.innerHTML;n.setAttribute("value",a);h.resize();break}}}return p};h.element=function(){return n};h.resize=function(a,b){l.style(t,{left:(n.clientWidth-t.clientWidth)/2+"px"})};
(function(){g=c;p=NaN;q=[];n=a.createElement("div","pe-select "+g);m=a.createElement("span","pe-select-text");t=a.createElement("div","pe-select-menu");t.style.visibility="hidden";n.appendChild(m);n.appendChild(t);m.addEventListener("click",function(a){t.style.visibility="hidden"===t.style.visibility?"visible":"hidden"})})()}var a=c.utils,l=a.css,e=c.events,b=e.EventDispatcher,f=e.GlobalEvent;c=c.UI.components;d.prototype=Object.create(b.prototype);d.prototype.constructor=d;d.prototype.kind="Select";
c.Select=d})(playease);
(function(c){function d(b,c){function d(a){a.button===(l.isIE8?1:0)&&(a.target||(a.target=a.srcElement),E===a.target||E===a.target.parentNode||E===a.target.parentNode.parentNode)&&(a=n(a.clientX,a.clientY),a!==G.getAttribute("value")&&m.dispatchEvent(p.CHANGE,{name:r,value:a}),x=!0)}function h(a){var b=n(a.clientX,a.clientY);E!==a.target&&E!==a.target.parentNode&&E!==a.target.parentNode.parentNode||m.dispatchEvent(g.MOUSE_MOVE,{name:r,value:b});x&&b!==G.getAttribute("value")&&m.dispatchEvent(p.CHANGE,
{name:r,value:b})}function q(a){x&&(a=n(a.clientX,a.clientY),a!==G.getAttribute("value")&&m.dispatchEvent(p.CHANGE,{name:r,value:a}),x=!1)}function n(a,b){for(var c=E;c;c=c.offsetParent)a-=c.offsetLeft,b-=c.offsetTop;a="horizontal"===w?(a/E.clientWidth*100).toFixed(3):(b/E.clientHeight*100).toFixed(3);return a=Math.max(0,Math.min(a,100))}f.call(this,"Slider",[p.CHANGE,g.MOUSE_MOVE]);var m=this;m.value=function(a){void 0!==a&&(I.innerHTML=a);return I.innerHTML};m.progress=function(a){e.style(V,{width:a+
"%"})};m.position=function(a){G.setAttribute("value",a);e.style(Y,{width:a+"%"})};m.thumb=function(a){e.style(T,{left:a+"%"})};m.element=function(){return G};m.nonius=function(){return I};m.resize=function(a,b){};var r=b;var w="horizontal";var x=!1;var G=a.createElement("div","pe-slider "+r);var E=a.createElement("div","pe-slider-content");var I=a.createElement("span","pe-tooltip value");var D=a.createElement("span","pe-slider-rail background");var V=a.createElement("span","pe-slider-rail progress");
var Y=a.createElement("span","pe-slider-rail position");var T=a.createElement("span","pe-slider-thumb");T.innerHTML="<span></span>";E.appendChild(I);E.appendChild(D);E.appendChild(V);E.appendChild(Y);E.appendChild(T);G.appendChild(E);switch(b){case "timebar":m.value("--:--");break;case "volumebar":m.value(c),m.position(c),m.thumb(c)}try{document.addEventListener("mousedown",d),document.addEventListener("mousemove",h),document.addEventListener("mouseup",q)}catch(Q){document.attachEvent("onmousedown",
d),document.attachEvent("onmousemove",h),document.attachEvent("onmouseup",q)}}var a=c.utils,l=c.Browser,e=a.css,b=c.events,f=b.EventDispatcher,p=b.GlobalEvent,g=b.MouseEvent;c=c.UI.components;d.prototype=Object.create(f.prototype);d.prototype.constructor=d;d.prototype.kind="Slider";d.HORIZONTAL="horizontal";d.VERTICAL="vertical";c.Slider=d})(playease);
(function(c){function d(b){function c(b){a.log('Failed to load poster "'+g.src+'".')}e.call(this,"Poster");this.element=function(){return d};this.resize=function(a,b){};this.config=b;var d=a.createElement("div","pe-poster");var g=new Image;g.onload=function(a){d.appendChild(g)};g.onabort=c;g.onerror=c;this.config.objectfit&&l.style(g,{"object-fit":this.config.objectfit});g.src=this.config.file}var a=c.utils,l=a.css,e=c.events.EventDispatcher;c=c.UI;d.prototype=Object.create(e.prototype);d.prototype.constructor=
d;d.prototype.kind="Poster";d.prototype.CONF={kind:"Poster",file:"image/poster.png",objectfit:"fill",visibility:!0};c.register(d)})(playease);
(function(c){function d(c){function d(a){k.removeChild(a.target)}b.call(this,"Danmu",[f.SHOOTING]);var e=this;e.enable=function(b){"boolean"===a.typeOf(b)&&(e.config.enable=b);return e.config.enable};e.shoot=function(b,c){if(e.config.enable){var f=a.createElement("div","pe-danmu-item");f.addEventListener("transitionend",d);f.innerHTML=b;k.appendChild(f);b=h.clientWidth+f.clientWidth;l.style(f,a.extendz({},c,{top:Math.floor(Math.random()*Math.floor(h.clientHeight/e.config.lineHeight))*e.config.lineHeight+
"px",left:h.clientWidth+"px",transform:"translateX(-"+b+"px)",transition:"transform "+b/e.config.speed+"s linear 0s"}))}};e.element=function(){return h};e.resize=function(a,b){};e.config=c;var h=a.createElement("div","pe-danmu");var k=a.createElement("div");h.appendChild(k)}var a=c.utils,l=a.css,e=c.events,b=e.EventDispatcher,f=e.UIEvent;c=c.UI;d.prototype=Object.create(b.prototype);d.prototype.constructor=d;d.prototype.kind="Danmu";d.prototype.CONF={kind:"Danmu",speed:100,lineHeight:32,enable:!0,
visibility:!0};c.register(d)})(playease);
(function(c){function d(c){b.call(this,"Display",[g.CLICK]);var d=this;d.error=function(a){var b=d.components.error;b&&b.text(a&&!b.text()?a.name+": "+a.message:"")};d.update=function(a){switch(a){case f.WAITING:m.start();break;default:m.stop()}a!==f.ERROR&&d.error()};d.element=function(){return e};d.resize=function(a,b){};d.config=c;d.components={};var e=a.createElement("div","pe-display");var k=a.createElement("div");k.addEventListener("click",function(a){a=(new Date).getTime();a<=t+700?(t=0,d.dispatchEvent(g.DOUBLE_CLICK,
{name:d.config.ondoubleclick})):t=a});e.appendChild(k);(function(){for(var b;null!==(b=h.exec(d.config.layout));){var c=void 0,e=void 0,f=k,g=b[1],l=b[2];try{e=new r[g](l,b[3]),"function"===a.typeOf(e.addGlobalListener)&&e.addGlobalListener(d.forward),c=e.element(),f.appendChild(c),d.components[l]=e}catch(V){a.error("Failed to initialize component: type="+g+", name="+l+", Error="+V.message)}}})();var m=new a.Timer(80);m.addEventListener(p.TIMER,function(a){a=30*m.currentCount()%360;var b=d.components.waiting;
b&&l.style(b.element(),{filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation="+a*Math.PI/180+")",transform:"rotate("+a+"deg)","-o-transform":"rotate("+a+"deg)","-ms-transform":"rotate("+a+"deg)","-moz-transform":"rotate("+a+"deg)","-webkit-transform":"rotate("+a+"deg)"})});var t=0}var a=c.utils,l=a.css,e=c.events,b=e.EventDispatcher,f=e.Event,p=e.TimerEvent,g=e.MouseEvent;c=c.UI;var r=c.components,h=/\[([a-z]+):([a-z]+)=([^\]]+)?\]/gi;d.prototype=Object.create(b.prototype);d.prototype.constructor=
d;d.prototype.kind="Display";d.prototype.CONF={kind:"Display",layout:"[Button:play=][Button:waiting=][Label:error=]",ondoubleclick:"fullscreen",visibility:!0};c.register(d)})(playease);
(function(c){function d(c){l.call(this,"AD");this.display=function(a){b.innerHTML="";b.appendChild(a)};this.remove=function(){b.innerHTML=""};this.element=function(){return b};this.resize=function(a,b){};this.config=c;var b=a.createElement("div","pe-ad")}var a=c.utils,l=c.events.EventDispatcher;c=c.UI;d.prototype=Object.create(l.prototype);d.prototype.constructor=d;d.prototype.kind="AD";d.prototype.CONF={kind:"AD",visibility:!0};c.register(d)})(playease);
(function(c){function d(c){l.call(this,"Share");this.display=function(a){b.innerHTML="";b.appendChild(a)};this.element=function(){return b};this.resize=function(a,b){};this.config=c;var b=a.createElement("div","pe-share")}var a=c.utils,l=c.events.EventDispatcher;c=c.UI;d.prototype=Object.create(l.prototype);d.prototype.constructor=d;d.prototype.kind="Share";d.prototype.CONF={kind:"Share",visibility:!0};c.register(d)})(playease);
(function(c){function d(b){function c(b){a.log('Failed to load logo "'+r.src+'".')}e.call(this,"Logo");var d=this;d.element=function(){return g};d.resize=function(a,b){};d.config=b;var g=a.createElement("div","pe-logo");g.style=d.config.style;_logo=a.createElement("a");var r=new Image;r.onload=function(a){l.style(g,{width:r.width+"px",height:r.height+"px"});l.style(_logo,{background:"url("+d.config.file+")"});_logo.href=d.config.link;_logo.target=d.config.target;g.appendChild(_logo)};r.onabort=c;
r.onerror=c;r.src=d.config.file}var a=c.utils,l=a.css,e=c.events.EventDispatcher;c=c.UI;d.prototype=Object.create(e.prototype);d.prototype.constructor=d;d.prototype.kind="Logo";d.prototype.CONF={kind:"Logo",file:"http://studease.cn/images/content/playease-logo.png",link:"https://github.com/studease/playease",target:"_blank",style:"margin: 3% 5%; width: 36px; height: 36px; top: 0px; right: 0px;",visibility:!0};c.register(d)})(playease);
(function(c){function d(b){function c(b){var c=b.target.element(),d=b.target.nonius(),f=c.clientWidth*b.data.value/100-d.clientWidth/2;switch(b.data.name){case "timebar":b.target.thumb(b.data.value);b.target.duration?b.target.value(a.time2string(b.target.duration*b.data.value/100)):b.target.value("--:--");break;case "volumebar":b.target.value(b.data.value|0)}b=f+c.offsetLeft;1>b&&c.offsetParent===m?e.style(d,{left:1-c.offsetLeft+"px",right:"auto"}):c.offsetParent.offsetLeft+b+d.clientWidth>m.clientWidth-
1?e.style(d,{left:"auto",right:c.offsetParent.offsetLeft+c.offsetLeft+c.clientWidth+1-m.clientWidth+"px"}):e.style(d,{left:f+"px",right:"auto"})}f.call(this,"Controlbar",[p.CHANGE,g.CLICK,g.MOUSE_MOVE]);var d=this;d.element=function(){return k};d.resize=function(b,c){a.forEach(d.components,function(a,d){d.resize(b,c);switch(a){case "timebar":break;default:if(void 0!==d.tooltip){a=d.element();d=d.tooltip;var f=(a.clientWidth-d.clientWidth)/2,h=f+a.offsetLeft;1>h&&a.offsetParent===m?e.style(d,{left:1-
a.offsetLeft+"px",right:"auto"}):null!==a.offsetParent&&(a.offsetParent.offsetLeft+h+d.clientWidth>m.clientWidth-1?e.style(d,{left:"auto",right:a.offsetParent.offsetLeft+a.offsetLeft+a.clientWidth+1-m.clientWidth+"px"}):e.style(d,{left:f+"px",right:"auto"}))}}})};d.config=b;d.components={};var k=a.createElement("div","pe-controlbar");var m=a.createElement("div");k.appendChild(m);(function(){var b=d.config.layout.split("|");if(4!==b.length)throw{name:"DataError",message:"Controlbar should have exactly 4 sections."};
var e=a.createElement("div","pe-left"),f=a.createElement("div","pe-center"),k=a.createElement("div","pe-right");a.forEach([m,e,f,k],function(e,f){for(var k;null!==(k=h.exec(b[e]));)a:{var n=void 0,m=void 0;var p=f;var q=k[1],t=k[2];k=k[3];switch(t){case "mute":case "unmute":case "volumebar":if(l.isMobile)break a;break;case "definition":if(!d.config.sources||2>d.config.sources.length)break a}try{m=new r[q](t,k),"function"===a.typeOf(m.addGlobalListener)&&(m.addGlobalListener(d.forward),"Slider"===
q&&m.addEventListener(g.MOUSE_MOVE,c)),n=m.element(),p.appendChild(n),d.components[t]=m}catch(W){a.error("Failed to initialize component: type="+q+", name="+t+", Error="+W.message);break a}switch(t){case "quote":case "time":case "volumebar":break;default:void 0!==k&&("function"===a.typeOf(r[k])?(p=new r[k],n.insertAdjacentElement("afterbegin",p.element())):(p=a.createElement("span","pe-tooltip"),p.innerHTML=k,n.insertAdjacentElement("afterbegin",p)),m.tooltip=p)}}});m.appendChild(e);m.appendChild(f);
m.appendChild(k)})();(function(){var b=d.components.definition;b&&a.forEach(d.config.sources,function(a,c){b.append(c.label);c["default"]&&b.value(a)})})()}var a=c.utils,l=c.OS,e=a.css,b=c.events,f=b.EventDispatcher,p=b.GlobalEvent,g=b.MouseEvent;c=c.UI;var r=c.components,h=/\[([a-z]+):([a-z]+)=([^\]]+)?\]/gi;d.prototype=Object.create(f.prototype);d.prototype.constructor=d;d.prototype.kind="Controlbar";d.prototype.CONF={kind:"Controlbar",layout:"[Slider:timebar=Preview]|[Button:play=Play][Button:pause=Pause][Button:reload=Reload][Button:stop=Stop][Label:quote=Live broadcast][Label:time=00:00/00:00]||[Button:report=Report][Button:mute=Mute][Button:unmute=Unmute][Slider:volumebar=80][Select:definition=Definition][Button:danmuoff=Danmu Off][Button:danmuon=Danmu On][Button:fullpage=Fullpage][Button:exitfullpage=Exit Fullpage][Button:fullscreen=Fullscreen][Button:exitfullscreen=Exit Fullscreen]",
autohide:!1,visibility:!0};c.register(d)})(playease);
(function(c){function d(b){e.call(this,"ContextMenu");var d=this,f,r;d.element=function(){return f};d.resize=function(a,b){};(function(){d.config=b;d.config.items=[{id:0,mode:"featured",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAA2UExURebm5ubm5ubm5ubm5ubm5ubm5ubm5kxpcebm5ubm5ubm5ubm5ubm5ubm5ubm5ubm5ubm5ubm5rnvS8UAAAASdFJOU/9GGpAEVa0AOw0vovB5tnDaudiwhIIAAACiSURBVBjTXZHbAsQQDERDkQS97P//7GaibLfzgJxgIoiHVHIWvQPysRZylbpg2mhpSwOmgx46kkPf10KMoflewGqLLsNBugXVIDxuZhRuTGrJZmHIXhBuUEIuMC7pJ3I4R9nGyHzCY2eONmWHesMyoQyI3BXncRgZ1M+16zJCSbMRqyT4LriKt2calP9nWkMM7q+GcEo/OFvnGrDIo/Ov7/gCDPoHpWEsixcAAAAASUVORK5CYII=",text:"PLAYEASE/"+
c.VERSION,shortcut:"",handler:function(){window.open("https://github.com/studease/playease")}}].concat("array"===a.typeOf(b.items)?b.items:[]);l.flash&&d.config.items.push({mode:"",icon:"",text:"Flash Version "+l.flash,shortcut:"",handler:function(){window.open("http://get.adobe.com/cn/flashplayer/about/")}});f=a.createElement("div","pe-contextmenu");r=a.createElement("table");f.appendChild(r);for(var e=0;e<d.config.items.length;e++){var g=d.config.items[e],p=a.createElement("tr","pe-contextmenu-item"+
(g.mode?" "+g.mode:""));p.onmousedown=g.handler;var q=a.createElement("td");if(g.icon){var n=a.createElement("span","pe-contextmenu-item-icon");n.innerHTML='<a style="background-image: url('+g.icon+');"></a>';q.appendChild(n)}var m=a.createElement("td");g.text&&(n=a.createElement("span","pe-contextmenu-item-text"),n.innerHTML=g.text,m.appendChild(n));var t=a.createElement("td");g.shortcut&&(n=a.createElement("span","pe-contextmenu-item-shortcut"),n.innerHTML=g.shortcut,t.appendChild(n));p.appendChild(q);
p.appendChild(m);p.appendChild(t);r.appendChild(p)}})()}var a=c.utils,l=c.Browser,e=c.events.EventDispatcher,b=c.UI;d.prototype=Object.create(e.prototype);d.prototype.constructor=d;d.prototype.kind="ContextMenu";d.prototype.CONF={kind:"ContextMenu",items:[],visibility:!0};b.register(d)})(playease);