playease=function(){if(playease.API)return playease.API.get.apply(this,arguments)};playease.VERSION="2.1.10";playease.DEBUG=!1;
(function(c){var d={extendz:function(){var a=Array.prototype.slice.call(arguments,0),e=a[0];switch(d.typeOf(e)){case "null":case "number":case "string":throw{name:"TypeError",message:"Could not extend to type "+d.typeOf(e)+"."};}for(var b=1;b<a.length;b++){var f=a[b];switch(d.typeOf(f)){case "null":case "number":case "string":c.DEBUG&&d.warn("Could not extend from type "+d.typeOf(f));break;case "array":d.forEach(f,function(b,a){switch(d.typeOf(a)){case "object":e.push(d.extendz({},a));break;case "array":e.push(d.extendz([],
a));break;default:"array"===d.typeOf(e)?e.push(a):e[b]=a}});break;default:d.forEach(f,function(b,a){switch(d.typeOf(a)){case "object":switch(d.typeOf(e[b])){case "null":case "number":case "string":e[b]={}}e[b]=d.extendz(e[b],a);break;case "array":e[b]=d.extendz([],a);break;default:e[b]=a}})}}return e},forEach:function(a,e){for(var b in a)a.hasOwnProperty&&"function"===d.typeOf(a.hasOwnProperty)?a.hasOwnProperty(b)&&e(b,a[b]):e(b,a[b])},getCookie:function(a){var e;return(e=document.cookie.match(new RegExp("(^| )"+
a+"=([^;]*)(;|$)")))?unescape(e[2]):null},padStart:function(a,e,b){for(a+="";a.length<e;)a=b+a;return a},padEnd:function(a,e,b){for(a+="";a.length<e;)a+=b;return a},hex:function(a){return"0x"+d.padStart(a.toString(16),2,"0")},time2string:function(a){var e="",b=a/3600|0,f=a%3600/60|0;a=a%60|0;b&&(e+=d.padStart(b,2,"0")+":");return e+=d.padStart(f,2,"0")+":"+d.padStart(a,2,"0")},typeOf:function(a){if(null===a||void 0===a)return"null";var e=typeof a;if("object"===e)try{var b=Object.prototype.toString.call(a).match(/^\[object ([a-z]+)\]$/i);
if(b&&1<b.length&&b[1])return b[1].toLowerCase()}catch(f){}return e},trim:function(a){return a.replace(/^\s+|\s+$/g,"")},indexOf:function(a,e){if("array"===d.typeOf(a))for(var b=0;b<a.length;b++)if(a[b]===e)return b;return-1},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var e=16*Math.random()|0;return("x"===a?e:e&3|8).toString(16)})}};void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52));void 0===Number.MAX_SAFE_INTEGER&&(Number.MAX_SAFE_INTEGER=Math.pow(2,
53)-1);void 0===Number.MIN_SAFE_INTEGER&&(Number.MIN_SAFE_INTEGER=-1*Number.MAX_SAFE_INTEGER);d.equal=function(a,e){return Math.abs(a-e)<Number.EPSILON};d.createElement=function(a,e){a=document.createElement(a);e&&(a.className=e);return a};d.addClass=function(a,e){var b="string"===d.typeOf(a.className)?a.className.split(" "):[];e="array"===d.typeOf(e)?e:e.split(" ");d.forEach(e,function(a,e){-1===d.indexOf(b,e)&&b.push(e)});a.className=d.trim(b.join(" "))};d.hasClass=function(a,e){a=a.className||
"";e="array"===d.typeOf(e)?e:e.split(" ");for(var b=0;b<e.length;b++)if(-1===a.search(new RegExp("\\b"+e[b]+"\\b","i")))return!1;return!0};d.removeClass=function(a,e){var b="string"===d.typeOf(a.className)?a.className.split(" "):[];e="array"===d.typeOf(e)?e:e.split(" ");d.foreach(e,function(a,e){a=d.indexOf(b,e);0<=a&&b.splice(a,1)});a.className=d.trim(b.join(" "))};d.emptyElement=function(a){for(;a.firstChild;)a.removeChild(a.firstChild)};var a=window.console=window.console||{log:function(){},warn:function(){},
error:function(){}};d.debug=function(){c.DEBUG&&d.log.apply(d,arguments)};d.log=function(){var c=Array.prototype.slice.call(arguments,0);"object"===d.typeOf(a)?a.log.apply(a,c):a.log(c)};d.warn=function(){var c=Array.prototype.slice.call(arguments,0);"object"===d.typeOf(a)?a.warn.apply(a,c):a.warn(c)};d.error=function(){var c=Array.prototype.slice.call(arguments,0);"object"===d.typeOf(a)?a.error.apply(a,c):a.error(c)};c.utils=d})(playease);
(function(c){function d(a){var b=this;b.set=function(a,k,f){switch(b.type){case e.DOUBLE:if("number"!==m.typeOf(k))throw{name:"TypeError",message:"Value should be number."};break;case e.BOOLEAN:if("boolean"!==m.typeOf(k))throw{name:"TypeError",message:"Value should be boolean."};case e.STRING:case e.LONG_STRING:if("string"!==m.typeOf(k))throw{name:"TypeError",message:"Value should be string."};break;case e.OBJECT:case e.ECMA_ARRAY:if("array"!==m.typeOf(k))throw{name:"TypeError",message:"Value should be array."};
for(f=0;f<k.length;f++){var h=k[f];b.table[h.key]=h}break;case e.STRICT_ARRAY:if("array"!==m.typeOf(k))throw{name:"TypeError",message:"Value should be array."};break;case e.DATE:if("number"!==m.typeOf(k))throw{name:"TypeError",message:"Value should be number."};if("number"!==m.typeOf(f))throw{name:"TypeError",message:"Offset not presented."};b.offset=f;break;case e.NULL:case e.UNDEFINED:if("null"!==m.typeOf(k))throw{name:"TypeError",message:"Value should be null."};break;default:throw{name:"TypeError",
message:"Unrecognized amf type "+b.type+"."};}b.key=a;b.value=k;return b};b.get=function(){switch(b.type){case e.DATE:return new Date(b.value+6E4*b.offset);default:return b.value}};b.type=a;b.key="";b.value=null;b.table={};b.offset=0;b.ended=!1}function a(b,a){for(var f=0,k=0;k<a.value.length;k++){var d=a.value[k];d.key&&(d=crypt.stringToByteArray(d.key),b.WriteUint16(d.length,!1),b.Write(d),f+=2+d.length);f+=e.encode(b,a)}return f}var m=c.utils,e={DOUBLE:0,BOOLEAN:1,STRING:2,OBJECT:3,MOVIE_CLIP:4,
NULL:5,UNDEFINED:6,REFERENCE:7,ECMA_ARRAY:8,END_OF_OBJECT:9,STRICT_ARRAY:10,DATE:11,LONG_STRING:12,UNSUPPORTED:13,RECORD_SET:14,XML:15,TYPED_OBJECT:16,AMF3_DATA:17,decode:function(b,a,d){if(1>a.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf Value."};var f=0,l=new DataView(a,d);b.type=l.getUint8(f);f+=1;l={0:e.decodeDouble,1:e.decodeBoolean,2:e.decodeString,3:e.decodeObject,5:e.decodeNull,6:e.decodeUndefined,8:e.decodeECMAArray,9:e.decodeEndOfObject,10:e.decodeStrictArray,
11:e.decodeDate,12:e.decodeLongString}[b.type];if(!l)throw{name:"TypeError",message:"Unrecognized amf type "+b.type+"."};return f+=l(b,a,d+f)},decodeDouble:function(b,a,e){if(8>a.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf double."};a=new DataView(a,e);b.value=a.getFloat64(0);return 8},decodeBoolean:function(a,f,e){if(1>f.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf boolean."};f=new DataView(f,e);a.value=!!f.getUint8(0);return 1},
decodeString:function(a,e,d){if(2>e.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf string."};var b=0,f=(new DataView(e,d)).getUint16(b);b+=2;0<f?(a.value=String.fromCharCode.apply(String,new Uint8Array(e,d+b,f)),b+=f):a.value="";return b},decodeObject:function(a,f,l){if(3>f.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf object."};var b=0,c=f.byteLength-l;for(a.value=[];b<c;){var h=new d;b+=e.decodeString(h,f,l+b);h.key=h.get();b+=e.decode(h,
f,l+b);if(h.type===e.END_OF_OBJECT)break;a.value.push(h);a.table[h.key]=h}return b},decodeNull:function(a,e,d){a.value=null;return 0},decodeUndefined:function(a,e,d){a.value=void 0;return 0},decodeECMAArray:function(a,f,d){if(4>f.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf ecma array."};var b=4;return b+=e.decodeObject(a,f,d+b)},decodeEndOfObject:function(a,e,d){a.ended=!0;return 0},decodeStrictArray:function(a,f,l){if(4>f.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf strict array."};
var b=0,c=new DataView(f,l),h=c.getUint32(b);b+=4;var g=f.byteLength-l;a.value=[];for(var A=0;A<h&&b<g;A++){var m=new d;b+=e.decode(m,f,l+b);a.value.push(m)}b+3<=g&&0===c.getUint8(b)&&0===c.getUint8(b+1)&&c.getUint8(b+2)===e.END_OF_OBJECT&&(a.ended=!0,b+=3);return b},decodeDate:function(a,e,d){if(10>e.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf date."};var b=0;e=new DataView(e,d);a.Timestamp=e.getFloat64(b);b+=8;a.Timeoffset=e.getInt16(b);return b+2},decodeLongString:function(a,
e,d){if(4>e.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf long string."};var b=0,f=(new DataView(e,d)).getUint32(b);b+=4;0<f&&(a.value=String.fromCharCode.apply(String,new Uint8Array(e,d+b,f)),b+=f);return b},appendBytes:function(a,e){a.Write(e)},appendInt8:function(a,e){a.writeInt8(e)},appendInt16:function(a,e,d){a.WriteInt16(e,d)},appendInt32:function(a,e,d){a.WriteInt32(e,d)},appendUint8:function(a,e){a.writeUint8(e)},appendUint16:function(a,e,d){a.WriteUint16(e,
d)},appendUint32:function(a,e,d){a.WriteUint32(e,d)},encode:function(a,d){var b={0:e.encodeDouble,1:e.encodeBoolean,2:e.encodeString,3:e.encodeObject,5:e.encodeNull,6:e.encodeUndefined,8:e.encodeECMAArray,10:e.encodeStrictArray,11:e.encodeDate,12:e.encodeLongString}[d.type];if(!b)throw{name:"TypeError",message:"Unrecognized amf type "+d.type+"."};return b(a,d)},encodeNumber:function(a,d){a.WriteUint8(e.DOUBLE);a.WriteFloat64(d.value,!1);return 9},encodeBoolean:function(a,d){a.WriteUint8(e.BOOLEAN);
a.WriteUint8(d.value?1:0);return 2},encodeString:function(a,d){if(!d.value)return 0;if(65535<=d.value.length)return e.encodeLongString(a,d);d=crypt.stringToByteArray(d.value);a.WriteUint8(e.STRING);a.WriteUint16(d.length,!1);a.Write(d);return 3+d.length},encodeObject:function(b,d){var f=1;b.WriteUint8(e.OBJECT);f+=a(d);d.ended&&(b.WriteUint16(0),b.WriteUint8(e.END_OF_OBJECT),f+=3);return f},encodeNull:function(a,d){a.WriteUint8(e.NULL);return 1},encodeUndefined:function(a,d){a.WriteUint8(e.UNDEFINED);
return 1},encodeECMAArray:function(b,d){var f=3;b.WriteUint8(e.ECMA_ARRAY);b.WriteUint32(d.value.length,!1);return f+=a(b,d)},encodeStrictArray:function(b,d){var f=3;b.WriteUint8(e.STRICT_ARRAY);b.WriteUint32(d.value.length,!1);return f+=a(b,d)},encodeDate:function(a,d){a.WriteUint8(e.DATE);a.WriteFloat64(d.value,!1);a.WriteUint16(d.offset,!1);return 11},encodeLongString:function(a,d){if(!d.value)return 0;d=crypt.stringToByteArray(d.value);a.WriteUint8(e.LONG_STRING);a.WriteUint32(d.length,!1);a.Write(d);
return 5+d.length}};e.Value=d;m.AMF=e})(playease);
(function(c){c=c.utils;c.MIN_UINT32=0;c.MAX_UINT32=4294967295;c.MAX_INT32=2147483647;c.MIN_INT32=-2147483648;c.MIN_CACHE_BITS=25;c.BitStream=function(d){var a=this;a.ShowBits=function(a){if(0===a)return 0;var d=b>>>3,k=0;b<e&&(k=c.getUint8(d)<<24);b+8<e&&(k|=c.getUint8(d+1)<<16);b+16<e&&(k|=c.getUint8(d+2)<<8);b+24<e&&(k|=c.getUint8(d+3));return k<<(b&7)>>>32-a};a.ShowBitsLong=function(b){return 25>=b?a.ShowBits(b):a.ShowBits(16)<<b-16|a.ShowBits(b-16)};a.ReadBits=function(d){var e=a.ShowBits(d);
b+=d;return e};a.ReadBitsLong=function(d){var e=a.ShowBitsLong(d);b+=d;return e};a.SkipBits=function(a){b+=a};a.Left=function(){return e-b};var c=new DataView(d.buffer,d.byteOffset,d.byteLength);var e=8*d.byteLength;var b=0}})(playease);
(function(c){var d=new function(){function a(){return f.match(/(Chrome|CriOS)\/((\d+)\.(\d+)(?:\.\d+)*)/)}function d(){if(!b.isWindows)return 0;var a=navigator.plugins;if(a){var d=a["Shockwave Flash"];if(d&&d.description){var e=d.description.replace(/\D+(\d+\.?\d*).*/,"$1");return parseFloat(e)}}if("undefined"!==typeof window.ActiveXObject)try{return d=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"),e=d.GetVariable("$version").split(" ")[1].replace(/\s*,\s*/,"."),parseFloat(e)}catch(h){}return 0}
function e(){return void 0!==window.orientation?90===window.orientation||-90===window.orientation:window.innerWidth>window.innerHeight}var b=this;var f=navigator.userAgent;b.OS={name:"",version:"",major:NaN,minor:NaN};b.Kernel={name:"",version:"",major:NaN,minor:NaN};b.Browser={name:"",version:"",major:NaN,minor:NaN};(function(){var a=f.match(/(Windows)\sNT\s((\d+)\.(\d+))/);if(a)switch(a[2]){case "6.3":a=["Windows 8.1","Windows","8.1","8","1"];break;case "6.2":a=["Windows 8.0","Windows","8.0","8",
"0"];break;case "6.1":a=["Windows 7.0","Windows","7.0","7","0"]}if(a=a||f.match(/(Mac)\sOS\sX\s((\d+)[\._](\d+)(?:[\._]\d+)*)/)||f.match(/(Android)(?:\s((\d+)(?:\.(\d+))?(?:\.(\d+))*))?/)||f.match(/(iP(?:hone|ad|od)).*\s((\d+)_(\d+)(?:_\d+)*)/)||f.match(/(Windows\sPhone)(?:\sOS)?\s((\d+)\.(\d+)(?:\.\d+)*)/))b.OS.name=a[1]||"",b.OS.version=(a[2]||"").replace(/_/g,"."),b.OS.major=parseInt(a[3]),b.OS.minor=parseInt(a[4]);b.OS.isWindows="Windows"===b.OS.name;b.OS.isMac="Mac"===b.OS.name;b.OS.isAndroid=
"Android"===b.OS.name;b.OS.isIOS="iPhone"===b.OS.name||"iPad"===b.OS.name||"iPod"===b.OS.name;b.OS.isWindowsPhone="Windows Phone"===b.OS.name;b.OS.isMobile=b.OS.isAndroid||b.OS.isIOS||b.OS.isWindowsPhone;b.OS.isHorizontal=e})();(function(){var a=b.OS.isAndroid&&f.match(/;\s(([-a-z\d\s]+)(?:\sBuild\/([-a-z\d\.\s]+))?)(?:;\swv|\))/i);a&&(b.OS.model=a[1],b.OS.brand=a[2],b.OS.build=a[3])})();(function(){var d=!b.OS.isIOS&&a()||f.match(/(AppleWebKit)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(Gecko)\/((\d+))/)||
f.match(/(Presto)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(Trident)\/((\d+)\.(\d+)(?:\.\d+)*)/);d&&(b.Kernel.name=d[1]||"",b.Kernel.version=d[2]||"",b.Kernel.major=parseInt(d[3]),b.Kernel.minor=parseInt(d[4]));b.Kernel.isChrome="Chrome"===b.Kernel.name;b.Kernel.isAppleWebKit="AppleWebKit"===b.Kernel.name;b.Kernel.isGecko="Gecko"===b.Kernel.name;b.Kernel.isPresto="Presto"===b.Kernel.name;b.Kernel.isTrident="Trident"===b.Kernel.name})();(function(){var e;(e=f.match(/(MSIE)\s((\d+)\.(\d+))/)||f.match(/(Trident)\/.+rv:((11)\.(\d+))/i)||
f.match(/(Firefox)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(OPR|OPiOS|Opera\sMini)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(UCBrowser)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(MicroMessenger)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(QQ)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/([M]?QQBrowser)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(MetaSr|SogouMobileBrowser)[\s\/]((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(QihooBrowser|360browser)(?:\/((\d+)\.(\d+)(?:\.\d+)*))?/)||f.match(/(Electron)(?:\/((\d+)\.(\d+)(?:\.\d+)*))?/)||
f.match(/(Edg|Edge|EdgA)\/((\d+)\.(\d+)(?:\.\d+)*)/)||a())||(e=b.OS.isAndroid||a()||!f.match(/Safari/)?null:(e=f.match(/Version\/((\d+)\.(\d+)(?:\.\d+)*)/))?["Safari/"+e[1],"Safari"].concat(e.slice(1)):null);if(e=e||f.match(/\s([a-z\d]+Browser)\/((\d+)\.(\d+)(?:\.\d+)*)/i)||f.match(/\s([a-z\d]+)\/((\d+)\.(\d+)(?:\.\d+)*)$/i))b.Browser.name=e[1]||"",b.Browser.version=e[2]||"",b.Browser.major=parseInt(e[3]),b.Browser.minor=parseInt(e[4]);b.Browser.isMSIE="MSIE"===b.Browser.name;b.Browser.isIE8="MSIE"===
b.Browser.name&&8===b.Browser.major;b.Browser.isIE9="MSIE"===b.Browser.name&&9===b.Browser.major;b.Browser.isIE10="MSIE"===b.Browser.name&&10===b.Browser.major;b.Browser.isIE11="Trident"===b.Browser.name;b.Browser.isIE=b.Browser.isMSIE||b.Browser.isIE11;b.Browser.isFirefox="Firefox"===b.Browser.name;b.Browser.isOpera="OPR"===b.Browser.name||"OPiOS"===b.Browser.name||"Opera Mini"===b.Browser.name;b.Browser.isUCBrowser="UCBrowser"===b.Browser.name;b.Browser.isWeChat="MicroMessenger"===b.Browser.name;
b.Browser.isQQ="QQ"===b.Browser.name;b.Browser.isQQBrowser="QQBrowser"===b.Browser.name||"MQQBrowser"===b.Browser.name;b.Browser.isSogou="MetaSr"===b.Browser.name||"SogouMobileBrowser"===b.Browser.name;b.Browser.is360="QihooBrowser"===b.Browser.name;b.Browser.isElectron="Electron"===b.Browser.name;b.Browser.isEdg="Edg"===b.Browser.name;b.Browser.isEdge="Edge"===b.Browser.name;b.Browser.isEdgA="EdgA"===b.Browser.name;b.Browser.isChrome="Chrome"===b.Browser.name;b.Browser.isCriOS="CriOS"===b.Browser.name;
b.Browser.isSafari="Safari"===b.Browser.name;b.Browser.flash=d()})()};c.OS=d.OS;c.Kernel=d.Kernel;c.Browser=d.Browser})(playease);
(function(c){var d=c.utils;d.crypt={stringToByteArray:function(a){for(var d=[],e=0,b=0;b<a.length;b++){for(var f=a.charCodeAt(b);255<f;)d[e++]=f&255,f>>=8;d[e++]=f}return d},byteArrayToString:function(a){if(8192>=a.length)return String.fromCharCode.apply(null,a);for(var d="",e=0;e<a.length;e+=8192){var b=Array.slice(a,e,e+8192);d+=String.fromCharCode.apply(null,b)}return d},byteArrayToHex:function(a){return Array.map(a,function(a){return d.padStart(a.toString(16),2,0)}).join("")},hexToByteArray:function(a){if(0!==
a.length%2)return d.error("Key string length must be multiple of 2."),null;for(var c=[],e=0;e<a.length;e+=2)c.push(parseInt(a.substring(e,e+2),16));return c},stringToUTF8ByteArray:function(a){for(var d=[],e=0,b=0;b<a.length;b++){var f=a.charCodeAt(b);128>f?d[e++]=f:(2048>f?d[e++]=f>>6|192:(55296===(f&64512)&&b+1<a.length&&56320===(a.charCodeAt(b+1)&64512)?(f=65536+((f&1023)<<10)+(a.charCodeAt(++b)&1023),d[e++]=f>>18|240,d[e++]=f>>12&63|128):d[e++]=f>>12|224,d[e++]=f>>6&63|128),d[e++]=f&63|128)}return d},
UTF8ByteArrayToString:function(a){for(var d=[],e=0,b=0;e<a.length;){var f=a[e++];if(128>f)d[b++]=String.fromCharCode(f);else if(191<f&&224>f){var c=a[e++];d[b++]=String.fromCharCode((f&31)<<6|c&63)}else if(239<f&&365>f){c=a[e++];var k=a[e++],t=a[e++];f=((f&7)<<18|(c&63)<<12|(k&63)<<6|t&63)-65536;d[b++]=String.fromCharCode(55296+(f>>10));d[b++]=String.fromCharCode(56320+(f&1023))}else c=a[e++],k=a[e++],d[b++]=String.fromCharCode((f&15)<<12|(c&63)<<6|k&63)}return d.join("")},XORByteArray:function(a,
c){if(a.length!==c.length)d.error("XOR array lengths must match.");else{for(var e=[],b=0;b<a.length;b++)e.push(a[b]^c[b]);return e}}}})(playease);
(function(c){function d(b,d){e||(e=a());var c="";m.foreach(d,function(a,b){c+=a+": "+b+"; "});try{e.insertRule?e.insertRule(b+" { "+c+"}",e.cssRules.length):e.addRule(b,c,e.rules.length)}catch(k){m.error("Failed to insert css rule: "+b)}}function a(){var a=document.createElement("style");a.type="text/css";document.getElementsByTagName("head")[0].appendChild(a);return a.sheet||a.styleSheet}var m=c.utils,e;d.style=function(a,d,e){if(void 0!==a&&null!==a)for(void 0===a.length&&(a=[a]),d=m.extendz({},
d),e=0;e<a.length;e++){var b=a[e];void 0!==b&&null!==b&&m.forEach(d,function(a,d){a=a.split("-");for(var e=1;e<a.length;e++)a[e]=a[e].charAt(0).toUpperCase()+a[e].slice(1);a=a.join("");b.style[a]!==d&&(b.style[a]=d)})}};m.css=d})(playease);
(function(c){c=c.utils;c.LITTLE_ENDIAN=function(){try{var d=new ArrayBuffer(2);(new DataView(d)).setInt16(0,256,!0);var a=new Int16Array(d)}catch(m){}return a&&256===a[0]}();c.getUint32=function(d,a,c){void 0===a&&(a=0);return c?d[a+0]|d[a+1]>>>8|d[a+2]>>>16|d[a+3]>>>24:d[a+0]<<24|d[a+1]<<16|d[a+2]<<8|d[a+3]}})(playease);
(function(c){function d(d){var b=this,e,c,k,t;b.append=function(a){h.push(a)};b.save=function(a){a||(a=b.config.filename);e=new Blob(h,{type:b.config.type});c=URL.createObjectURL(e);k=document.createEvent("MouseEvents");k.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null);t=document.createElementNS("http://www.w3.org/1999/xhtml","a");t.href=c;t.download=a;t.dispatchEvent(k);h=[];URL.revokeObjectURL(c)};b.config=a.extendz({},m,d);var h=[]}var a=c.utils,m={filename:"sample.fragmented.mp4",
type:"video/mpeg"};d.prototype.CONF=m;a.FileKeeper=d})(playease);
(function(c){function d(d){a.call(this,d);var e=this;e.ReadUE=function(){for(var a=-1,d=0;0===d&&0<e.Left();a++)d=e.ReadBits(1);return(1<<a>>>0)-1+e.ReadBitsLong(a)};e.ReadSE=function(){var a=e.ReadUE();return 0===(a&1)?-(a>>>1):a+1>>>1}}c=c.utils;var a=c.BitStream;d.prototype=Object.create(a.prototype);d.prototype.constructor=d;c.ebsp2rbsp=function(a){var d=2,b=a.byteLength,c=new Uint8Array(b);c[0]=a[0];c[1]=a[1];for(var l=2;l<b;l++)if(3!==a[l]||0!==a[l-1]||0!==a[l-2])c[d]=a[l],d++;return c.subarray(0,
d)};c.Golomb=d})(playease);
(function(c){var d=/^(([a-z]+:)\/\/(([-a-z\d\.]+)(?::(\d+))?))((?:\/[-_a-z\d\s\.]*)*)([?#][-_=%&a-z\d\s\.]+)?$/i;c.utils.URL=function(a){var c=this;c.parse=function(a){c.href=a;!1===/^([a-z]+):\/\//.test(a)&&(c.href=window.location.origin+("/"===a.substr(0,1)?"":"/")+a);var b=c.href.match(d);if(null===b)throw{name:"SyntaxError",message:"The URL did not match the expected pattern, url="+a+"."};c.origin=b[1];c.protocol=b[2];c.host=b[3];c.hostname=b[4];c.port=b[5]||"";c.pathname=b[6]||"";if(a=c.pathname.match(/\/([-_a-z\d\s\(\)\[\]\{\}]+)(?:\.([a-z\d]+))?$/))c.filename=
a[1],c.filetype=a[2];b[7]&&("?"===b[7].substr(0,1)?c.search=b[7]:c.hash=b[7])};c.href="";c.origin="";c.protocol="";c.host="";c.hostname="";c.port="";c.pathname="";c.filename="";c.filetype="";c.search="";c.hash="";a&&c.parse(a)}})(playease);
(function(c){function d(b){function d(b,e){var h={};if(b.nodeType===m.DOCUMENT_NODE){for(var g=0;g<b.childNodes.length;g++){var k=b.childNodes[g],f=k.localName||k.baseName||k.nodeName;k.nodeType===m.ELEMENT_NODE&&(k=d(k),k.parent=h,c.config.ignoreRoot?(delete k.parent,h=k):h[f]=k)}return h}if(b.nodeType===m.ELEMENT_NODE){for(g=0;g<b.childNodes.length;g++)if(k=b.childNodes[g],f=k.localName||k.baseName||k.nodeName,k.nodeType!==m.COMMENT_NODE)if(k=d(k,e+"."+f),k.parent=h,h.hasOwnProperty(f))"array"!=
a.typeOf(h[f])&&(h[f]=[h[f]]),h[f].push(k);else if("#text"!=f||/[^\s]/.test(k))h[f]=k;f=b.localName||b.baseName||b.nodeName;null!=b.prefix&&""!=b.prefix&&(f=b.prefix+":"+f);for(g=0;g<b.attributes.length;g++){e=b.attributes[g];k=e.value;for(var n=0;n<c.config.matchers.length;n++){var p=c.config.matchers[n];p.test(e,f)&&(k=p.exec(e.value));h[c.config.attributePrefix+e.name]=k}}null!=h["#text"]&&c.config.trimWhitespaces&&(h["#text"]=h["#text"].trim());h.toString=function(){return(null==h["#text"]?"":
h["#text"])+(null==h["#cdata-section"]?"":h["#cdata-section"])};return h}if(b.nodeType===m.TEXT_NODE||b.nodeType===m.CDATA_SECTION_NODE)return b.nodeValue}var c=this;c.parse=function(b){if(window.DOMParser){var e=new DOMParser;try{var h=e.parseFromString(b,"text/xml")}catch(g){return a.error("Failed to parse XML structure."),null}}else 0===b.indexOf("<?")&&(b=b.substr(b.indexOf("?>")+2)),h=new ActiveXObject("Microsoft.XMLDOM"),h.async="false",h.loadXML(b);return d(h)};c.config=a.extendz({},e,b)}var a=
c.utils,m={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9},e={ignoreRoot:!0,trimWhitespaces:!1,attributePrefix:"@",matchers:[]};d.prototype.CONF=e;a.XML2JSON=d})(playease);
(function(c){var d=c.utils;d.MPD=function(a){function c(a,b){if(a)for(var d=0;d<a.AdaptationSet.length;d++){var e=a.AdaptationSet[d];if(e.hasOwnProperty("@id")){if(e["@id"]===b["@id"])return e}else if(e.hasOwnProperty("@contentType")){if(e["@contentType"]===b["@contentType"])return e}else if(e.hasOwnProperty("@mimeType")){if(e["@mimeType"]===b["@mimeType"])return e}else if(e.hasOwnProperty("@codecs")){if(e["@codecs"]===b["@codecs"])return e}else break}}var e,b,f;this.update=function(a){b=l;a.Location&&
a.Location["#text"]&&(b=a.Location["#text"]);f=a.BaseURL||b.substring(0,b.lastIndexOf("/")+1);if("dynamic"===a["@type"]){var k=e,h=0,g=NaN;"array"!=d.typeOf(a.Period)&&(a.Period=[a.Period]);for(var A=0;A<a.Period.length;A++){var v=a.Period[A];v.hasOwnProperty("@start")?h=v["@start"]:isNaN(g)?0===A&&"dynamic"!==a["@type"]&&(h=0):h+=g;v.hasOwnProperty("@duration")&&(g=v["@duration"]);v["@start"]=h;v["@duration"]=g;a:{var n=k;var p=v;if(n)for(var q=0;q<n.Period.length;q++){var r=n.Period[q];if(r.hasOwnProperty("@id")){if(r["@id"]===
p["@id"]){n=r;break a}}else if(r.hasOwnProperty("@start")){if(r["@start"]===p["@start"]){n=r;break a}}else{n=r;break a}}n=void 0}"array"!=d.typeOf(v.AdaptationSet)&&(v.AdaptationSet=[v.AdaptationSet]);for(p=0;p<v.AdaptationSet.length;p++){q=v.AdaptationSet[p];r=c(n,q);var x=r,M=r=0,m=[];if(!1!==q.SegmentTemplate.hasOwnProperty("SegmentTimeline")){if(x){var J=x.SegmentTemplate.SegmentTimeline;"array"!=d.typeOf(J.S)&&(J.S=[J.S]);for(x=0;x<J.S.length;x++){var E=J.S[x];0===x&&E.hasOwnProperty("@t")&&
(r=E["@t"]);r+=E["@d"];E["@r"]&&(r+=E["@d"]*E["@r"]);m.push(d.extendz({},E))}}q=q.SegmentTemplate.SegmentTimeline;"array"!=d.typeOf(q.S)&&(q.S=q.S?[q.S]:[]);for(x=0;x<q.S.length;x++)E=q.S[x],0===x&&E.hasOwnProperty("@t")&&(M=E["@t"]),M>=r&&m.push(E),M+=E["@d"],E["@r"]&&(M+=E["@d"]*E["@r"])}}}}e=a};this.getSegmentInfo=function(a,b,h,c,A,v){for(var g=e.Period[0],k=0;k<e.Period.length;k++){var q=e.Period[k];if(q.hasOwnProperty("@start"))q["@start"]>g["@start"]&&q["@start"]<=a&&(g=q);else break}a=g;a:{for(g=
0;g<a.AdaptationSet.length;g++)if(k=a.AdaptationSet[g],k.hasOwnProperty("@contentType")){if(k["@contentType"]===b){b=k;break a}}else if(k.hasOwnProperty("@mimeType")&&(q=k["@mimeType"].match(/^([a-z]+)\/[a-z0-9]+/i))&&1<q.length&&q[1]===b){b=k;break a}b=void 0}if(b){g=b;"array"!=d.typeOf(g.Representation)&&(g.Representation=[g.Representation]);k=g.Representation[0];for(q=0;q<g.Representation.length;q++){var r=g.Representation[q];r["@bandwidth"]>k["@bandwidth"]&&(!v||r["@bandwidth"]<=v)&&(k=r)}if(v=
k){q=b.SegmentTemplate;g=q[h?"@initialization":"@media"];k=q["@timescale"]||1;var x=q["@duration"]||0;g=g.replace(/\$RepresentationID\$/,v["@id"]);if(q["@media"].search(/\$Time\$/))if(r=q.SegmentTimeline,h)if(0<c||0===c&&!1===e.hasOwnProperty("@suggestedPresentationDelay"))r.S.length&&(c=r.S[0]["@t"]);else{var l=Math.abs(l)||e["@suggestedPresentationDelay"];a:{var m=l*k;for(l=r.S.length-1;0<=l;l--){var t=r.S[l];m-=t["@d"]*(t["@r"]||1);if(0>=m){m=r.S[0]["@t"];for(var E=0;E<l;E++)m+=r.S[E]["@d"],t["@r"]&&
(m+=t["@d"]*t["@r"]);t["@t"]=m;l=t;break a}}l=r.S[0]}l&&(c=l["@t"],x=l["@d"])}else{a:{for(l=NaN;r.S.length;){x=r.S.shift();isNaN(l)&&(l=x["@t"]||0);if(l+x["@d"]*(x["@r"]||0)>=c){x["@t"]=l;r.S.length&&(r.S[0]["@t"]=x["@t"]+x["@d"]);l=x;break a}l+=x["@d"];x["@r"]&&(l+=x["@d"]*x["@r"])}l=void 0}if(void 0===l)return;c=l["@t"];x=l["@d"];g=g.replace(/\$Time\$/,c)}q["@media"].search(/\$Number\$/)&&(h?A=q["@startNumber"]:g=g.replace(/\$Number\$/,A));h=v.baseURL||b.baseURL||a.baseURL;g=(h?h["#text"]:f)+g;
return{mimeType:v["@mimeType"]||b["@mimeType"],codecs:v["@codecs"]||b["@codecs"],index:A,start:c,duration:x,timescale:k,url:g}}}};this.getLocation=function(){return b};var l=a||""}})(playease);(function(c){c.utils.MPD.matchers={}})(playease);
(function(c){var d=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;c.utils.MPD.matchers.datetime=function(){this.test=function(a){return d.test(a.value)};this.exec=function(a){a=d.exec(a);var c=Date.UTC(parseInt(a[1],10),parseInt(a[2],10)-1,parseInt(a[3],10),parseInt(a[4],10),parseInt(a[5],10),a[6]&&parseInt(a[6],10)||0,a[7]&&1E3*parseFloat(a[7])||0);if(a[9]&&a[10]){var e=60*parseInt(a[9],10)+parseInt(a[10],10);c+=("+"===a[8]?
-1:1)*e*6E4}return new Date(c)}}})(playease);
(function(c){var d=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,a="minBufferTime mediaPresentationDuration minimumUpdatePeriod timeShiftBufferDepth maxSegmentDuration maxSubsegmentDuration suggestedPresentationDelay start starttime duration".split(" ");c.utils.MPD.matchers.duration=function(){this.test=function(c){for(var e=0;e<a.length;e++)if((c.localName||c.baseName||c.nodeName)===a[e])return d.test(c.value);return!1};this.exec=function(a){a=d.exec(a);var e=
31536E3*parseFloat(a[2]||0)+2592E3*parseFloat(a[4]||0)+86400*parseFloat(a[6]||0)+3600*parseFloat(a[8]||0)+60*parseFloat(a[10]||0)+parseFloat(a[12]||0);void 0!==a[1]&&(e*=-1);return e}}})(playease);(function(c){var d=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;c.utils.MPD.matchers.numeric=function(){this.test=function(a){return d.test(a.value)};this.exec=function(a){return parseFloat(a)}}})(playease);
(function(c){var d={MPD:["id","profiles"],Period:["id"],BaseURL:["serviceLocation","byteRange"],SegmentBase:["indexRange"],Initialization:["range"],RepresentationIndex:["range"],SegmentList:["indexRange"],BitstreamSwitching:["range"],SegmentURL:["mediaRange","indexRange"],SegmentTemplate:["indexRange","media","index","initialization","bitstreamSwitching"],AssetIdentifier:["value","id"],EventStream:["value"],AdaptationSet:["profiles","mimeType","segmentProfiles","codecs","contentType"],FramePacking:["value",
"id"],AudioChannelConfiguration:["value","id"],ContentProtection:["value","id"],EssentialProperty:["value","id"],SupplementalProperty:["value","id"],InbandEventStream:["value","id"],Accessibility:["value","id"],Role:["value","id"],Rating:["value","id"],Viewpoint:["value","id"],ContentComponent:["contentType"],Representation:["id","dependencyId","mediaStreamStructureId"],Subset:["id"],Metrics:["metrics"],Reporting:["value","id"]};c.utils.MPD.matchers.string=function(){this.test=function(a,c){return d.hasOwnProperty(c)&&
(c=d[c],void 0!==c)?0<=c.indexOf(a.name):!1};this.exec=function(a){return String(a)}}})(playease);
(function(c){c.events={Event:{BIND:"bind",READY:"ready",PLAY:"play",WAITING:"waiting",DURATIONCHANGE:"durationchange",LOADEDMETADATA:"loadedmetadata",LOADEDDATA:"loadeddata",CANPLAY:"canplay",PLAYING:"playing",CANPLAYTHROUGH:"canplaythrough",PAUSE:"pause",SEEKING:"seeking",SEEKED:"seeked",SWITCHING:"switching",SWITCHED:"switched",RATECHANGE:"ratechange",TIMEUPDATE:"timeupdate",VOLUMECHANGE:"volumechange",ENDED:"ended",ERROR:"error"},IOEvent:{LOADSTART:"loadstart",STALLED:"stalled",ABORT:"abort",TIMEOUT:"timeout",
PROGRESS:"progress",SUSPEND:"suspend",LOAD:"load",LOADEND:"loadend"},UIEvent:{SHOOTING:"shooting",FULLPAGE:"fullpage",FULLSCREEN:"fullscreen",RESIZE:"resize"},GlobalEvent:{CHANGE:"change"},MouseEvent:{CLICK:"click",DOUBLE_CLICK:"doubleclick",MOUSE_MOVE:"mousemove"},KeyboardEvent:{KEY_DOWN:"key-down",KEY_UP:"key-up"},TimerEvent:{TIMER:"timer",COMPLETE:"complete"},MediaEvent:{PACKET:"packet",AAC_SPECIFIC_CONFIG:"aac-specific-config",AAC_SAMPLE:"aac-sample",AVC_CONFIG_RECORD:"avc-config-record",AVC_SAMPLE:"avc-sample",
END_OF_STREAM:"end-of-stream",FLV_INFO_FRAME:"flv-info-frame",FLV_FRAME:"flv-frame",MP4_INIT_SEGMENT:"mp4-init-segment",MP4_SEGMENT:"mp4-segment"},MediaStreamTrackEvent:{ADDTRACK:"addtrack",REMOVETRACK:"removetrack"}}})(playease);
(function(c){var d=c.utils;c.events.EventDispatcher=function(a,m){function e(a,b){if(a)for(var e=a.slice(0),h=0;h<e.length;h++){var c=e[h];if(c){isNaN(c.count)||0!==--c.count||a.splice(h,1);try{if(c.listener(b),b.stopPropagation)break}catch(q){d.error(f+" failed to dispatch event:",b,q.toString())}}}}var b=this,f=a,l=m,k=Array.prototype.slice.call(arguments,2);b.bind=function(){var a=Array.prototype.slice.call(arguments,0);d.forEach(a,function(a,e){d.forEach(e,function(a,d){a="on"+d.replace(/-/g,
"");b[a]=void 0})})};b.addEventListener=function(a,b,e){try{t[a]||(t[a]=[]),"string"===d.typeOf(b)&&(b=(new Function("return "+b))()),t[a].push({listener:b,count:e||NaN})}catch(n){d.error(f+" failed to addEventListener("+a+"):",n)}};b.removeEventListener=function(a,b){if(t[a])try{if(void 0===b)delete t[a];else for(var e=0;e<t[a].length;e++)if(t[a][e].listener.toString()===b.toString()){t[a].splice(e,1);break}}catch(n){d.error(f+" failed to removeEventListener("+a+"):",n)}};b.hasEventListener=function(a){return t.hasOwnProperty(a)&&
0<t[a].length};b.addGlobalListener=function(a,b){try{"string"===d.typeOf(a)&&(a=(new Function("return "+a))()),h.push({listener:a,count:b||NaN})}catch(v){d.error(f+" failed to addGlobalListener():",v)}};b.removeGlobalListener=function(a){if(a)try{for(var b=0;b<h.length;b++)if(h[b].listener.toString()===a.toString()){h.splice(b,1);break}}catch(v){d.error(f+" failed to removeGlobalListener():",v)}};b.dispatchEvent=function(a,d){b.forward({type:a,data:d||{},srcElement:b,version:c.VERSION})};b.forward=
function(a){a.target=b;a.stopPropagation=!1;a.api=!l||"string"!==typeof l.id&&"number"!==typeof l.id?void 0:l.id;c.DEBUG&&d.log(f,a);var k="on"+a.type.replace(/-/g,"");if("function"===d.typeOf(b[k]))b[k](a);else e(t[a.type],a),e(h,a)};var t={};var h=[];b.bind.apply(b,k)}})(playease);
(function(c){function d(a,d){function b(){h++;c.dispatchEvent(e.TIMER);0<c.repeatCount&&h>=c.repeatCount&&(c.stop(),c.dispatchEvent(e.COMPLETE))}m.call(this,"Timer",null,[e.TIMER,e.COMPLETE]);var c=this,f,h=0,g=!1;c.start=function(){!1===g&&(f=setInterval(b,c.delay),g=!0)};c.stop=function(){g&&(clearInterval(f),f=0,g=!1)};c.reset=function(){c.stop();h=0};c.currentCount=function(){return h};c.running=function(){return g};c.delay=a||50;c.repeatCount=d||0}var a=c.utils;c=c.events;var m=c.EventDispatcher,
e=c.TimerEvent;d.prototype=Object.create(m.prototype);d.prototype.constructor=d;a.Timer=d})(playease);
(function(c){var d=c.utils,a={},m=[];a.register=function(e,b){try{m.splice(b||m.length,0,e),a[e.prototype.kind]=e}catch(f){d.error("Failed to register loader "+e.prototype.kind+", Error="+f.message)}};a.get=function(a,b){for(var d=0;d<m.length;d++){var e=m[d];if(e.prototype.isSupported(a,b))return e}return null};a.Mode={CORS:"cors",NO_CORS:"no-cors",SAME_ORIGIN:"same-origin"};a.Credentials={OMIT:"omit",INCLUDE:"include",SAME_ORIGIN:"same-origin"};a.Cache={DEFAULT:"default",NO_STAORE:"no-store",RELOAD:"reload",
NO_CACHE:"no-cache",FORCE_CACHE:"force-cache",ONLY_IF_CACHED:"only-if-cached"};a.Redirect={FOLLOW:"follow",MANUAL:"manual",ERROR:"error"};a.ResponseType={ARRAYBUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};a.ReadyState={UNINITIALIZED:0,OPEN:1,SENT:2,LOADING:3,DONE:4};c.io=a.get;c.IO=a})(playease);
(function(c){function d(d){function h(b){return b.read().then(function(d){if(d.done)return a.debug("Loader load"),v=l.DONE,A.dispatchEvent(f.LOAD),A.dispatchEvent(f.LOADEND),Promise.resolve("load");switch(v){case l.SENT:v=l.LOADING;break;case l.DONE:return a.warn("Loader state error, probably aborted already."),b.cancel()}a.debug("Loader progress: "+d.value.buffer.byteLength+"/"+n);A.dispatchEvent(f.PROGRESS,{buffer:d.value.buffer,loaded:d.value.buffer.byteLength,total:n});return h(b)})["catch"](c)}
function c(d){v=l.DONE;a.error("Loader "+d.name+": "+d.message);switch(d.name){case "AbortError":A.dispatchEvent(f.ABORT,{name:d.name,message:d.message});break;case "TimeoutError":A.dispatchEvent(f.TIMEOUT,{name:d.name,message:d.message});break;default:A.dispatchEvent(b.ERROR,{name:d.name,message:d.message})}A.dispatchEvent(f.LOADEND)}e.call(this,"Fetch",null,[b.ERROR],f);var A=this,v;A.load=function(d,e,k){v=l.UNINITIALIZED;A.isSupported(d)?(a.debug("Loader loadstart"),A.dispatchEvent(f.LOADSTART),
v=l.OPEN,void 0!==e&&a.extendz(A.config.headers,{Range:"bytes="+e+"-"+(k||"")}),e=a.extendz({},A.config,{headers:new Headers(A.config.headers),signal:p.signal}),fetch(d.href,e).then(function(b){switch(v){case l.OPEN:v=l.SENT;break;default:a.warn("Loader state error, probably aborted already.")}if(!b.ok||200>b.status||299<b.status)return Promise.reject(Error(b.status+" "+b.statusText));var d=b.headers.get("Content-Length");d&&(d=parseInt(d));if(206===b.status){var e=b.headers.get("Content-Range");
e&&(e=e.match(/bytes (\d*)\-(\d*)\/(\d+)/i))&&(d=parseInt(e[3]))}n!==d&&(n=d||Infinity,a.log("File size changed: "+n));return h(b.body.getReader())})["catch"](c)):(a.error("Loader NotSupportedError: Not supportped."),v=l.DONE,A.dispatchEvent(b.ERROR,{name:"NotSupportedError",message:"Not supportped."}),A.dispatchEvent(f.LOADEND))};A.abort=function(){p.abort()};A.state=function(){return v};A.config=a.extendz({},k,d);var n=NaN;var p=new AbortController}var a=c.utils,m=c.events,e=m.EventDispatcher,b=
m.Event,f=m.IOEvent;c=c.IO;var l=c.ReadyState,k={method:"GET",headers:{},mode:c.Mode.CORS,credentials:c.Credentials.OMIT,cache:c.Cache.DEFAULT,redirect:c.Redirect.FOLLOW};d.prototype=Object.create(e.prototype);d.prototype.constructor=d;d.prototype.kind="Fetch";d.prototype.CONF=k;d.prototype.isSupported=function(a,b){return b&&"live"!==b?!1:!!fetch&&("http:"===a.protocol||"https:"===a.protocol)};c.register(d)})(playease);
(function(c){function d(d){b.call(this,"MozStream",null,[f.ERROR],l);var e=this,c;e.load=function(b,d,h){c=t.UNINITIALIZED;if(e.isSupported(b)){a.debug("Loader loadstart");e.dispatchEvent(l.LOADSTART);p.open(e.config.method,b.href,!0);void 0!==d&&a.extendz(e.config.headers,{Range:"bytes="+d+"-"+(h||"")});a.forEach(e.config.headers,function(a,b){p.setRequestHeader(a,b)});switch(e.config.credentials){case k.INCLUDE:p.withCredentials=!0;break;case k.SAME_ORIGIN:p.withCredentials=window.location.host===
b.host;break;default:p.withCredentials=!1}p.send()}else a.error("Loader NotSupportedError: Not supportped."),c=t.DONE,e.dispatchEvent(f.ERROR,{name:"NotSupportedError",message:"Not supportped."}),e.dispatchEvent(l.LOADEND)};e.abort=function(){p.abort()};e.state=function(){return c};e.config=a.extendz({},h,d);var g=NaN;var p=new XMLHttpRequest;p.onreadystatechange=function(b){c=p.readyState;switch(c){case t.SENT:if(200>p.status||299<p.status)a.error("Loader NetworkError: "+p.status+" "+p.statusText),
e.dispatchEvent(f.ERROR,{name:"NetworkError",message:p.status+" "+p.statusText});else{(b=p.getResponseHeader("Content-Length"))&&(b=parseInt(b));if(206===p.status){var d=p.getResponseHeader("Content-Range");d&&(d=d.match(/bytes (\d*)\-(\d*)\/(\d+)/i))&&(b=parseInt(d[3]))}g!==b&&(g=b||Infinity,a.log("File size changed: "+g))}}};p.onabort=function(b){a.warn("Loader AbortError: The operation was aborted.");e.dispatchEvent(l.ABORT,{name:"AbortError",message:"The operation was aborted."})};p.onprogress=
function(b){a.debug("Loader progress: "+p.response.byteLength+"/"+g);e.dispatchEvent(l.PROGRESS,{buffer:p.response,loaded:p.response.byteLength,total:g})};p.onload=function(b){a.debug("Loader load.");e.dispatchEvent(l.LOAD)};p.onerror=function(b){a.error("Loader "+b.name+": "+b.message);switch(b.name){case "TimeoutError":e.dispatchEvent(l.TIMEOUT,{name:b.name,message:b.message});break;default:e.dispatchEvent(f.ERROR,{name:b.name,message:b.message})}};p.onloadend=function(a){e.dispatchEvent(l.LOADEND)};
p.responseType="moz-chunked-arraybuffer"}var a=c.utils,m=c.Browser,e=c.events,b=e.EventDispatcher,f=e.Event,l=e.IOEvent;c=c.IO;var k=c.Credentials,t=c.ReadyState,h={method:"GET",headers:{},mode:c.Mode.CORS,credentials:k.OMIT,cache:c.Cache.DEFAULT,redirect:c.Redirect.FOLLOW};d.prototype=Object.create(b.prototype);d.prototype.constructor=d;d.prototype.kind="MozStream";d.prototype.CONF=h;d.prototype.isSupported=function(a,b){return b&&"live"!==b||m.isFirefox&&(14>m.major||67<m.major)?!1:"http:"===a.protocol||
"https:"===a.protocol};c.register(d)})(playease);
(function(c){function d(d){function e(b){a.error("Loader "+b.name+": "+b.message);switch(b.name){case "TimeoutError":c.dispatchEvent(l.TIMEOUT,{name:b.name,message:b.message});break;default:c.dispatchEvent(f.ERROR,{name:b.name,message:b.message})}}b.call(this,"MSStream",null,[f.ERROR],l);var c=this,g;c.load=function(b,d,e){g=t.UNINITIALIZED;r.position=0;if(c.isSupported(b)){a.debug("Loader loadstart");c.dispatchEvent(l.LOADSTART);q.open(c.config.method,b.href,!0);void 0!==d&&a.extendz(c.config.headers,
{Range:"bytes="+d+"-"+(e||"")});a.forEach(c.config.headers,function(a,b){q.setRequestHeader(a,b)});switch(c.config.credentials){case k.INCLUDE:q.withCredentials=!0;break;case k.SAME_ORIGIN:q.withCredentials=window.location.host===b.host;break;default:q.withCredentials=!1}q.send()}else a.error("Loader NotSupportedError: Not supportped."),g=t.DONE,c.dispatchEvent(f.ERROR,{name:"NotSupportedError",message:"Not supportped."}),c.dispatchEvent(l.LOADEND)};c.abort=function(){q.abort()};c.state=function(){return g};
c.config=a.extendz({},h,d);var p=NaN;var q=new XMLHttpRequest;q.onreadystatechange=function(b){g=q.readyState;switch(g){case t.SENT:if(200>q.status||299<q.status){a.error("Loader NetworkError: "+q.status+" "+q.statusText);c.dispatchEvent(f.ERROR,{name:"NetworkError",message:q.status+" "+q.statusText});break}(b=q.getResponseHeader("Content-Length"))&&(b=parseInt(b));if(206===q.status){var d=q.getResponseHeader("Content-Range");d&&(d=d.match(/bytes (\d*)\-(\d*)\/(\d+)/i))&&(b=parseInt(d[3]))}p!==b&&
(p=b||Infinity,a.log("File size changed: "+p));break;case t.LOADING:r.readAsArrayBuffer(q.response)}};q.onabort=function(b){a.warn("Loader AbortError: The operation was aborted.");c.dispatchEvent(l.ABORT,{name:"AbortError",message:"The operation was aborted."})};q.onerror=e;q.onloadend=function(a){c.dispatchEvent(l.LOADEND)};q.responseType="ms-stream";var r=new MSStreamReader;r.onprogress=function(b){b=r.result.slice(r.position);null==b?a.warn("What happend???"):(a.debug("Loader progress: "+b.byteLength+
"/"+p),c.dispatchEvent(l.PROGRESS,{buffer:b,loaded:b.byteLength,total:p}),r.position=r.result.byteLength)};r.onload=function(b){a.debug("Loader load.");c.dispatchEvent(l.LOAD)};r.onerror=e}var a=c.utils,m=c.Browser,e=c.events,b=e.EventDispatcher,f=e.Event,l=e.IOEvent;c=c.IO;var k=c.Credentials,t=c.ReadyState,h={method:"GET",headers:{},mode:c.Mode.CORS,credentials:k.OMIT,cache:c.Cache.DEFAULT,redirect:c.Redirect.FOLLOW};d.prototype=Object.create(b.prototype);d.prototype.constructor=d;d.prototype.kind=
"MSStream";d.prototype.CONF=h;d.prototype.isSupported=function(a,b){return b&&"live"!==b||!m.isIE10&&!m.isIE11&&!m.isEdge?!1:"http:"===a.protocol||"https:"===a.protocol};c.register(d)})(playease);
(function(c){function d(d){function c(b){p=l.SENT;a.log("File size changed: Infinity")}function g(b){a.debug("Loader progress: "+b.data.byteLength+"/Infinity");p===l.SENT&&(p=l.LOADING);n.dispatchEvent(f.PROGRESS,{buffer:b.data,loaded:b.data.byteLength,total:Infinity})}function A(d){a.error("Loader NetworkError: A network error occurred.");n.dispatchEvent(b.ERROR,{name:"NetworkError",message:"A network error occurred."})}function v(b){a.debug("Loader load.");p=l.DONE;n.dispatchEvent(f.LOAD);n.dispatchEvent(f.LOADEND)}
e.call(this,"Websocket",null,[b.ERROR],f);var n=this,p,q;n.load=function(d,e,h){p=l.UNINITIALIZED;n.isSupported(d)?(a.debug("Loader loadstart"),n.dispatchEvent(f.LOADSTART),p=l.OPEN,q=new (window.WebSocket||window.MozWebSocket)(d.href),q.onopen=c,q.onmessage=g,q.onerror=A,q.onclose=v,q.binaryType="arraybuffer"):(a.error("Loader NotSupportedError: Not supportped."),p=l.DONE,n.dispatchEvent(b.ERROR,{name:"NotSupportedError",message:"Not supportped."}),n.dispatchEvent(f.LOADEND))};n.abort=function(){!q||
q.readyState!=WebSocket.CONNECTING&&q.readyState!=WebSocket.OPEN||(q.close(),a.warn("Loader AbortError: The operation was aborted."),n.dispatchEvent(f.ABORT,{name:"AbortError",message:"The operation was aborted."}))};n.state=function(){return p};n.config=a.extendz({},k,d)}var a=c.utils,m=c.events,e=m.EventDispatcher,b=m.Event,f=m.IOEvent;c=c.IO;var l=c.ReadyState,k={method:"GET",headers:{},mode:c.Mode.CORS,credentials:c.Credentials.OMIT,cache:c.Cache.DEFAULT,redirect:c.Redirect.FOLLOW};d.prototype=
Object.create(e.prototype);d.prototype.constructor=d;d.prototype.kind="Websocket";d.prototype.CONF=k;d.prototype.isSupported=function(a,b){return b&&"live"!==b?!1:!(!window.WebSocket&&!window.MozWebSocket)&&("ws:"===a.protocol||"wss:"===a.protocol)};c.register(d)})(playease);
(function(c){function d(d){e.call(this,"XHR",null,[b.ERROR],f);var c=this,h;c.load=function(d,e,r){h=k.UNINITIALIZED;if(c.isSupported(d)){a.debug("Loader loadstart");c.dispatchEvent(f.LOADSTART);n.open(c.config.method,d.href,!0);void 0!==e&&a.extendz(c.config.headers,{Range:"bytes="+e+"-"+(r||"")});a.forEach(c.config.headers,function(a,b){n.setRequestHeader(a,b)});switch(c.config.credentials){case l.INCLUDE:n.withCredentials=!0;break;case l.SAME_ORIGIN:n.withCredentials=window.location.host===d.host;
break;default:n.withCredentials=!1}n.send()}else a.error("Loader NotSupportedError: Not supportped."),h=k.DONE,c.dispatchEvent(b.ERROR,{name:"NotSupportedError",message:"Not supportped."}),c.dispatchEvent(f.LOADEND)};c.abort=function(){n.abort()};c.state=function(){return h};c.config=a.extendz({},t,d);var v=NaN;var n=new XMLHttpRequest;n.onreadystatechange=function(d){h=n.readyState;switch(h){case k.SENT:if(416!==n.status&&(200>n.status||299<n.status))a.error("Loader NetworkError: "+n.status+" "+
n.statusText),c.dispatchEvent(b.ERROR,{name:"NetworkError",message:n.status+" "+n.statusText});else{(d=n.getResponseHeader("Content-Length"))&&(d=parseInt(d));if(206===n.status){var e=n.getResponseHeader("Content-Range");e&&(e=e.match(/bytes (\d*)\-(\d*)\/(\d+)/i))&&(d=parseInt(e[3]))}v!==d&&(v=d||Infinity,a.log("File size changed: "+v))}}};n.onabort=function(b){a.warn("Loader AbortError: The operation was aborted.");c.dispatchEvent(f.ABORT,{name:"AbortError",message:"The operation was aborted."})};
n.onprogress=function(b){a.debug("Loader progress: "+n.loaded+"/"+v)};n.onload=function(b){a.debug("Loader load.");c.dispatchEvent(f.PROGRESS,{buffer:n.response,loaded:n.response.byteLength,total:v});c.dispatchEvent(f.LOAD)};n.onerror=function(d){a.error("Loader "+d.name+": "+d.message);switch(d.name){case "TimeoutError":c.dispatchEvent(f.TIMEOUT,{name:d.name,message:d.message});break;default:c.dispatchEvent(b.ERROR,{name:d.name,message:d.message})}};n.onloadend=function(a){c.dispatchEvent(f.LOADEND)};
n.responseType=c.config.responseType}var a=c.utils,m=c.events,e=m.EventDispatcher,b=m.Event,f=m.IOEvent;c=c.IO;var l=c.Credentials,k=c.ReadyState,t={method:"GET",headers:{},mode:c.Mode.CORS,credentials:l.OMIT,cache:c.Cache.DEFAULT,redirect:c.Redirect.FOLLOW,responseType:c.ResponseType.ARRAYBUFFER};d.prototype=Object.create(e.prototype);d.prototype.constructor=d;d.prototype.kind="XHR";d.prototype.CONF=t;d.prototype.isSupported=function(a,b){if(b&&"live"===b){b=["flv","",void 0,"mp4","m4s","f4v","m4v",
"mov"];for(var d=0;d<b.length;d++)if(a.filetype===b[d])return!1}return"http:"===a.protocol||"https:"===a.protocol};c.register(d)})(playease);
(function(c){function d(a,b){this.Num=a||30;this.Den=b||1}function a(){var a=this;a.left=function(){return null==a.payload?0:a.payload.byteLength-a.position};a.set=function(a,d){b[a]=d};a.get=function(a){return b[a]};var b={};a.kind="";a.codec="";a.length=0;a.timestamp=0;a.streamid=0;a.payload=null;a.position=0}var m={};a.KindAudio="audio";a.KindVideo="video";a.KindScript="script";m.Rational=d;m.Information=function(){this.MimeType="";this.Codecs=[];this.Timescale=1E3;this.BitRate=this.VideoDataRate=
this.AudioDataRate=this.CodecHeight=this.CodecWidth=this.Height=this.Width=this.Size=this.Duration=this.VideoTimestamp=this.AudioTimestamp=this.Timestamp=this.TimeBase=0;this.FrameRate=new d;this.Channels=this.SampleSize=this.SampleRate=0};m.Packet=a;c.AV=m})(playease);
(function(c){var d=c.utils;c=c.AV;var a={},m=[];a.COL_PRI_RESERVED0=0;a.COL_PRI_BT709=1;a.COL_PRI_UNSPECIFIED=2;a.COL_PRI_RESERVED=3;a.COL_PRI_BT470M=4;a.COL_PRI_BT470BG=5;a.COL_PRI_SMPTE170M=6;a.COL_PRI_SMPTE240M=7;a.COL_PRI_FILM=8;a.COL_PRI_BT2020=9;a.COL_PRI_SMPTEST428_1=10;a.COL_PRI_NB=11;a.COL_TRC_RESERVED0=0;a.COL_TRC_BT709=1;a.COL_TRC_UNSPECIFIED=2;a.COL_TRC_RESERVED=3;a.COL_TRC_GAMMA22=4;a.COL_TRC_GAMMA28=5;a.COL_TRC_SMPTE170M=6;a.COL_TRC_SMPTE240M=7;a.COL_TRC_LINEAR=8;a.COL_TRC_LOG=9;a.COL_TRC_LOG_SQRT=
10;a.COL_TRC_IEC61966_2_4=11;a.COL_TRC_BT1361_ECG=12;a.COL_TRC_IEC61966_2_1=13;a.COL_TRC_BT2020_10=14;a.COL_TRC_BT2020_12=15;a.COL_TRC_SMPTEST2084=16;a.COL_TRC_SMPTEST428_1=17;a.COL_TRC_ARIB_STD_B67=18;a.COL_TRC_NB=19;a.COL_SPC_RGB=0;a.COL_SPC_BT709=1;a.COL_SPC_UNSPECIFIED=2;a.COL_SPC_RESERVED=3;a.COL_SPC_FCC=4;a.COL_SPC_BT470BG=5;a.COL_SPC_SMPTE170M=6;a.COL_SPC_SMPTE240M=7;a.COL_SPC_YCOCG=8;a.COL_SPC_YCGCO=8;a.COL_SPC_BT2020_NCL=9;a.COL_SPC_BT2020_CL=10;a.COL_SPC_NB=11;a.COL_RANGE_UNSPECIFIED=0;
a.COL_RANGE_MPEG=1;a.COL_RANGE_JPEG=2;a.COL_RANGE_NB=2;a.CHROMA_LOC_UNSPECIFIED=0;a.CHROMA_LOC_LEFT=1;a.CHROMA_LOC_CENTER=2;a.CHROMA_LOC_TOPLEFT=3;a.CHROMA_LOC_TOP=4;a.CHROMA_LOC_BOTTOMLEFT=5;a.CHROMA_LOC_BOTTOM=6;a.CHROMA_LOC_NB=7;a.register=function(e,b){try{m.splice(b||m.length,0,e),a[e.prototype.kind]=e}catch(f){d.error("Failed to register codec "+e.prototype.kind+", Error="+f.message)}};a.get=function(a){for(var b=0;b<m.length;b++){var d=m[b];if(d.prototype.kind===a)return d}return null};c.codec=
a.get;c.Codec=a})(playease);
(function(c){function d(d){b.call(this,"AAC",null,l,[f.ERROR]);var e=this,c;e.parse=function(b){if(1>b.left())e.dispatchEvent(f.ERROR,{name:"DataError",message:"Data not enough while parsing AAC packet."});else{q.Timestamp=Math.max(b.timestamp,q.VideoTimestamp);var d=new DataView(b.payload.buffer);b.set("DataType",d.getUint8(b.position++));b.set("CTS",0);switch(b.get("DataType")){case h.SPECIFIC_CONFIG:a:if(2>b.left())e.dispatchEvent(f.ERROR,{name:"DataError",message:"Data not enough while parsing AAC specific config."});else{c=
new m(b.payload.subarray(b.position));e.AudioObjectType=c.ReadBits(5);e.AudioObjectType===g.ESCAPE&&(e.AudioObjectType=32+c.ReadBits(6));e.SamplingFrequencyIndex=c.ReadBits(4);e.SamplingFrequency=15===e.SamplingFrequencyIndex?c.ReadBits(24):A[e.SamplingFrequencyIndex];e.ChannelConfiguration=c.ReadBits(4);16>e.ChannelConfiguration&&(e.Channels=v[e.ChannelConfiguration]);if(e.AudioObjectType===g.SBR||e.AudioObjectType===g.PS&&0===(c.ShowBits(3)&3)&&0===(c.ShowBits(9)&63))switch(e.ExtensionSamplingFrequencyIndex=
c.ReadBits(4),e.ExtensionSamplingFrequency=15===e.ExtensionSamplingFrequencyIndex?c.ReadBits(24):A[e.ExtensionSamplingFrequencyIndex],e.ExtensionAudioObjectType=c.ReadBits(5),e.ExtensionAudioObjectType){case g.ESCAPE:e.ExtensionAudioObjectType=32+c.ReadBits(6);break;case g.ER_BSAC:e.ExtensionChannelConfiguration=c.ReadBits(4)}else e.ExtensionAudioObjectType=g.NULL,e.ExtensionSamplingFrequency=0;if(e.AudioObjectType===g.ALS){c.ShowBits(5);4279379!==c.ShowBitsLong(24)&&c.SkipBits(24);try{if(112>c.Left())throw{name:"DataError",
message:"Data not enough while parsing ALS config."};if(1095521024!==c.ReadBitsLong(32))throw{name:"TypeError",message:"Not ALS\\0"};e.SamplingFrequency=c.ReadBitsLong(32);c.SkipBits(32);e.ChannelConfiguration=0;e.Channels=c.ReadBits(16)+1}catch(N){a.error("Failed to parse AAC config ALS.");e.dispatchEvent(f.ERROR,{name:N.name,message:N.message});break a}}e.RefSampleDuration=Math.floor(1024*q.Timescale/e.SamplingFrequency);e.AudioObjectType=g.SBR;e.ExtensionSamplingFrequencyIndex=e.SamplingFrequencyIndex;
6<=e.SamplingFrequencyIndex?e.ExtensionSamplingFrequencyIndex-=3:1===e.ChannelConfiguration&&(e.AudioObjectType=g.AAC_LC);e.Config=e.AudioObjectType===g.SBR?new Uint8Array([e.AudioObjectType<<3|e.SamplingFrequencyIndex>>1,e.SamplingFrequencyIndex<<7|e.ChannelConfiguration<<3|e.ExtensionSamplingFrequencyIndex>>1,e.ExtensionSamplingFrequencyIndex<<7|8,0]):new Uint8Array([e.AudioObjectType<<3|e.SamplingFrequencyIndex>>1,e.SamplingFrequencyIndex<<7|e.ChannelConfiguration<<3]);e.Codec="mp4a.40."+e.AudioObjectType;
e.dispatchEvent(l.AAC_SPECIFIC_CONFIG)}break;case h.RAW_FRAME_DATA:q.AudioTimestamp=b.timestamp;d=Math.ceil((b.timestamp-q.AudioTimestamp)/e.RefSampleDuration);for(var r=0;r<d-1;r++){var x=new k.Packet;x.kind=t.KindAudio;x.codec=b.codec;x.timestamp=q.AudioTimestamp+e.RefSampleDuration;x.streamid=b.streamid;var M=x;a:switch(e.AudioObjectType){case AAC_LC:var D=n[e.Channels];break a;default:D=p[e.Channels]}M.payload=D;if(void 0===x.payload){a.warn("Failed to get silent frame: AudioObjectType="+e.AudioObjectType+
", Channels="+e.Channels);break}x.length=x.payload.byteLength;x.set("DTS",q.TimeBase+x.timestamp);x.set("PTS",x.get("DTS"));x.set("Data",x.payload);a.warn("Generates silent frame: "+x.timestamp);q.AudioTimestamp=x.timestamp;e.dispatchEvent(l.AAC_SAMPLE,{packet:x})}b.set("DTS",q.TimeBase+b.timestamp);b.set("PTS",b.get("DTS"));b.set("Data",b.payload.subarray(b.position));e.dispatchEvent(l.AAC_SAMPLE,{packet:b});break;default:e.dispatchEvent(f.ERROR,{name:"TypeError",message:"Unrecognized AAC packet type: "+
e.DataType})}}};var q=d;e.MimeType="audio/mp4";e.Codec="";e.RefSampleDuration=Math.floor(1024*q.Timescale/44100);e.AudioObjectType=0;e.SamplingFrequencyIndex=0;e.SamplingFrequency=0;e.ChannelConfiguration=0;e.Channels=0;e.ExtensionAudioObjectType=0;e.ExtensionSamplingFrequencyIndex=0;e.ExtensionSamplingFrequency=0;e.ExtensionChannelConfiguration=0;e.Config=null;e.ExpectedDts=0;e.Flags={IsLeading:0,SampleDependsOn:1,SampleIsDependedOn:0,SampleHasRedundancy:0,IsNonSync:0}}var a=c.utils,m=a.Golomb,e=
c.events,b=e.EventDispatcher,f=e.Event,l=e.MediaEvent,k=c.AV,t=k.Packet;c=k.Codec;var h={SPECIFIC_CONFIG:0,RAW_FRAME_DATA:1},g={NULL:0,AAC_MAIN:1,AAC_LC:2,AAC_SSR:3,AAC_LTP:4,SBR:5,AAC_SCALABLE:6,TWINVQ:7,CELP:8,HVXC:9,TTSI:12,MAINSYNTH:13,WAVESYNTH:14,MIDI:15,SAFX:16,ER_AAC_LC:17,ER_AAC_LTP:19,ER_AAC_SCALABLE:20,ER_TWINVQ:21,ER_BSAC:22,ER_AAC_LD:23,ER_CELP:24,ER_HVXC:25,ER_HILN:26,ER_PARAM:27,SSC:28,PS:29,SURROUND:30,ESCAPE:31,L1:32,L2:33,L3:34,DST:35,ALS:36,SLS:37,SLS_NON_CORE:38,ER_AAC_ELD:39,
SMR_SIMPLE:40,SMR_MAIN:41,USAC_NOSBR:42,SAOC:43,LD_SURROUND:44,USAC:45},A=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350],v=[0,1,2,3,4,5,6,8],n=[new Uint8Array([0,200,0,128,35,128]),new Uint8Array([33,0,73,144,2,25,0,35,128]),new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]),new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]),new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]),new Uint8Array([0,200,0,128,32,132,1,38,64,8,
100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])],p=[new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]),new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]),new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,
149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])];d.prototype=Object.create(b.prototype);d.prototype.constructor=d;d.prototype.kind="AAC";d.DataTypes=h;d.AOT=g;d.SamplingFrequencys=A;d.Channels=v;d.SilentFramesOfLC=n;d.SilentFramesOfSBR=p;c.register(d)})(playease);
(function(c){function d(c){e.call(this,"AVC",null,f,[b.ERROR]);var h=this;h.parse=function(d){if(4>d.left())h.dispatchEvent(b.ERROR,{name:"DataError",message:"Data not enough while parsing AVC packet."});else{g.Timestamp=Math.max(d.timestamp,g.AudioTimestamp);var e=new DataView(d.payload.buffer);d.set("DataType",e.getUint8(d.position++));d.set("CTS",e.getUint8(d.position++)<<16|e.getUint8(d.position++)<<8|e.getUint8(d.position++));switch(d.get("DataType")){case l.SEQUENCE_HEADER:a:if(7>d.left())h.dispatchEvent(b.ERROR,
{name:"DataError",message:"Data not enough while parsing AVC decoder configuration record."});else{h.AVCC=d.payload.subarray(d.position);e=0;var n=new DataView(d.payload.buffer,d.position);h.ConfigurationVersion=n.getUint8(e++);h.ProfileIndication=n.getUint8(e++);h.ProfileCompatibility=n.getUint8(e++);h.LevelIndication=n.getUint8(e++);if(1!==h.ConfigurationVersion||0===h.ProfileIndication)h.dispatchEvent(b.ERROR,{name:"DataError",message:"Invalid AVC configuration version or profile."});else if(h.NalLengthSize=
(n.getUint8(e++)&3)+1,3>h.NalLengthSize)h.dispatchEvent(b.ERROR,{name:"DataError",message:"Invalid NalLengthSize "+h.NalLengthSize});else{for(var p=n.getUint8(e++)&31,q=0;q<p;q++){var r=n.getUint16(e);e+=2;if(0!==r){var x=h.AVCC.subarray(e,e+r);try{h.SPS.parse(x),h.RefSampleDuration=Math.floor(g.Timescale*c.FrameRate.Den/c.FrameRate.Num)}catch(M){h.dispatchEvent(b.ERROR,{name:M.name,message:M.message});break a}e+=r}}p=n.getUint8(e++);for(q=0;q<p;q++)r=n.getUint16(e),e+=2,0!==r&&(e+=r);h.Codec=h.SPS.Codec;
h.dispatchEvent(f.AVC_CONFIG_RECORD,{packet:d})}}break;case l.NALU:a:{g.VideoTimestamp=d.timestamp;e=0;n=new DataView(d.payload.buffer,d.position);q=d.payload.subarray(d.position);p=[];d.set("DTS",g.TimeBase+d.timestamp);d.set("PTS",d.get("CTS")+d.get("DTS"));d.set("Data",q);for(d.set("NALUs",p);e<n.byteLength;){if(e+4>=n.byteLength){h.dispatchEvent(m.ERROR,{name:"DataError",message:"Data not enough for next NALU."});break a}r=n.getUint32(e);3===h.NalLengthSize&&(r>>=8);e+=h.NalLengthSize;if(r>n.byteLength-
h.NalLengthSize){h.dispatchEvent(m.ERROR,{name:"DataError",message:"Malformed Nalus near timestamp "+d.get("DTS")+"."});break a}d.set("ForbiddenZeroBit",n.getUint8(e)>>7&1);d.set("NalRefIdc",n.getUint8(e)>>5&3);d.set("NalUnitType",n.getUint8(e)&31);d.get("NalUnitType")===k.IDR_SLICE&&d.set("Keyframe",!0);x=q.subarray(e,e+r);e+=r;p.push(x)}h.dispatchEvent(f.AVC_SAMPLE,{packet:d})}break;case l.END_OF_SEQUENCE:a.debug("AVC sequence end.");h.dispatchEvent(f.END_OF_STREAM);break;default:h.dispatchEvent(b.ERROR,
{name:"TypeError",message:"Unrecognized AVC packet type: "+d.get("DataType")})}}};var g=c;h.MimeType="video/mp4";h.Codec="";h.RefSampleDuration=Math.floor(g.Timescale*c.FrameRate.Den/c.FrameRate.Num);h.AVCC=null;h.ConfigurationVersion=0;h.ProfileIndication=0;h.ProfileCompatibility=0;h.LevelIndication=0;h.NalLengthSize=0;h.SPS=new d.SPS(g);h.PPS=new d.PPS(h.SPS);h.ExpectedDts=0;h.Flags={IsLeading:0,SampleDependsOn:0,SampleIsDependedOn:0,SampleHasRedundancy:0,IsNonSync:0}}var a=c.utils,m=c.events,e=
m.EventDispatcher,b=m.Event,f=m.MediaEvent;c=c.AV.Codec;var l={SEQUENCE_HEADER:0,NALU:1,END_OF_SEQUENCE:2},k={SLICE:1,DPA:2,DPB:3,DPC:4,IDR_SLICE:5,SEI:6,SPS:7,PPS:8,AUD:9,END_SEQUENCE:10,END_STREAM:11,FILLER_DATA:12,SPS_EXT:13,AUXILIARY_SLICE:19,FF_IGNORE:267448321};d.prototype=Object.create(e.prototype);d.prototype.constructor=d;d.prototype.kind="AVC";d.DataTypes=l;d.NAL=k;c.register(d)})(playease);
(function(c){function d(){var a=this,b;a.parse=function(d){b=d;a.CpbCnt=b.ReadUE()+1;if(32<a.CpbCnt)throw{name:"DataError",message:"Invalid HRD.CpbCnt "+a.CpbCnt+"."};a.BitRateScale=b.ReadBits(4);a.CpbSizeScale=b.ReadBits(4);for(d=0;d<a.CpbCnt;d++)a.BitRateValue[d]=b.ReadUE(),a.CpbSizeValue[d]=b.ReadUE(),a.CbrFlag|=b.ReadBits(1)<<d;a.InitialCpbRemovalDelayLength=_b.ReadBits(5)+1;a.CpbRemovalDelayLength=b.ReadBits(5)+1;a.DpbOutputDelayLength=b.ReadBits(5)+1;a.TimeOffsetLength=b.ReadBits(5)};a.CpbCnt=
0;a.BitRateScale=0;a.CpbSizeScale=0;a.BitRateValue=Array(32);a.CpbSizeValue=Array(32);a.CbrFlag=0;a.InitialCpbRemovalDelayLength=0;a.CpbRemovalDelayLength=0;a.DpbOutputDelayLength=0;a.TimeOffsetLength=0}function a(){var a=this,e;a.parse=function(b){e=b;a.AspectRatioInfoPresentFlag=e.ReadBits(1);if(0!==a.AspectRatioInfoPresentFlag)if(a.AspectRatioIdc=e.ReadBits(8),255===a.AspectRatioIdc)a.Sar.Num=e.ReadBits(16),a.Sar.Den=e.ReadBits(16);else if(a.AspectRatioIdc<l.length)a.Sar=l[a.AspectRatioIdc];else throw{name:"DataError",
message:"Illegal aspect ratio."};else a.Sar.Num=0,a.Sar.Den=0;a.OverscanInfoPresentFlag=e.ReadBits(1);0!==a.OverscanInfoPresentFlag&&(a.OverscanAppropriateFlag=e.ReadBits(1));a.VideoSignalTypePresentFlag=e.ReadBits(1);0!==a.VideoSignalTypePresentFlag&&(a.VideoFormat=e.ReadBits(3),a.VideoFullRangeFlag=e.ReadBits(1),a.ColourDescriptionPresentFlag=e.ReadBits(1),0!==a.ColourDescriptionPresentFlag&&(a.ColourPrimaries=e.ReadBits(8),a.TransferCharacteristics=e.ReadBits(8),a.MatrixCoefficients=e.ReadBits(8),
a.ColourPrimaries>=f.COL_PRI_NB&&(a.ColourPrimaries=f.COL_PRI_UNSPECIFIED),a.TransferCharacteristics>=f.COL_TRC_NB&&(a.TransferCharacteristics=f.COL_TRC_UNSPECIFIED),a.MatrixCoefficients>=f.COL_SPC_NB&&(a.MatrixCoefficients=f.COL_SPC_UNSPECIFIED)));a.ChromaLocInfoPresentFlag=e.ReadBits(1);0!==a.ChromaLocInfoPresentFlag&&(a.ChromaSampleLocTypeTopField=e.ReadUE(),a.ChromaSampleLocTypeBottomField=e.ReadUE());if(0!==e.ReadBits(1)&&10>e.Left())throw{name:"DataError",message:"Truncated VUI."};a.TimingInfoPresentFlag=
e.ReadBits(1);if(0!==a.TimingInfoPresentFlag){a.NumUnitsInTick=e.ReadBitsLong(32);a.TimeScale=e.ReadBitsLong(32);if(0===a.NumUnitsInTick||0===a.TimeScale)m.debug("time_scale/num_units_in_tick invalid or unsupported "+a.TimeScale+"/"+a.NumUnitsInTick),a.TimingInfoPresentFlag=0;a.FixedFrameRateFlag=e.ReadBits(1)}a.NalHrdParametersPresentFlag=e.ReadBits(1);0!==a.NalHrdParametersPresentFlag&&a.NalHrd.parse(e);a.VclHrdParametersPresentFlag=e.ReadBits(1);0!==a.VclHrdParametersPresentFlag&&a.VclHrd.parse(e);
if(0!==a.NalHrdParametersPresentFlag||0!==a.VclHrdParametersPresentFlag)a.LowDelayHrdFlag=e.ReadBits(1);a.PicStructPresentFlag=e.ReadBits(1);if(0!==e.Left()&&(a.BitstreamRestrictionFlag=e.ReadBits(1),0!==a.BitstreamRestrictionFlag&&(a.MotionVectorsOverPicBoundariesFlag=e.ReadBits(1),a.MaxBytesPerPicDenom=e.ReadUE(),a.MaxBitsPerMbDenom=e.ReadUE(),a.Log2MaxMvLengthHorizontal=e.ReadUE(),a.Log2MaxMvLengthVertical=e.ReadUE(),a.MaxNumReorderFrames=e.ReadUE(),a.MaxDecFrameBuffering=e.ReadUE(),0>e.Left()&&
(a.MaxNumReorderFrames=0,a.BitstreamRestrictionFlag=0),16<a.MaxNumReorderFrames)))throw a.MaxNumReorderFrames=16,{name:"DataError",message:"Clipping illegal MaxNumReorderFrames "+a.MaxNumReorderFrames+"."};};a.AspectRatioInfoPresentFlag=0;a.AspectRatioIdc=0;a.Sar=new b;a.OverscanInfoPresentFlag=0;a.OverscanAppropriateFlag=0;a.VideoSignalTypePresentFlag=0;a.VideoFormat=0;a.VideoFullRangeFlag=0;a.ColourDescriptionPresentFlag=0;a.ColourPrimaries=0;a.TransferCharacteristics=0;a.MatrixCoefficients=0;a.ChromaLocInfoPresentFlag=
0;a.ChromaSampleLocTypeTopField=0;a.ChromaSampleLocTypeBottomField=0;a.TimingInfoPresentFlag=0;a.NumUnitsInTick=0;a.TimeScale=0;a.FixedFrameRateFlag=0;a.NalHrdParametersPresentFlag=0;a.NalHrd=new d;a.VclHrdParametersPresentFlag=0;a.VclHrd=new d;a.LowDelayHrdFlag=0;a.PicStructPresentFlag=0;a.BitstreamRestrictionFlag;a.MotionVectorsOverPicBoundariesFlag=0;a.MaxBytesPerPicDenom=0;a.MaxBitsPerMbDenom=0;a.Log2MaxMvLengthHorizontal=0;a.Log2MaxMvLengthVertical=0;a.MaxNumReorderFrames=0;a.MaxDecFrameBuffering=
0}var m=c.utils,e=m.Golomb;c=c.AV;var b=c.Rational,f=c.Codec;c=f.AVC;var l=[new b(0,1),new b(1,1),new b(12,11),new b(10,11),new b(16,11),new b(40,33),new b(24,11),new b(20,11),new b(32,11),new b(80,33),new b(18,11),new b(15,11),new b(64,33),new b(160,99),new b(4,3),new b(3,2),new b(2,1)];c.SPS=function(b){function d(a,b){return 0!==a&&0!==b&&(a+128)*(b+128)<m.MAX_INT32/8}var c=this,g;c.parse=function(a){if(4>a.byteLength)throw{name:"DataError",message:"Data not enough while parsing SPS."};c.Codec=
"avc1.";m.forEach(a.subarray(1,4),function(a,b){a=m.padStart(b.toString(16),2,"0");c.Codec+=a});a=m.ebsp2rbsp(a);g=new e(a);c.Data=a;g.ReadBits(8);c.ProfileIdc=g.ReadBits(8);c.ConstraintSetFlags=g.ReadBits(1)<<0;c.ConstraintSetFlags|=g.ReadBits(1)<<1;c.ConstraintSetFlags|=g.ReadBits(1)<<2;c.ConstraintSetFlags|=g.ReadBits(1)<<3;c.ConstraintSetFlags|=g.ReadBits(1)<<4;c.ConstraintSetFlags|=g.ReadBits(1)<<5;c.ReservedZero2Bits=g.ReadBits(2);c.LevelIdc=g.ReadBits(8);c.ID=g.ReadUE();if(32<=c.ID)throw{name:"DataError",
message:"SPS ID(0x"+c.ID.toString(16)+") out of range."};c.SeqScalingMatrixPresentFlag=0;c.Vui.VideoFullRangeFlag=1;c.Vui.MatrixCoefficients=f.COL_SPC_UNSPECIFIED;if(100===c.ProfileIdc||110===c.ProfileIdc||122===c.ProfileIdc||244===c.ProfileIdc||44===c.ProfileIdc||83===c.ProfileIdc||86===c.ProfileIdc||118===c.ProfileIdc||128===c.ProfileIdc||138===c.ProfileIdc||144===c.ProfileIdc){c.ChromaFormatIdc=g.ReadUE();if(3<c.ChromaFormatIdc)throw{name:"DataError",message:"Bad ChromaFormatIdc "+c.ChromaFormatIdc+
"."};if(3===c.ChromaFormatIdc&&(c.SeparateColourPlaneFlag=g.ReadBits(1),0!==c.SeparateColourPlaneFlag))throw{name:"DataError",message:"Separate color planes are not supported."};c.BitDepthLuma=g.ReadUE()+8;c.BitDepthChroma=g.ReadUE()+8;if(c.BitDepthChroma!==c.BitDepthLuma)throw{name:"DataError",message:"Different chroma and luma bit depth."};if(8>c.BitDepthLuma||14<c.BitDepthLuma||8>c.BitDepthChroma||14<c.BitDepthChroma)throw{name:"DataError",message:"Illegal bit depth value "+c.BitDepthLuma+", "+
c.BitDepthChroma+"."};c.TransformBypass=g.ReadBits(1);c.SeqScalingMatrixPresentFlag=g.ReadBits(1);if(0!==c.SeqScalingMatrixPresentFlag){a=8;3===c.ChromaFormatIdc&&(a+=4);for(var h=0;h<a;h++)if(0!=g.ReadBits(1)){var n=16;6<=h&&(n=64);for(var p=8,l=8,r=0;r<n;r++)l=g.ReadSE(),l=(p+l+256)%256,0!==l&&(p=l)}}}else c.ChromaFormatIdc=1,c.BitDepthLuma=8,c.BitDepthChroma=8;c.Log2MaxFrameNum=g.ReadUE()+4;if(4>c.Log2MaxFrameNum||16<c.Log2MaxFrameNum)throw{name:"DataError",message:"log2_max_frame_num_minus4("+
(c.Log2MaxFrameNum-4)+") out of range, expect 0-12."};c.PocType=g.ReadUE();if(0===c.PocType){if(c.Log2MaxPocLsb=g.ReadUE()+4,16<c.Log2MaxPocLsb)throw{name:"DataError",message:"log2_max_poc_lsb("+c.Log2MaxPocLsb+") is out of range."};}else if(1===c.PocType){c.DeltaPicOrderAlwaysZeroFlag=g.ReadBits(1);c.OffsetForNonRefPic=g.ReadUE();c.OffsetForTopToBottomField=g.ReadUE();c.NumRefFramesInPocCycle=g.ReadUE();a=c.OffsetForRefFrame.length;if(c.NumRefFramesInPocCycle>=a)throw{name:"DataError",message:"poc_cycle_length("+
c.NumRefFramesInPocCycle+") overflow."};for(h=0;h<c.NumRefFramesInPocCycle;h++)c.OffsetForRefFrame[h]=g.ReadUE()}else if(2!==c.PocType)throw{name:"DataError",message:"Illegal POC type "+c.PocType+"."};c.MaxNumRefFrames=g.ReadUE();if(34<c.MaxNumRefFrames||16<c.MaxNumRefFrames)throw{name:"DataError",message:"Too many reference frames, "+c.MaxNumRefFrames+"."};c.GapsInFrameNumValueAllowedFlag=g.ReadBits(1);c.PicWidth=g.ReadUE()+1;c.PicHeight=g.ReadUE()+1;if(c.PicWidth>=m.MAX_INT32/16||c.PicHeight>=m.MAX_INT32/
16||!1===d(16*c.PicWidth,16*c.PicHeight))throw{name:"DataError",message:"pic_width or pic_height overflow."};c.FrameMbsOnlyFlag=g.ReadBits(1);c.MbAdaptiveFrameFieldFlag=0===c.FrameMbsOnlyFlag?g.ReadBits(1):0;b.CodecWidth=16*c.PicWidth;b.CodecHeight=16*c.PicHeight*(2-c.FrameMbsOnlyFlag);c.Direct8x8InferenceFlag=g.ReadBits(1);c.FrameCroppingFlag=g.ReadBits(1);if(0!==c.FrameCroppingFlag){var x;a=g.ReadUE();h=g.ReadUE();n=g.ReadUE();p=g.ReadUE();1===c.ChromaFormatIdc&&(x=1);if(1===c.ChromaFormatIdc||
2===c.ChromaFormatIdc)var k=1;k=1<<k;x=2-c.FrameMbsOnlyFlag<<x;if(a>m.MAX_INT32/4/k||h>m.MAX_INT32/4/k||n>m.MAX_INT32/4/x||p>m.MAX_INT32/4/x||(a+h)*k>=b.CodecWidth||(n+p)*x>=b.CodecHeight)throw{name:"DataError",message:"Invalid crop values, l="+a+", r="+h+", t="+n+", b="+p+", w="+b.CodecWidth+", h="+b.CodecHeight+"."};c.FrameCropLeftOffset=a*k;c.FrameCropRightOffset=h*k;c.FrameCropTopOffset=n*x;c.FrameCropBottomOffset=p*x}else c.FrameCropLeftOffset=0,c.FrameCropRightOffset=0,c.FrameCropTopOffset=
0,c.FrameCropBottomOffset=0;c.VuiParametersPresentFlag=g.ReadBits(1);0!==c.VuiParametersPresentFlag&&(c.Vui.parse(g),0!==c.Vui.TimingInfoPresentFlag&&(b.FrameRate.Num=c.Vui.TimeScale,b.FrameRate.Den=2*c.Vui.NumUnitsInTick));b.CodecWidth-=c.FrameCropLeftOffset+c.FrameCropRightOffset;b.CodecHeight-=c.FrameCropTopOffset+c.FrameCropBottomOffset;b.Width=b.CodecWidth;b.Height=b.CodecHeight;1<c.Vui.Sar.Den&&(b.Width*=c.Vui.Sar.Num/c.Vui.Sar.Den)};c.ProfileIdc=0;c.ConstraintSetFlags=0;c.ReservedZero2Bits=
0;c.LevelIdc=0;c.ID=0;c.ChromaFormatIdc=0;c.SeparateColourPlaneFlag=0;c.BitDepthLuma=0;c.BitDepthChroma=0;c.TransformBypass=0;c.SeqScalingMatrixPresentFlag=0;c.Log2MaxFrameNum=0;c.PocType=0;c.Log2MaxPocLsb=0;c.DeltaPicOrderAlwaysZeroFlag=0;c.OffsetForNonRefPic=0;c.OffsetForTopToBottomField=0;c.NumRefFramesInPocCycle=0;c.OffsetForRefFrame=Array(256);c.MaxNumRefFrames=0;c.GapsInFrameNumValueAllowedFlag=0;c.PicWidth=0;c.PicHeight=0;c.FrameMbsOnlyFlag=0;c.MbAdaptiveFrameFieldFlag=0;c.Direct8x8InferenceFlag=
0;c.FrameCroppingFlag=0;c.FrameCropLeftOffset=0;c.FrameCropRightOffset=0;c.FrameCropTopOffset=0;c.FrameCropBottomOffset=0;c.VuiParametersPresentFlag=0;c.Vui=new a}})(playease);
(function(c){var d=c.utils,a=d.Golomb;c.AV.Codec.AVC.PPS=function(c){var e=this,b;e.parse=function(c){c=d.ebsp2rbsp(c);b=new a(c);e.Data=c;e.ID=b.ReadUE();if(256<=e.ID)throw{name:"DataError",message:"PPS ID(0x"+e.ID.toString(16)+") out of range."};e.SpsID=b.ReadUE();if(32<=e.SpsID)throw{name:"DataError",message:"SPS ID(0x"+e.SpsID.toString(16)+") out of range."};if(14<f.BitDepthLuma)throw{name:"DataError",message:"Invalid BitDepthLuma "+f.BitDepthLuma+"."};if(11===f.BitDepthLuma||13===f.BitDepthLuma)throw{name:"DataError",
message:"Unimplemented BitDepthLuma "+f.BitDepthLuma+"."};e.EntropyCodingModeFlag=b.ReadBits(1);e.PicOrderPresentFlag=b.ReadBits(1);e.NumSliceGroups=b.ReadUE()+1;1<e.NumSliceGroups&&(e.SliceGroupMapType=b.ReadUE(),d.debug("FMO not supported!"));e.NumRefIdx[0]=b.ReadUE()+1;e.NumRefIdx[1]=b.ReadUE()+1;if(31<e.NumRefIdx[0]-1||31<e.NumRefIdx[1]-1)throw{name:"DataError",message:"PPS reference overflow."};c=6*(f.BitDepthLuma-8);e.WeightedPredFlag=b.ReadBits(1);e.WeightedBipredIdc=b.ReadBits(2);e.PicInitQp=
b.ReadSE()+26+c;e.PicInitQs=b.ReadSE()+26+c;e.ChromaQpIndexOffset[0]=b.ReadSE();e.DeblockingFilterControlPresentFlag=b.ReadBits(1);e.ConstrainedIntraPredFlag=b.ReadBits(1);e.RedundantPicCntPresentFlag=b.ReadBits(1);e.Transform8x8ModeFlag=0;if(c=0<b.Left())66!==f.ProfileIdc&&77!==f.ProfileIdc&&88!==f.ProfileIdc||0===(f.ConstraintSetFlags&7)?c=!0:(d.debug("Current profile doesn't provide more RBSP data in PPS, skipping..."),c=!1);c?(e.Transform8x8ModeFlag=b.ReadBits(1),e.PicScalingMatrixPresentFlag=
b.ReadBits(1),0!==e.PicScalingMatrixPresentFlag&&(c=2,3===f.ChromaFormatIdc&&(c=6),b.ReadBits(6+c*e.Transform8x8ModeFlag)),e.ChromaQpIndexOffset[1]=b.ReadSE()):e.ChromaQpIndexOffset[1]=e.ChromaQpIndexOffset[0];e.ChromaQpIndexOffset[0]!==e.ChromaQpIndexOffset[1]&&(e.ChromaQpDiff=1)};var f=c;e.ID=0;e.SpsID=0;e.EntropyCodingModeFlag=0;e.PicOrderPresentFlag=0;e.NumSliceGroups=0;e.SliceGroupMapType=0;e.NumRefIdx=Array(2);e.WeightedPredFlag=0;e.WeightedBipredIdc=0;e.PicInitQp=0;e.PicInitQs=0;e.ChromaQpIndexOffset=
Array(2);e.DeblockingFilterControlPresentFlag=0;e.ConstrainedIntraPredFlag=0;e.RedundantPicCntPresentFlag=0;e.Transform8x8ModeFlag=0;e.PicScalingMatrixPresentFlag=0;e.ChromaQpDiff=0}})(playease);
(function(c){function d(a,b){e.call(this,"MediaStreamTrack");var c=this;c.stop=function(){};c.clone=function(){return new d(c.kind,c.source)};c.id=0;c.sn=0;c.kind=a;c.source=b}var a=c.utils,m=c.events,e=m.EventDispatcher,b=m.Event,f=m.MediaStreamTrackEvent;c=c.AV;var l=c.Information,k={},t=[];k.register=function(b,c){try{t.splice(c||t.length,0,b),k[b.prototype.kind]=b}catch(A){a.error("Failed to register format "+b.prototype.kind+", Error="+A.message)}};k.get=function(a){for(var b=0;b<t.length;b++){var c=
t[b];if(c.prototype.kind===a)return c}return null};d.KindAudio="audio";d.KindVideo="video";k.MediaStreamTrack=d;k.MediaStream=function(){e.call(this,"MediaStream",null,f,[b.ERROR]);var c=this;c.addTrack=function(b){for(var e=0;e<k.length;e++)if(k[e]===b){a.warn("MediaStreamTrack already added.");return}b.id=g++;k.push(b);a.log("Added "+b.kind+" track("+b.id+") to "+c.kind+".");c.dispatchEvent(f.ADDTRACK,{track:b})};c.removeTrack=function(b){for(var e=0;e<k.length;e++)if(k[e]===b){k.splice(e,1);a.log("Removed "+
b.kind+" track("+b.id+") to "+c.kind+".");c.dispatchEvent(f.REMOVETRACK,{track:b});break}};c.getTrackById=function(a){for(var b=0;b<k.length;b++)if(k[b].id===a)return k[b];return null};c.getTracks=function(){var b=[];a.forEach(k,function(a,c){b.push(c)});return b};c.getAudioTracks=function(){var b=[];a.forEach(k,function(a,c){c.kind===d.KindAudio&&b.push(c)});return b};c.getVideoTracks=function(){var b=[];a.forEach(k,function(a,c){c.kind===d.KindVideo&&b.push(c)});return b};c.close=function(){a.forEach(k,
function(a,b){b.stop();c.dispatchEvent(f.REMOVETRACK,{track:b})});g=1;k=[];c.info=new l};var g=1;var k=[];c.info=new l};c.format=k.get;c.Format=k})(playease);
(function(c){function d(){function c(){n=g.f;d.hasAudio=!1;d.hasVideo=!1}k.call(this,"FLV");var d=this,n,p;d.append=function(c){c=new Uint8Array(c);for(var r=0;r<c.byteLength;r++)switch(n){case g.f:if(70!==c[r]){d.dispatchEvent(e.ERROR,{name:"DataError",message:'Not "F"'});return}n=g.l;break;case g.l:if(76!==c[r]){d.dispatchEvent(e.ERROR,{name:"DataError",message:'Not "L"'});return}n=g.v;break;case g.v:if(86!==c[r]){d.dispatchEvent(e.ERROR,{name:"DataError",message:'Not "V"'});return}n=g.version;
break;case g.version:n=g.flags;break;case g.flags:d.hasAudio=!!(c[r]&4);d.hasVideo=!!(c[r]&1);n=g.header0;break;case g.header0:n=g.header1;break;case g.header1:n=g.header2;break;case g.header2:n=g.header3;break;case g.header3:n=g.backpointer0;break;case g.backpointer0:n=g.backpointer1;break;case g.backpointer1:n=g.backpointer2;break;case g.backpointer2:n=g.backpointer3;break;case g.backpointer3:n=g.type;break;case g.type:p=new f.Packet;switch(c[r]){case t.AUDIO:p.kind=l.KindAudio;break;case t.VIDEO:p.kind=
l.KindVideo;break;case t.SCRIPT:p.kind=l.KindScript;break;default:d.dispatchEvent(e.ERROR,{name:"TypeError",message:"Unrecognized flv tag "+a.hex(c[r])+"."});return}n=g.length0;break;case g.length0:p.length=c[r]<<16;n=g.length1;break;case g.length1:p.length|=c[r]<<8;n=g.length2;break;case g.length2:p.length|=c[r];p.payload=new Uint8Array(p.length);p.position=0;n=g.timestamp0;break;case g.timestamp0:p.timestamp=c[r]<<16;n=g.timestamp1;break;case g.timestamp1:p.timestamp|=c[r]<<8;n=g.timestamp2;break;
case g.timestamp2:p.timestamp|=c[r];n=g.timestamp3;break;case g.timestamp3:p.timestamp|=c[r]<<24;n=g.streamid0;break;case g.streamid0:p.streamid=c[r]<<16;n=g.streamid1;break;case g.streamid1:p.streamid|=c[r]<<8;n=g.streamid2;break;case g.streamid2:p.streamid|=c[r];n=g.payload;break;case g.payload:var x=Math.min(p.length-p.position,c.byteLength-r);p.payload.set(c.subarray(r,r+x),p.position);p.position+=x;r+=x-1;if(p.position===p.length){switch(p.kind){case l.KindAudio:p.set("Format",p.payload[0]>>
4&15);p.set("SampleRate",p.payload[0]>>2&3);p.set("SampleSize",p.payload[0]>>1&1);p.set("SampleType",p.payload[0]&1);p.set("DataType",p.payload[1]);p.position=1;break;case l.KindVideo:p.set("FrameType",p.payload[0]>>4&15);p.set("Codec",p.payload[0]&15);p.set("DataType",p.payload[1]);p.set("Keyframe",p.get("FrameType")===h.KEYFRAME);p.position=1;break;case l.KindScript:p.position=0}d.dispatchEvent(b.PACKET,{packet:p});n=g.backpointer0}break;default:d.dispatchEvent(e.ERROR,{name:"InvalidStateError",
message:"Invalid state while parsing flv tag."});return}};d.reset=function(){c();d.close()};c()}var a=c.utils,m=c.events,e=m.Event,b=m.MediaEvent,f=c.AV,l=f.Packet;c=f.Format;var k=c.MediaStream,t={AUDIO:8,VIDEO:9,SCRIPT:18},h={KEYFRAME:1,INTER_FRAME:2,DISPOSABLE_INTER_FRAME:3,GENERATED_KEYFRAME:4,INFO_OR_COMMAND_FRAME:5},g={f:0,l:1,v:2,version:3,flags:4,header0:5,header1:6,header2:7,header3:8,backpointer0:9,backpointer1:10,backpointer2:11,backpointer3:12,type:13,length0:14,length1:15,length2:16,
timestamp0:17,timestamp1:18,timestamp2:19,timestamp3:20,streamid0:21,streamid1:22,streamid2:23,payload:24};d.prototype=Object.create(k.prototype);d.prototype.constructor=d;d.prototype.kind="FLV";d.Tags=t;d.Frames=h;d.Formats={LINEAR_PCM_PLATFORM_ENDIAN:0,ADPCM:1,MP3:2,LINEAR_PCM_LITTLE_ENDIAN:3,NELLYMOSER_16_kHz_MONO:4,NELLYMOSER_8_kHz_MONO:5,NELLYMOSER:6,G_711_A_LAW_LOGARITHMIC_PCM:7,G_711_MU_LAW_LOGARITHMIC_PCM:8,RESERVED:9,AAC:10,SPEEX:11,MP3_8_kHz:14,DEVICE_SPECIFIC_SOUND:15};d.Rates=[5500,11025,
22050,44100];d.Codecs={JPEG:1,H263:2,SCREEN_VIDEO:3,VP6:4,VP6_ALPHA:5,SCREEN_VIDEO_2:6,AVC:7};c.FLV=d})(playease);
(function(c){function d(){b.call(this,"FMP4");var a=this;a.append=function(b){a.dispatchEvent(m.ERROR,{name:"NotSupportedError",message:"The operation is not supported."})};a.getInitSegment=function(){var b=a.ftyp(),c=a.moov.apply(a,arguments);return d.merge(b,c)};a.getSegment=function(b,c){var f=b.source,g=c.get("DTS")-a.info.TimeBase-f.ExpectedDts;c.set("DTS",f.ExpectedDts);c.set("PTS",c.get("CTS")+c.get("DTS"));c.set("Duration",f.RefSampleDuration+g);f.ExpectedDts=c.get("DTS")+c.get("Duration");
b.kind===e.KindVideo&&(c.get("Keyframe")?(f.Flags.SampleDependsOn=2,f.Flags.SampleIsDependedOn=1):(f.Flags.SampleDependsOn=1,f.Flags.SampleIsDependedOn=0));b.sn++;b=a.moof(b,c);c=a.mdat(c.get("Data"));return d.merge(b,c)};a.box=function(a){for(var b=Array.prototype.slice.call(arguments,1),c=8,e=0;e<b.length;e++)c+=b[e].byteLength;var d=0,f=new Uint8Array(c);f[d++]=c>>>24&255;f[d++]=c>>>16&255;f[d++]=c>>>8&255;f[d++]=c&255;f.set(a,d);d+=4;for(e=0;e<b.length;e++)f.set(b[e],d),d+=b[e].byteLength;return f};
a.ftyp=function(){return a.box(f.ftyp,k)};a.moov=function(){for(var b=[],c=[],e=a.mvhd(),d=Array.prototype.slice.call(arguments,0),g=0;g<d.length;g++){var n=d[g],h=a.trak(n);n=a.trex(n);b.push(h);c.push(n)}c=a.box.apply(a,[f.mvex].concat(c));return a.box.apply(a,[f.moov].concat([e],b,[c]))};a.mvhd=function(){var b=a.info.Timescale,c=1E3*a.info.Duration;return a.box(f.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,b>>24&255,b>>16&255,b>>8&255,b&255,c>>24&255,c>>16&255,c>>8&255,c&255,0,1,0,0,1,0,0,0,
0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))};a.trak=function(b){var c=a.tkhd(b);b=a.mdia(b);return a.box(f.trak,c,b)};a.tkhd=function(b){b=b.id;var c=1E3*a.info.Duration,e=a.info.Width,d=a.info.Height;return a.box(f.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,b>>24&255,b>>16&255,b>>8&255,b&255,0,0,0,0,c>>24&255,c>>16&255,c>>8&255,c&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,e>>8&255,e&255,0,0,d>>8&255,d&255,0,0]))};a.mdia=function(b){var c=a.mdhd(),e=a.hdlr(b);b=a.minf(b);return a.box(f.mdia,c,e,b)};a.mdhd=function(){var b=a.info.Timescale,c=1E3*a.info.Duration;return a.box(f.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,b>>24&255,b>>16&255,b>>8&255,b&255,c>>24&255,c>>16&255,c>>8&255,c&255,85,196,0,0]))};a.hdlr=function(b){return a.box(f.hdlr,b.kind===e.KindAudio?h:t)};a.minf=function(b){var c=b.kind===e.KindAudio?
a.box(f.smhd,q):a.box(f.vmhd,p);var d=a.dinf();b=a.stbl(b);return a.box(f.minf,c,d,b)};a.dinf=function(){var b=a.box(f.dref,l);return a.box(f.dinf,b)};a.stbl=function(b){b=a.stsd(b);var c=a.box(f.stts,A),e=a.box(f.stsc,v),d=a.box(f.stsz,n),g=a.box(f.stco,STCO);return a.box(f.stbl,b,c,e,d,g)};a.stsd=function(b){return b.kind===e.KindAudio?a.box(f.stsd,g,a.mp4a(b)):a.box(f.stsd,g,a.avc1(b))};a.mp4a=function(b){var c=b.source.SamplingFrequency;c=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,b.source.ChannelConfiguration,
0,16,0,0,0,0,c>>>8&255,c&255,0,0]);b=a.esds(b);return a.box(f.mp4a,c,b)};a.esds=function(b){b=b.source.Config;var c=b.byteLength;c=new Uint8Array([0,0,0,0,3,23+c,0,1,0,4,15+c,64,21,0,0,0,0,0,0,0,0,0,0,0,5,c]);return a.box(f.esds,c,b,new Uint8Array([6,1,2]))};a.avc1=function(b){var c=a.info.CodecWidth,e=a.info.CodecHeight;c=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c>>8&255,c&255,e>>8&255,e&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,112,108,97,121,101,97,115,101,46,106,115,32,45,32,
118,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);b=a.box(f.avcC,b.source.AVCC);return a.box(f.avc1,c,b)};a.trex=function(b){b=b.id;return a.box(f.trex,new Uint8Array([0,0,0,0,b>>24&255,b>>16&255,b>>8&255,b&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))};a.moof=function(b,c){var e=a.mfhd(b);b=a.traf(b,c);return a.box(f.moof,e,b)};a.mfhd=function(b){b=b.sn;b=new Uint8Array([0,0,0,0,b>>24&255,b>>16&255,b>>8&255,b&255]);return a.box(f.mfhd,b)};a.traf=function(b,c){var e=b.id,d=c.get("DTS");e=a.box(f.tfhd,
new Uint8Array([0,0,0,0,e>>24&255,e>>16&255,e>>8&255,e&255]));d=a.box(f.tfdt,new Uint8Array([0,0,0,0,d>>24&255,d>>16&255,d>>8&255,d&255]));c=a.trun(b,c);b=a.sdtp(b);return a.box(f.traf,e,d,c,b)};a.trun=function(b,c){var e=c.get("Duration"),d=c.get("Data").byteLength;b=b.source.Flags;c=c.get("CTS");return a.box(f.trun,new Uint8Array([0,0,15,1,0,0,0,1,0,0,0,121,e>>24,e>>16,e>>8,e,d>>24,d>>16,d>>8,d,b.IsLeading<<2|b.SampleDependsOn,b.SampleIsDependedOn<<6|b.SampleHasRedundancy<<4|b.IsNonSync,0,0,c>>
24,c>>16,c>>8,c]))};a.sdtp=function(b){b=b.source.Flags;return a.box(f.sdtp,new Uint8Array([0,0,0,0,b.IsLeading<<6|b.SampleDependsOn<<4|b.SampleIsDependedOn<<2|b.SampleHasRedundancy]))};a.mdat=function(b){return a.box(f.mdat,b)};a.reset=function(){a.close()}}var a=c.utils,m=c.events.Event;c=c.AV.Format;var e=c.MediaStreamTrack,b=c.MediaStream,f={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],
stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},l=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),k=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),t=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),h=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),g=
new Uint8Array([0,0,0,0,0,0,0,1]),A=new Uint8Array([0,0,0,0,0,0,0,0]),v=STCO=A,n=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),p=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),q=new Uint8Array([0,0,0,0,0,0,0,0]);a.forEach(f,function(a,b){b.push(a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(3))});d.prototype=Object.create(b.prototype);d.prototype.constructor=d;d.prototype.kind="FMP4";d.merge=function(){for(var a=Array.prototype.slice.call(arguments,0),b=0,c=0;c<a.length;c++)b+=a[c].byteLength;
var e=0;b=new Uint8Array(b);for(c=0;c<a.length;c++)b.set(a[c],e),e+=a[c].byteLength;return b};d.parseDescriptor=function(a){a=new Uint8Array(a);for(var b=0,c={},e,d=0;d<a.byteLength;d++)switch(b){case 0:e={type:a[d],size:0,data:void 0};c[e.type]=e;b=1;break;case 1:case 2:case 3:case 4:var f=a[d];e&&(e.size=e.size<<7|f&127);f&128?b++:b=5;break;case 5:e&&(e.data=a.subarray(d,d+e.size),d+=e.size-1);b=0;break;default:throw{name:"InvalidStateError",message:"Invalid state while parsing fmp4 descriptor."};
}return c};c.FMP4=d})(playease);(function(c){var d=c.utils,a={},m=[];a.register=function(c,b){try{m.splice(b||m.length,0,c),a[c.prototype.kind]=c}catch(f){d.error("Failed to register module "+c.prototype.kind+", Error="+f.message)}};a.get=function(a,b){for(var c=0;c<m.length;c++){var e=m[c];if(e.prototype.isSupported(a,b))return e}return null};c.module=a.get;c.Module=a})(playease);
(function(c){function d(b){l.call(this,"SRC",null,k,t);var c=this,e;c.setup=function(){!1===d&&(d=!0,c.dispatchEvent(k.READY,{kind:c.kind}))};c.play=function(b,d){"string"===a.typeOf(b)&&b!==e&&b!==f.src&&(e=b,f.src=b);if(b=f.play())b["catch"](function(b){switch(b.name){case "AbortError":a.debug(b.name+": "+b.message);break;case "NotAllowedError":a.warn("Failed to play due to the autoplay policy, trying to play with muted.");f.muted=!0;f.play();break;default:a.error("Unrecognized error occured, "+
b.name+": "+b.message),c.dispatchEvent(k.STALLED,{name:b.name,message:b.message})}});f.controls=!1};c.pause=function(){f.pause();f.controls=!1};c.seek=function(a){f.currentTime=a;c.play()};c.stop=function(){d=!1;e=void 0;f.src=null;f.controls=!1};c.muted=function(b){"boolean"===a.typeOf(b)&&(f.muted=b);return f.muted};c.volume=function(b){"number"===a.typeOf(b)&&(f.volume=b);return f.volume};c.cleanup=function(){c.stop();d=!1};c.element=function(){return f};c.config=b;var d=!1;var f=a.createElement("video");
f.addEventListener("play",c.forward);f.addEventListener("loadstart",c.forward);f.addEventListener("waiting",c.forward);f.addEventListener("stalled",c.forward);f.addEventListener("abort",c.forward);f.addEventListener("timeout",c.forward);f.addEventListener("durationchange",function(a){c.dispatchEvent(k.DURATIONCHANGE,{duration:f.duration})});f.addEventListener("loadedmetadata",c.forward);f.addEventListener("loadeddata",c.forward);f.addEventListener("progress",c.forward);f.addEventListener("canplay",
c.forward);f.addEventListener("playing",c.forward);f.addEventListener("canplaythrough",c.forward);f.addEventListener("suspend",c.forward);f.addEventListener("pause",c.forward);f.addEventListener("seeking",c.forward);f.addEventListener("seeked",c.forward);f.addEventListener("ratechange",c.forward);f.addEventListener("timeupdate",function(a){a=f.buffered;c.dispatchEvent(k.TIMEUPDATE,{start:a.length?a.start(0):0,time:f.currentTime,buffered:a.length?a.end(a.length-1):0,duration:f.duration})});f.addEventListener("volumechange",
function(a){c.dispatchEvent(k.VOLUMECHANGE,{muted:f.muted,volume:f.volume})});f.addEventListener("load",c.forward);f.addEventListener("ended",c.forward);f.addEventListener("error",function(a){c.dispatchEvent(k.ERROR,{name:{1:"AbortError",2:"NetworkError",3:"EncodingError",4:"NotSupportedError"}[f.error.code],message:f.error.message})});c.config.objectfit&&m.style(f,{"object-fit":c.config.objectfit});c.config.airplay&&f.setAttribute("x-webkit-airplay","allow");c.config.playsinline&&(f.setAttribute("playsinline",
"isiPhoneShowPlaysinline"),f.setAttribute("webkit-playsinline","isiPhoneShowPlaysinline"),f.setAttribute("x5-playsinline",""),f.setAttribute("x5-video-player-type","h5-page"),f.setAttribute("x5-video-player-fullscreen",!0),f.setAttribute("t7-video-player-type","inline"));c.config.preload&&(f.preload=c.config.preload);f.muted=c.config.muted;f.volume=c.config.volume}var a=c.utils,m=a.css,e=c.OS,b=c.Browser,f=c.events,l=f.EventDispatcher,k=f.Event,t=f.IOEvent;c=c.Module;d.prototype=Object.create(l.prototype);
d.prototype.constructor=d;d.prototype.kind="SRC";d.prototype.isSupported=function(c,d){if(b.isMSIE&&9>b.major)return!1;c=new a.URL(c);if("http:"!==c.protocol&&"https:"!==c.protocol)return!1;d="m3u8 m3u hls mp4 f4v m4v mov m4a f4a aac ogv ogg mp3 oga webm".split(" ");var f="mp4 f4v m4v mov m4a f4a aac ogv ogg mp3 oga webm".split(" ");d=e.isMobile||e.isMac?d:f;for(f=0;f<d.length;f++)if(c.filetype===d[f])return!0;return!1};c.register(d)})(playease);
(function(c){function d(b){function e(b){a.log("MediaSource.onsourceopen");F.load(S)}function d(b){a.log("MediaSource.onsourceended")}function N(b){a.log("MediaSource.onsourceclose")}function W(b){a.log("MediaSource.onsourceerror");w.dispatchEvent(l.ERROR,{name:err.name,message:err.message})}function R(b){ba();var e;b.loader&&"auto"!==b.loader.name&&(e=A[b.loader.name]);null!=e&&e.prototype.isSupported(S,w.config.mode)||(e=c.io(S,w.config.mode));if(null==e)throw{name:"NotSupportedError",message:"No supported io found."};
F=new e(b.loader);F.addEventListener(k.LOADSTART,w.forward);F.addEventListener(k.STALLED,w.forward);F.addEventListener(k.ABORT,T);F.addEventListener(k.TIMEOUT,T);F.addEventListener(k.PROGRESS,ca);F.addEventListener(k.SUSPEND,w.forward);F.addEventListener(k.LOAD,w.forward);F.addEventListener(k.LOADEND,z);F.addEventListener(l.ERROR,T);a.log(F.kind+" loader initialized.")}function ba(){F&&(F.removeEventListener(k.LOADSTART,w.forward),F.removeEventListener(k.STALLED,w.forward),F.removeEventListener(k.ABORT,
T),F.removeEventListener(k.TIMEOUT,T),F.removeEventListener(k.PROGRESS,ca),F.removeEventListener(k.SUSPEND,w.forward),F.removeEventListener(k.LOAD,w.forward),F.removeEventListener(k.LOADEND,z),F.removeEventListener(l.ERROR,T),F.abort())}function ca(b){a.debug("progress: "+b.data.loaded+"/"+b.data.total);C.append(b.data.buffer)}function T(a){w.forward(a)}function da(b){b=b.data.packet;switch(b.kind){case n.KindVideo:if(b.get("Codec")!==M.AVC){w.dispatchEvent(l.ERROR,{name:"NotSupportedError",message:"Video codec "+
a.hex(b.get("Codec"))+" not supported."});break}var c=C.getVideoTracks()[0];if(b.get("DataType")===p.AVC.DataTypes.SEQUENCE_HEADER){if(c){a.warn("Video track already exists, ignored.");break}c=new p.AVC(C.info);c=new r(r.KindVideo,c);C.addTrack(c)}else if(0<b.timestamp&&b.timestamp<=C.info.VideoTimestamp){a.warn("Drops unordered video packet: "+b.timestamp);break}c.source.parse(b);break;case n.KindAudio:if(b.get("Format")!==x.AAC){w.dispatchEvent(l.ERROR,{name:"NotSupportedError",message:"Audio format "+
a.hex(b.get("Format"))+" not supported."});break}c=C.getAudioTracks()[0];if(b.get("DataType")===p.AAC.DataTypes.SPECIFIC_CONFIG){if(c){a.warn("Audio track already exists, ignored.");break}c=new p.AAC(C.info);c=new r(r.KindAudio,c);C.addTrack(c)}else if(0<b.timestamp&&b.timestamp<=C.info.AudioTimestamp){a.warn("Drops unordered audio packet: "+b.timestamp);break}c.source.parse(b);break;case n.KindScript:c=new v.Value;var e=v.decode(c,b.payload.buffer,b.position);c.key=c.get();e+=v.decode(c,b.payload.buffer,
b.position+e);var d={};a.forEach(c.get(),function(a,b){d[b.key]=b.get()});a.log(c.key+":",d);"onMetaData"===c.key&&K(c);break;default:a.error("Unrecognized flv tag "+a.hex(b.kind)+".")}}function ea(a){a=a.data.track.clone();a.source.addEventListener(h.AVC_CONFIG_RECORD,u);a.source.addEventListener(h.AAC_SPECIFIC_CONFIG,Y);a.source.addEventListener(h.AVC_SAMPLE,B);a.source.addEventListener(h.AAC_SAMPLE,L);a.source.addEventListener(h.END_OF_STREAM,z);a.source.addEventListener(l.ERROR,w.forward);I.addTrack(a)}
function Z(a){a=I.getTrackById(a.data.track.id);a.source.removeEventListener(h.AVC_CONFIG_RECORD,u);a.source.removeEventListener(h.AAC_SPECIFIC_CONFIG,Y);a.source.removeEventListener(h.AVC_SAMPLE,B);a.source.removeEventListener(h.AAC_SAMPLE,L);a.source.removeEventListener(h.END_OF_STREAM,z);a.source.removeEventListener(l.ERROR,w.forward);a.stop();I.removeTrack(a)}function K(a){a.table.audiodatarate&&(C.info.AudioDataRate=a.table.audiodatarate.get());a.table.audiosamplerate&&(C.info.AudioSampleRate=
a.table.audiosamplerate.get());a.table.audiosamplesize&&(C.info.AudioSampleSize=a.table.audiosamplesize.get());a.table.videodatarate&&(C.info.VideoDataRate=a.table.videodatarate.get());a.table.width&&(C.info.Width=a.table.width.get());a.table.height&&(C.info.Height=a.table.height.get());a.table.framerate&&(C.info.FrameRate.Num=a.table.framerate.get(),C.info.FrameRate.Den=1);a.table.duration&&(C.info.Duration=a.table.duration.get());a.table.filesize&&(C.info.Size=a.table.filesize.get())}function u(a){a=
I.getVideoTracks()[0];G(a);var b=I.getInitSegment(a);O[a.kind].push(b);P(a.kind)}function Y(a){a=I.getAudioTracks()[0];G(a);var b=I.getInitSegment(a);O[a.kind].push(b);P(a.kind)}function B(a){var b=I.getVideoTracks()[0];a=I.getSegment(b,a.data.packet);O[b.kind].push(a);P(b.kind)}function L(a){var b=I.getAudioTracks()[0];a=I.getSegment(b,a.data.packet);O[b.kind].push(a);P(b.kind)}function z(a){fa=!0}function G(b){var c=b.source;c=c.MimeType+'; codecs="'+c.Codec+'"';if(!1===MediaSource.isTypeSupported(c))a.warn(c+
" not supported!");else if(a.log(c),"closed"===H.readyState)w.dispatchEvent(l.ERROR,{name:"InvalidStateError",message:"MediaSource is already closed while adding SourceBuffer."});else try{var e=H.addSourceBuffer(c);e.addEventListener("updateend",na);e.addEventListener("error",oa);e.kind=b.kind;U[b.kind]=e}catch(ma){a.error(ma.name+": "+ma.message)}}function P(b){if(C.hasAudio||C.hasVideo)if(C.hasAudio&&!U[r.KindAudio]||C.hasVideo&&!U[r.KindVideo])return;var c=U[b];if(c&&!c.updating&&(b=O[b].shift()))try{c.appendBuffer(b)}catch(X){a.error(X.name+
": "+X.message),w.dispatchEvent(l.ERROR,{name:X.name,message:X.message})}}function na(b){a.debug("SourceBuffer.onupdateend");b=b.target;if(!ha){var c=y.buffered;c.length&&(c=c.start(0),y.currentTime<c&&(y.currentTime=c,ha=!0,a.warn("Seems stalled, seeking to the available time "+c+".")))}if(fa){if("open"!==H.readyState)return;if(!O[r.KindAudio].length&&!O[r.KindVideo].length){H.endOfStream();return}}if(1.1*Q[b.kind]>=w.config.maxPlaybackLength)try{b.remove(0,Q[b.kind]-w.config.maxPlaybackLength/2),
Q[b.kind]=0}catch(qa){var e=y.buffered;c=e.length?e.start(0):0;var d=y.currentTime;e=e.length?e.end(e.length-1):0;a.log("Failed to remove "+b.kind+" buffer: start="+c+", time="+d+", buffered="+e+", duration="+y.duration)}else P(b.kind)}function oa(b){a.error("SourceBuffer.onerror");w.dispatchEvent(l.ERROR,{name:"DataError",message:"SourceBuffer error occurs."})}function pa(b){var c=y.currentTime;a.forEach(Q,function(a,b){Q[a]=c})}function la(a){for(var b=0;b<D.length;b++)if(D[b]===a)return!0;return!1}
f.call(this,"FLV",null,l,k);var w=this,ia,ha,F;w.setup=function(){!1===ia&&(ia=!0,w.dispatchEvent(l.READY,{kind:w.kind}))};w.play=function(b,c){if("string"===a.typeOf(b)&&(new a.URL(b)).href!==S.href){try{S.parse(b)}catch(X){a.error('Failed to parse url "'+b+'".');w.dispatchEvent(l.ERROR,{name:X.name,message:X.message});return}if(!la(S.hostname)){S=new a.URL;w.dispatchEvent(l.ERROR,{name:J,message:E});return}fa=!1;C.reset();I.reset();I.info=C.info;R(c||{});y.src=URL.createObjectURL(H);y.load()}if(b=
y.play())b["catch"](function(b){switch(b.name){case "AbortError":a.debug(b.name+": "+b.message);break;case "NotAllowedError":a.warn("Failed to play due to the autoplay policy, trying to play with muted.");y.muted=!0;y.play();break;default:a.error("Unrecognized error occured, "+b.name+": "+b.message),w.dispatchEvent(l.ERROR,{name:b.name,message:b.message})}});y.controls=!1};w.pause=function(){y.pause();y.controls=!1};w.seek=function(a){y.currentTime=a;w.play()};w.stop=function(){ja.reset();F&&F.abort();
a.forEach(U,function(a,b){b&&(b.removeEventListener("updateend",na),b.removeEventListener("error",oa),H.removeSourceBuffer(b));U[a]=null});a.forEach(O,function(a,b){O[a]=[]});a.forEach(Q,function(a,b){Q[a]=0});fa=ha=ia=!1;S=new a.URL;y.removeAttribute("src");y.controls=!1};w.muted=function(b){"boolean"===a.typeOf(b)&&(y.muted=b);return y.muted};w.volume=function(b){"number"===a.typeOf(b)&&(y.volume=b);return y.volume};w.cleanup=function(){w.stop();ja.removeEventListener(t.TIMER,pa);H.removeEventListener("sourceopen",
e);H.removeEventListener("sourceended",d);H.removeEventListener("sourceclose",N);H.removeEventListener("error",W);H.removeEventListener("webkitsourceopen",e);H.removeEventListener("webkitsourceended",d);H.removeEventListener("webkitsourceclose",N);H.removeEventListener("webkiterror",W);C.close();C.removeEventListener(h.PACKET,da);C.removeEventListener(g.ADDTRACK,ea);C.removeEventListener(g.REMOVETRACK,Z);C.removeEventListener(l.ERROR,w.forward);I.close();I.removeEventListener(l.ERROR,w.forward);ba()};
w.element=function(){return y};w.config=b;var fa=ha=ia=!1;var S=new a.URL;new a.FileKeeper;var U={};U[r.KindAudio]=null;U[r.KindVideo]=null;var O={};O[r.KindAudio]=[];O[r.KindVideo]=[];var Q={};Q[r.KindAudio]=0;Q[r.KindVideo]=0;var ja=new a.Timer(500*w.config.maxPlaybackLength);ja.addEventListener(t.TIMER,pa);var H=new (window.MediaSource||window.WebKitMediaSource);H.addEventListener("sourceopen",e);H.addEventListener("sourceended",d);H.addEventListener("sourceclose",N);H.addEventListener("error",
W);H.addEventListener("webkitsourceopen",e);H.addEventListener("webkitsourceended",d);H.addEventListener("webkitsourceclose",N);H.addEventListener("webkiterror",W);var C=new q.FLV;C.addEventListener(h.PACKET,da);C.addEventListener(g.ADDTRACK,ea);C.addEventListener(g.REMOVETRACK,Z);C.addEventListener(l.ERROR,w.forward);var I=new q.FMP4;I.addEventListener(l.ERROR,w.forward);var y=a.createElement("video");y.addEventListener("play",w.forward);y.addEventListener("loadstart",w.forward);y.addEventListener("waiting",
w.forward);y.addEventListener("stalled",w.forward);y.addEventListener("abort",w.forward);y.addEventListener("timeout",w.forward);y.addEventListener("durationchange",function(a){w.dispatchEvent(l.DURATIONCHANGE,{duration:y.duration});"live"!==w.config.mode||isNaN(w.config.maxPlaybackLength)||ja.start()});y.addEventListener("loadedmetadata",w.forward);y.addEventListener("loadeddata",w.forward);y.addEventListener("progress",w.forward);y.addEventListener("canplay",w.forward);y.addEventListener("playing",
w.forward);y.addEventListener("canplaythrough",w.forward);y.addEventListener("suspend",w.forward);y.addEventListener("pause",w.forward);y.addEventListener("seeking",w.forward);y.addEventListener("seeked",w.forward);y.addEventListener("ratechange",w.forward);y.addEventListener("timeupdate",function(a){a=y.buffered;w.dispatchEvent(l.TIMEUPDATE,{start:a.length?a.start(0):0,time:y.currentTime,buffered:a.length?a.end(a.length-1):0,duration:y.duration})});y.addEventListener("volumechange",function(a){w.dispatchEvent(l.VOLUMECHANGE,
{muted:y.muted,volume:y.volume})});y.addEventListener("load",w.forward);y.addEventListener("ended",w.forward);y.addEventListener("error",function(a){w.dispatchEvent(l.ERROR,{name:{1:"AbortError",2:"NetworkError",3:"EncodingError",4:"NotSupportedError"}[y.error.code],message:y.error.message})});w.config.objectfit&&m.style(y,{"object-fit":w.config.objectfit});w.config.airplay&&y.setAttribute("x-webkit-airplay","allow");w.config.playsinline&&(y.setAttribute("playsinline","isiPhoneShowPlaysinline"),y.setAttribute("webkit-playsinline",
"isiPhoneShowPlaysinline"),y.setAttribute("x5-playsinline",""),y.setAttribute("x5-video-player-type","h5-page"),y.setAttribute("x5-video-player-fullscreen",!0),y.setAttribute("t7-video-player-type","inline"));y.muted=w.config.muted;y.volume=w.config.volume}var a=c.utils,m=a.css,e=c.Browser,b=c.events,f=b.EventDispatcher,l=b.Event,k=b.IOEvent,t=b.TimerEvent,h=b.MediaEvent,g=b.MediaStreamTrackEvent,A=c.IO,v=a.AMF;b=c.AV;var n=b.Packet,p=b.Codec,q=b.Format,r=q.MediaStreamTrack,x=q.FLV.Formats,M=q.FLV.Codecs;
b=c.Module;var D=[String.fromCharCode(115,116,117,100,101,97,115,101,46,99,110),String.fromCharCode(51,57,46,57,56,46,52,48,46,49,57,51),String.fromCharCode(119,119,119,46,99,97,114,45,101,121,101,46,99,110),String.fromCharCode(119,119,119,46,115,116,114,101,97,109,105,110,103,45,118,105,112,46,99,111,109),String.fromCharCode(49,50,48,46,55,54,46,50,51,53,46,49,48,57),String.fromCharCode(49,50,48,46,55,57,46,54,55,46,49,48,50)],J=String.fromCharCode(83,101,99,117,114,105,116,121,69,114,114,111,114),
E=String.fromCharCode(84,104,101,32,111,112,101,114,97,116,105,111,110,32,105,115,32,105,110,115,101,99,117,114,101,46);d.prototype=Object.create(f.prototype);d.prototype.constructor=d;d.prototype.kind="FLV";d.prototype.isSupported=function(b,c){if(e.isMSIE&&9>e.major||!window.MediaSource&&!window.WebKitMediaSource)return!1;b=new a.URL(b);if("http:"!==b.protocol&&"https:"!==b.protocol&&"ws:"!==b.protocol&&"wss:"!==b.protocol)return!1;c=["flv","",void 0];for(var d=0;d<c.length;d++)if(b.filetype===
c[d])return!0;return!1};b.register(d)})(playease);(function(c){c.core={}})(playease);
(function(c){var d=c.utils;c.core.Model=function(a){var m=this,e,b,f;m.definition=function(a){"number"===d.typeOf(a)&&a!==b&&a<m.config.sources.length&&(d.log("Model definition changed: "+a),b=a);return isNaN(b)?null:m.config.sources[b]};m.duration=function(a){"number"===d.typeOf(a)&&a!==f&&(d.log("Model duration changed: "+a),f=a,m.config.mode=Infinity===a?"live":"vod");return f};m.state=function(a){"string"===d.typeOf(a)&&a!==e&&(d.log("playease("+m.config.id+") state changed: "+a),e=a);return e};
(function(){m.config=a;e="";f=NaN;"array"!==d.typeOf(m.config.sources)&&(m.config.sources=[]);m.config.file&&(m.config.sources=[{file:m.config.file,module:m.config.module,loader:m.config.loader}]);b=m.config.sources.length?0:NaN;for(var l=0;l<m.config.sources.length;l++){var k=m.config.sources[l];null==c.module(k.file,m.config.mode)?(d.warn("Ignored unsupported source url: "+k.file+"."),m.config.sources.splice(l--,1)):k["default"]&&(b=l)}0===m.config.sources.length&&d.warn("No supported source url provided.")})()}})(playease);
(function(c){function d(d,m){e.call(this,"View",null,b,f);var h=this,g;h.setup=function(b){void 0!==g&&(g.cleanup(),g.removeGlobalListener(h.forward),k.innerHTML="");try{g=new l[b](v.config),k.appendChild(g.element()),g.addGlobalListener(h.forward),g.muted(v.config.muted),g.volume(v.config.volume),g.setup()}catch(p){a.error("Failed to init module "+b+". "+p.name+": "+p.message)}};h.play=function(a,e){if(void 0===a){if(void 0===g){h.dispatchEvent(b.ERROR,{name:"NotFoundError",message:"Module not found while the source url doesn't provided."});
return}}else if(void 0===g||!g.isSupported(a,v.config.mode)){a=c.module(a,v.config.mode);if(null==a){h.dispatchEvent(b.ERROR,{name:"NotSupportedError",message:"No supported module found."});return}h.setup(a.prototype.kind);return}g.play(a,e)};h.pause=function(){g&&g.pause()};h.seek=function(a){g&&g.seek(a)};h.stop=function(){g&&g.stop()};h.muted=function(c){"boolean"===a.typeOf(c)&&(g?v.config.muted=g.muted(c):v.config.muted!==c&&(v.config.muted=c,h.dispatchEvent(b.VOLUMECHANGE,{muted:v.config.muted,
volume:v.config.volume})));return v.config.muted};h.volume=function(c){"number"===a.typeOf(c)&&(g?v.config.volume=g.volume(c):v.config.volume!==c&&(v.config.volume=c,h.dispatchEvent(b.VOLUMECHANGE,{muted:v.config.muted,volume:v.config.volume})));return v.config.volume};h.definition=function(c){"number"===a.typeOf(c)&&c!==v.definition()&&(c<v.config.sources.length?(v.definition(c),h.dispatchEvent(b.SWITCHING,{index:c})):h.dispatchEvent(b.ERROR,{name:"IndexSizeError",message:"The index is not in the allowed range."}));
return v.definition()};h.onSWFState=function(a){switch(a.state){case "buffering":h.dispatchEvent(b.WAITING);break;case "playing":h.dispatchEvent(b.PLAYING);break;case "paused":h.dispatchEvent(b.PAUSE);break;case "stopped":h.dispatchEvent(b.ENDED);break;case "error":h.dispatchEvent(b.ERROR,{name:err.name,message:"Flash plugin error occured."});break;default:h.dispatchEvent(b.ERROR,{name:"InvalidStateError",message:"Invalid state "+a.state+"."})}};h.element=function(){return g?g.element():null};h.resize=
function(a,b){};var k=d;var v=m}var a=c.utils,m=c.events,e=m.EventDispatcher,b=m.Event,f=m.IOEvent,l=c.Module;m=c.core;d.prototype=Object.create(e.prototype);d.prototype.constructor=d;m.View=d})(playease);
(function(c){function d(c,d){function l(a){m.state(a.type);h.forward(a)}e.call(this,"Controller",null,b,f);var h=this,g,k;h.play=function(a,c){if(void 0===a){if("pause"===m.state()){n.play();return}c=m.definition();if(null==c||!c.file){h.dispatchEvent(b.ERROR,{name:"NotFoundError",message:"No supported source url found."});return}a=c.file}g=a;k=c;n.play(g,k)};h.reload=function(){n.stop();h.play(g,k)};var m=c;var n=d;n.addEventListener(b.READY,function(b){a.log("playease("+c.config.id+') module "'+
b.data.kind+'" is ready.');l(b);h.play(g,k)});n.addEventListener(b.PLAY,l);n.addEventListener(f.SUSPEND,h.forward);n.addEventListener(f.LOADSTART,h.forward);n.addEventListener(f.STALLED,h.forward);n.addEventListener(b.WAITING,l);n.addEventListener(f.ABORT,h.forward);n.addEventListener(f.TIMEOUT,h.forward);n.addEventListener(b.DURATIONCHANGE,function(a){m.duration(a.data.duration);h.forward(a)});n.addEventListener(b.LOADEDMETADATA,h.forward);n.addEventListener(b.LOADEDDATA,h.forward);n.addEventListener(f.PROGRESS,
h.forward);n.addEventListener(b.CANPLAY,h.forward);n.addEventListener(b.PLAYING,l);n.addEventListener(b.CANPLAYTHROUGH,h.forward);n.addEventListener(b.PAUSE,l);n.addEventListener(b.SEEKING,l);n.addEventListener(b.SEEKED,h.forward);n.addEventListener(b.SWITCHING,function(b){var c=m.definition();a.log("Switching definition "+b.data.index+": "+c.file);var e=0,d=n.element();d&&(e=d.currentTime);l(b);h.play(c.file,c);n.seek(e)});n.addEventListener(b.SWITCHED,h.forward);n.addEventListener(b.RATECHANGE,
h.forward);n.addEventListener(b.TIMEUPDATE,h.forward);n.addEventListener(b.VOLUMECHANGE,h.forward);n.addEventListener(f.LOAD,h.forward);n.addEventListener(b.ENDED,l);n.addEventListener(b.ERROR,function(b){a.error(b.data.name+": "+b.data.message);n.stop();l(b)})}var a=c.utils,m=c.events,e=m.EventDispatcher,b=m.Event,f=m.IOEvent;c=c.core;d.prototype=Object.create(e.prototype);d.prototype.constructor=d;c.Controller=d})(playease);
(function(c){function d(b){function c(){e.play=g.play;e.pause=f.pause;e.seek=f.seek;e.stop=f.stop;e.reload=g.reload;e.muted=f.muted;e.volume=f.volume;e.definition=f.definition;e.element=f.element;e.duration=function(){return d.duration()};e.state=function(){return d.state()};e.dispatchEvent(k.BIND)}l.call(this,"API",{id:b},k,t);var e=this,d,f,g;e.setup=function(b,l){e.config=a.extendz({id:e.id},A,l);d=new h.Model(e.config);f=new h.View(b,d);g=new h.Controller(d,f);g.addGlobalListener(e.forward);c();
e.config.autoplay&&g.play()};e.id=b}var a=c.utils,m=c.OS,e=c.Kernel,b=c.Browser,f=c.events,l=f.EventDispatcher,k=f.Event,t=f.IOEvent,h=c.core,g={},A={airplay:"allow",autoplay:!1,dynamic:!1,bufferLength:.1,file:"",latency:"none",loop:!1,maxBufferLength:30,maxPlaybackLength:10,mode:"live",module:"",muted:!1,objectfit:"contain",playsinline:!0,preload:"none",smooth:!1,swf:"swf/playease.swf",volume:.8,loader:{name:"auto",mode:"cors",credentials:"omit"},sources:[]};a.log("Version: playease/"+c.VERSION);
a.log("OS: "+m.name+"/"+m.version+(m.model?"; "+m.model:""));a.log("Kernel: "+e.name+"/"+e.version);a.log("Browser: "+b.name+"/"+b.version);d.prototype=Object.create(l.prototype);d.prototype.constructor=d;d.prototype.CONF=A;d.get=function(a){void 0==a&&(a=0);var b=g[a];void 0==b&&(b=new d(a),g[a]=b);return b};c.API=d})(playease);
(function(c){function d(b){function c(){a.forEach(u.config.plugins,function(b,c){if("function"!==a.typeOf(d[c.kind]))a.error("Unrecognized plugin: index="+b+", kind="+c.kind+".");else if(!1===c.visibility)a.log("Component "+c.kind+" is disabled.");else{"Controlbar"!==c.kind||u.config.file||(c.sources=u.config.sources);try{var e=new d[c.kind](c);"function"===a.typeOf(e.addGlobalListener)&&e.addGlobalListener(J);B.appendChild(e.element());G[c.kind]=e}catch(la){a.error("Failed to initialize plugin: index="+
b+", kind="+c.kind+". Error="+la.message)}}})}function n(){B.setAttribute("mode",u.config.mode);B.setAttribute("state","");var a=G.Controlbar;a?(B.setAttribute("controls",a.config.autohide?"motion":"always"),a.config.autohide&&B.addEventListener("mousemove",V)):B.setAttribute("controls","never");(a=G.Danmu)&&B.setAttribute("danmu",a.config.enable?"on":"off");B.setAttribute("muted",u.config.muted);B.setAttribute("fullpage",!1);B.setAttribute("fullscreen",!1);G.ContextMenu&&(B.oncontextmenu=function(a){a=
a||window.event;a.preventDefault?a.preventDefault():a.returnValue=!1;return!1},document.addEventListener("mouseup",N),B.addEventListener("mouseup",N),document.addEventListener("mousedown",W),B.addEventListener("mousedown",W));document.addEventListener("fullscreenchange",D);document.addEventListener("webkitfullscreenchange",D);document.addEventListener("mozfullscreenchange",D);document.addEventListener("MSFullscreenChange",D)}function q(a){u.config=z.config;u.play=z.play;u.pause=z.pause;u.seek=z.seek;
u.stop=z.stop;u.reload=z.reload;u.muted=z.muted;u.volume=z.volume;u.definition=z.definition;u.element=z.element;u.duration=z.duration;u.state=z.state;u.forward(a)}function D(a){document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||u.fullscreen(!1)}function J(a){switch(a.type){case h.CHANGE:E(a);break;case g.CLICK:R(a);break;case g.DOUBLE_CLICK:aa(a)}}function E(a){var b={timebar:function(){var b=z.duration();b&&z.seek(b*a.data.value/
100)},volumebar:function(){z.volume(a.data.value/100)},definition:function(){z.definition(parseInt(a.data.value))}}[a.data.name];b?b():u.forward(a)}function R(a){var b={play:u.play,pause:u.pause,stop:u.stop,reload:u.reload,mute:function(){u.muted(!0)},unmute:function(){u.muted(!1)},danmuoff:function(){u.danmu(!1)},danmuon:function(){u.danmu(!0)},fullpage:function(){u.fullpage(!0)},exitfullpage:function(){u.fullpage(!1)},fullscreen:function(){u.fullscreen(!0)},exitfullscreen:function(){u.fullscreen(!1)}}[a.data.name];
b?b():u.forward(a)}function aa(a){var b={fullpage:function(){u.fullpage("true"!==B.getAttribute("fullpage"))},fullscreen:function(){u.fullscreen("true"!==B.getAttribute("fullscreen"))}}[a.data.name];b?b():u.forward(a)}function V(a){(a=G.Controlbar)&&e.style(a.element(),{visibility:"visible"});P.stop();P.start()}function N(a){var b=G.ContextMenu;if(void 0===a.currentTarget)for(var c=a.srcElement;c;c=c.offsetParent)if(c===B){a.currentTarget=B;break}if(2===a.button&&a.currentTarget===B){var d=0,f=0;
for(c=a.srcElement||a.target;c&&c!==B;c=c.offsetParent)d+=c.offsetLeft,f+=c.offsetTop;e.style(b.element(),{left:a.offsetX+d+"px",top:a.offsetY+f+"px",display:"block"});a.preventDefault?a.preventDefault():a.returnValue=!1;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;return!1}}function W(a){e.style(G.ContextMenu.element(),{display:"none"})}function ka(a){K(a)}function ba(a){a.type=l.ENDED;K(a)}function ca(a){B.setAttribute("mode",u.config.mode);u.forward(a)}function T(a){var b=G.Controlbar;
b&&(b=b.components.definition)&&b.value(a.data.index);K(a)}function da(b){var c=G.Controlbar;if(c){var e=c.components.timebar;e&&(e.duration=b.data.duration,e.progress(isNaN(b.data.duration)?0:b.data.buffered/b.data.duration*100),e.position(isNaN(b.data.duration)?0:b.data.time/b.data.duration*100));if(c=c.components.time){e=a.time2string(b.data.time);var d=a.time2string(b.data.duration);c.text(e+"/"+d)}}u.forward(b)}function ea(a){var b=100*a.data.volume|0;B.setAttribute("muted",a.data.muted||!b);
var c=G.Controlbar;c&&(c.resize(L.clientWidth,L.clientHeight),c=c.components.volumebar)&&(c.position(b),c.thumb(b));u.forward(a)}function Z(a){var b=G.Display;b&&b.error(a.data);a.type=l.ERROR;K(a);u.stop()}function K(a){B.setAttribute("state",a.type);var b=G.Display;b&&b.update(a.type);u.resize();u.forward(a)}f.call(this,"UI",{id:b},a.extendz({},l,k,t));var u=this,Y,B,L,z;u.setup=function(b,e){Y=b;"array"!==a.typeOf(e.plugins)&&(e.plugins=[]);b=[];for(var d=0;d<p.plugins.length;d++){var f=p.plugins[d],
g=f.prototype.CONF;a:{for(var h=0;h<e.plugins.length;h++){var m=e.plugins[h];if(m.kind===f.prototype.kind){f=m;break a}}f=null}b.push(a.extendz({},g,f))}u.config=a.extendz({id:u.id},v.prototype.CONF,p,e);u.config.plugins=b;B=a.createElement("div","pe-wrapper pe-ui-"+u.config.skin);L=a.createElement("div","pe-content");B.appendChild(L);Y.appendChild(B);z=v.get(u.id);z.addEventListener(l.BIND,q);z.addEventListener(l.READY,ka);z.addEventListener(l.PLAY,K);z.addEventListener(k.LOADSTART,u.forward);z.addEventListener(l.WAITING,
K);z.addEventListener(k.STALLED,u.forward);z.addEventListener(k.ABORT,ba);z.addEventListener(k.TIMEOUT,Z);z.addEventListener(l.DURATIONCHANGE,ca);z.addEventListener(l.LOADEDMETADATA,u.forward);z.addEventListener(l.LOADEDDATA,u.forward);z.addEventListener(k.PROGRESS,u.forward);z.addEventListener(l.CANPLAY,u.forward);z.addEventListener(l.PLAYING,K);z.addEventListener(l.CANPLAYTHROUGH,u.forward);z.addEventListener(k.SUSPEND,u.forward);z.addEventListener(l.PAUSE,K);z.addEventListener(l.SEEKING,K);z.addEventListener(l.SEEKED,
u.forward);z.addEventListener(l.SWITCHING,T);z.addEventListener(l.SWITCHED,u.forward);z.addEventListener(l.RATECHANGE,u.forward);z.addEventListener(l.TIMEUPDATE,da);z.addEventListener(l.VOLUMECHANGE,ea);z.addEventListener(k.LOAD,u.forward);z.addEventListener(l.ENDED,K);z.addEventListener(l.ERROR,Z);z.setup(L,u.config);c();n();u.resize()};u.danmu=function(a){B.setAttribute("danmu",a?"on":"off");var b=G.Controlbar;b&&b.resize(L.clientWidth,L.clientHeight);return(b=G.Danmu)?b.enable(a):!1};u.shoot=function(a,
b){var c=G.Danmu;c&&(c.shoot(a,b),u.dispatchEvent(t.SHOOTING,{text:a,data:b}))};u.displayAD=function(a){var b=G.AD;b&&b.display(a)};u.removeAD=function(){var a=G.AD;a&&a.remove()};u.fullpage=function(a){if(void 0===a)return"true"===B.getAttribute("fullpage");(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)&&u.fullscreen(!1);B.setAttribute("fullpage",!!a);u.resize();u.dispatchEvent(t.FULLPAGE,{status:a})};u.fullscreen=function(b){if(void 0===
b)return"true"===B.getAttribute("fullscreen");var c=z.element();if(b){var d=B.requestFullscreen||B.webkitRequestFullScreen||B.mozRequestFullScreen||B.msRequestFullscreen;if(m.isMobile){if(c&&c.webkitEnterFullscreen&&(c.setAttribute("x5-video-orientation","landscape"),c.webkitEnterFullscreen()),m.isIOS)return}else if(d){if(c=d.call(B))c["catch"](function(b){a.debug(b.name+": "+b.message)})}else{u.fullpage(b);return}}else if(d=document.exitFullscreen||document.webkitCancelFullScreen||document.mozCancelFullScreen||
document.msExitFullscreen){if(c&&c.setAttribute("x5-video-orientation","portraint"),c=d.call(document))c["catch"](function(b){a.debug(b.name+": "+b.message)})}else{u.fullpage(b);return}if(c=G.Controlbar)e.style(c.element(),{display:"block"}),b?c.config.autohide||(B.setAttribute("controls","motion"),B.addEventListener("mousemove",V)):c.config.autohide||(B.setAttribute("controls","always"),B.removeEventListener("mousemove",V),P.stop());B.setAttribute("fullscreen",!!b);u.resize();u.dispatchEvent(t.FULLSCREEN,
{status:b})};u.resize=function(){var b=L.clientWidth,c=L.clientHeight;if(""!==u.config.aspectratio){var e=u.config.aspectratio.match(/(\d+):(\d+)/);if("array"===a.typeOf(e)&&2<e.length){var d=parseInt(e[1]);e=parseInt(e[2]);c=b*e/d;"always"===B.getAttribute("controls")&&(c-=40)}}a.forEach(G,function(a,e){e.resize(b,c)});u.dispatchEvent(t.RESIZE,{width:b,height:c})};u.id=b;var G={};var P=new a.Timer(3E3,1);P.addEventListener(A.TIMER,function(a){(a=G.Controlbar)&&e.style(a.element(),{visibility:"hidden"})})}
var a=c.utils,m=c.OS,e=a.css,b=c.events,f=b.EventDispatcher,l=b.Event,k=b.IOEvent,t=b.UIEvent,h=b.GlobalEvent,g=b.MouseEvent,A=b.TimerEvent,v=c.API,n={},p={aspectratio:"",skin:"classic",plugins:[]};d.prototype=Object.create(f.prototype);d.prototype.constructor=d;d.prototype.CONF=p;d.register=function(b,c){try{p.plugins.splice(c||p.plugins.length,0,b),d[b.prototype.kind]=b}catch(x){a.error("Failed to register plugin "+b.prototype.kind+", Error="+x.message)}};d.get=function(a){null==a&&(a=0);var b=
n[a];void 0===b&&(b=new d(a),n[a]=b);return b};c.ui=d.get;c.UI=d})(playease);(function(c){c.UI.components={}})(playease);
(function(c){function d(c,d){e.call(this,"Button",null,[b.CLICK]);var f=this;f.element=function(){return l};f.resize=function(a,b){};var l=a.createElement("span","pe-button "+c);l.addEventListener("click",function(a){f.dispatchEvent(b.CLICK,{name:c})})}var a=c.utils,m=c.events,e=m.EventDispatcher,b=m.MouseEvent;c=c.UI.components;d.prototype=Object.create(e.prototype);d.prototype.constructor=d;d.prototype.kind="Button";c.Button=d})(playease);
(function(c){function d(c,b){m.call(this,"Label");this.text=function(a){void 0!==a&&(d.innerHTML=a);return e};this.element=function(){return d};this.resize=function(a,b){};var e=b||"";var d=a.createElement("span","pe-label "+c);d.innerHTML=e}var a=c.utils,m=c.events.EventDispatcher;c=c.UI.components;d.prototype=Object.create(m.prototype);d.prototype.constructor=d;d.prototype.kind="Label";c.Label=d})(playease);
(function(c){function d(){e.call(this,"Preview",null,[b.CLICK]);this.append=function(b,c,e){var f=a.createElement("img");f.setAttribute("min",c);f.setAttribute("max",e||NaN);f.src=b;d.appendChild(f)};this.element=function(){return c};this.resize=function(a,b){};var c=a.createElement("div","pe-tooltip preview");var d=a.createElement("div");c.appendChild(d)}var a=c.utils,m=c.events,e=m.EventDispatcher,b=m.MouseEvent;c=c.UI.components;d.prototype=Object.create(e.prototype);d.prototype.constructor=d;
d.prototype.kind="Preview";c.Preview=d})(playease);
(function(c){function d(c,e){function d(a){a=a.target.getAttribute("value");a!==l&&h.dispatchEvent(f.CHANGE,{name:g,value:a});q.style.visibility="hidden"}b.call(this,"Select",null,[f.CHANGE]);var h=this,g,l,k,n,p,q;h.append=function(b,c){var e=a.createElement("span","pe-select-menu-option");e.addEventListener("click",d);e.setAttribute("value",c||k.length);e.innerHTML=b;k.push(e);q.appendChild(e);1===k.length&&h.value(e.getAttribute("value"))};h.remove=function(a){for(var b=0;b<k.length;b++){var c=
k[b];if(c.getAttribute("value")===a){c.removeEventListener("click",d);q.removeChild(c);k.splice(b,1);l===a&&(l=k.length||NaN,p.innerHTML=k.length?k[0].innerHTML:_placeholder);break}}};h.value=function(a){switch(typeof a){case "number":case "string":for(var b=0;b<k.length;b++){var c=k[b];if(c.getAttribute("value")==a){l=a;p.innerHTML=c.innerHTML;n.setAttribute("value",a);h.resize();break}}}return l};h.element=function(){return n};h.resize=function(a,b){m.style(q,{left:(n.clientWidth-q.clientWidth)/
2+"px"})};(function(){g=c;l=NaN;k=[];n=a.createElement("div","pe-select "+g);p=a.createElement("span","pe-select-text");q=a.createElement("div","pe-select-menu");q.style.visibility="hidden";n.appendChild(p);n.appendChild(q);p.addEventListener("click",function(a){q.style.visibility="hidden"===q.style.visibility?"visible":"hidden"})})()}var a=c.utils,m=a.css,e=c.events,b=e.EventDispatcher,f=e.GlobalEvent;c=c.UI.components;d.prototype=Object.create(b.prototype);d.prototype.constructor=d;d.prototype.kind=
"Select";c.Select=d})(playease);
(function(c){function d(b,c){function d(a){a.button===(m.isIE8?1:0)&&(a.target||(a.target=a.srcElement),D===a.target||D===a.target.parentNode||D===a.target.parentNode.parentNode)&&(a=n(a.clientX,a.clientY),a!==t.getAttribute("value")&&p.dispatchEvent(l.CHANGE,{name:q,value:a}),x=!0)}function h(a){var b=n(a.clientX,a.clientY);D!==a.target&&D!==a.target.parentNode&&D!==a.target.parentNode.parentNode||p.dispatchEvent(k.MOUSE_MOVE,{name:q,value:b});x&&b!==t.getAttribute("value")&&p.dispatchEvent(l.CHANGE,
{name:q,value:b})}function v(a){x&&(a=n(a.clientX,a.clientY),a!==t.getAttribute("value")&&p.dispatchEvent(l.CHANGE,{name:q,value:a}),x=!1)}function n(a,b){for(var c=D;c;c=c.offsetParent)a-=c.offsetLeft,b-=c.offsetTop;a="horizontal"===r?(a/D.clientWidth*100).toFixed(3):(b/D.clientHeight*100).toFixed(3);return a=Math.max(0,Math.min(a,100))}f.call(this,"Slider",null,[l.CHANGE,k.MOUSE_MOVE]);var p=this;p.value=function(a){void 0!==a&&(J.innerHTML=a);return J.innerHTML};p.progress=function(a){e.style(R,
{width:a+"%"})};p.position=function(a){t.setAttribute("value",a);e.style(aa,{width:a+"%"})};p.thumb=function(a){e.style(V,{left:a+"%"})};p.element=function(){return t};p.nonius=function(){return J};p.resize=function(a,b){};var q=b;var r="horizontal";var x=!1;var t=a.createElement("div","pe-slider "+q);var D=a.createElement("div","pe-slider-content");var J=a.createElement("span","pe-tooltip value");var E=a.createElement("span","pe-slider-rail background");var R=a.createElement("span","pe-slider-rail progress");
var aa=a.createElement("span","pe-slider-rail position");var V=a.createElement("span","pe-slider-thumb");V.innerHTML="<span></span>";D.appendChild(J);D.appendChild(E);D.appendChild(R);D.appendChild(aa);D.appendChild(V);t.appendChild(D);switch(b){case "timebar":p.value("--:--");break;case "volumebar":p.value(c),p.position(c),p.thumb(c)}try{document.addEventListener("mousedown",d),document.addEventListener("mousemove",h),document.addEventListener("mouseup",v)}catch(N){document.attachEvent("onmousedown",
d),document.attachEvent("onmousemove",h),document.attachEvent("onmouseup",v)}}var a=c.utils,m=c.Browser,e=a.css,b=c.events,f=b.EventDispatcher,l=b.GlobalEvent,k=b.MouseEvent;c=c.UI.components;d.prototype=Object.create(f.prototype);d.prototype.constructor=d;d.prototype.kind="Slider";d.HORIZONTAL="horizontal";d.VERTICAL="vertical";c.Slider=d})(playease);
(function(c){function d(b){function c(b){a.log('Failed to load poster "'+k.src+'".')}e.call(this,"Poster");this.element=function(){return d};this.resize=function(a,b){};this.config=b;var d=a.createElement("div","pe-poster");var k=new Image;k.onload=function(a){d.appendChild(k)};k.onabort=c;k.onerror=c;this.config.objectfit&&m.style(k,{"object-fit":this.config.objectfit});k.src=this.config.file}var a=c.utils,m=a.css,e=c.events.EventDispatcher;c=c.UI;d.prototype=Object.create(e.prototype);d.prototype.constructor=
d;d.prototype.kind="Poster";d.prototype.CONF={kind:"Poster",file:"image/poster.png",objectfit:"fill",visibility:!0};c.register(d)})(playease);
(function(c){function d(c){function e(a){g.removeChild(a.target)}b.call(this,"Danmu",null,[f.SHOOTING]);var d=this;d.enable=function(b){"boolean"===a.typeOf(b)&&(d.config.enable=b);return d.config.enable};d.shoot=function(b,c){if(d.config.enable){var f=a.createElement("div","pe-danmu-item");f.addEventListener("transitionend",e);f.innerHTML=b;g.appendChild(f);b=h.clientWidth+f.clientWidth;m.style(f,a.extendz({},c,{top:Math.floor(Math.random()*Math.floor(h.clientHeight/d.config.lineHeight))*d.config.lineHeight+
"px",left:h.clientWidth+"px",transform:"translateX(-"+b+"px)",transition:"transform "+b/d.config.speed+"s linear 0s"}))}};d.element=function(){return h};d.resize=function(a,b){};d.config=c;var h=a.createElement("div","pe-danmu");var g=a.createElement("div");h.appendChild(g)}var a=c.utils,m=a.css,e=c.events,b=e.EventDispatcher,f=e.UIEvent;c=c.UI;d.prototype=Object.create(b.prototype);d.prototype.constructor=d;d.prototype.kind="Danmu";d.prototype.CONF={kind:"Danmu",speed:100,lineHeight:32,enable:!0,
visibility:!0};c.register(d)})(playease);
(function(c){function d(c){b.call(this,"Display",null,[l.CLICK]);var e=this;e.error=function(a){var b=e.components.error;b&&(a?(a.name=a.name||"UnknownError",a.message=a.message||"An unknown error occurred.",b.text(a.name+": "+a.message)):b.text(""))};e.update=function(a){switch(a){case f.WAITING:p.start();break;default:p.stop()}a!==f.ERROR&&e.error()};e.element=function(){return d};e.resize=function(a,b){};e.config=c;e.components={};var d=a.createElement("div","pe-display");var g=a.createElement("div");
g.addEventListener("click",function(a){a=(new Date).getTime();a<=q+700?(q=0,e.dispatchEvent(l.DOUBLE_CLICK,{name:e.config.ondoubleclick})):q=a});d.appendChild(g);(function(){for(var b;null!==(b=h.exec(e.config.layout));){var c=void 0,d=void 0,f=g,l=b[1],k=b[2];try{d=new t[l](k,b[3]),"function"===a.typeOf(d.addGlobalListener)&&d.addGlobalListener(e.forward),c=d.element(),f.appendChild(c),e.components[k]=d}catch(R){a.error("Failed to initialize component: type="+l+", name="+k+", Error="+R.message)}}})();
var p=new a.Timer(80);p.addEventListener(k.TIMER,function(a){a=30*p.currentCount()%360;var b=e.components.waiting;b&&m.style(b.element(),{filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation="+a*Math.PI/180+")",transform:"rotate("+a+"deg)","-o-transform":"rotate("+a+"deg)","-ms-transform":"rotate("+a+"deg)","-moz-transform":"rotate("+a+"deg)","-webkit-transform":"rotate("+a+"deg)"})});var q=0}var a=c.utils,m=a.css,e=c.events,b=e.EventDispatcher,f=e.Event,l=e.MouseEvent,k=e.TimerEvent;c=c.UI;
var t=c.components,h=/\[([a-z]+):([a-z]+)=([^\]]+)?\]/gi;d.prototype=Object.create(b.prototype);d.prototype.constructor=d;d.prototype.kind="Display";d.prototype.CONF={kind:"Display",layout:"[Button:play=][Button:waiting=][Label:error=]",ondoubleclick:"fullscreen",visibility:!0};c.register(d)})(playease);
(function(c){function d(c){m.call(this,"AD");this.display=function(a){b.innerHTML="";b.appendChild(a)};this.remove=function(){b.innerHTML=""};this.element=function(){return b};this.resize=function(a,b){};this.config=c;var b=a.createElement("div","pe-ad")}var a=c.utils,m=c.events.EventDispatcher;c=c.UI;d.prototype=Object.create(m.prototype);d.prototype.constructor=d;d.prototype.kind="AD";d.prototype.CONF={kind:"AD",visibility:!0};c.register(d)})(playease);
(function(c){function d(c){m.call(this,"Share");this.display=function(a){b.innerHTML="";b.appendChild(a)};this.element=function(){return b};this.resize=function(a,b){};this.config=c;var b=a.createElement("div","pe-share")}var a=c.utils,m=c.events.EventDispatcher;c=c.UI;d.prototype=Object.create(m.prototype);d.prototype.constructor=d;d.prototype.kind="Share";d.prototype.CONF={kind:"Share",visibility:!0};c.register(d)})(playease);
(function(c){function d(b){function c(b){a.log('Failed to load logo "'+t.src+'".')}e.call(this,"Logo");var d=this;d.element=function(){return k};d.resize=function(a,b){};d.config=b;var k=a.createElement("div","pe-logo");k.style=d.config.style;_logo=a.createElement("a");var t=new Image;t.onload=function(a){m.style(k,{width:t.width+"px",height:t.height+"px"});m.style(_logo,{background:"url("+d.config.file+")"});_logo.href=d.config.link;_logo.target=d.config.target;k.appendChild(_logo)};t.onabort=c;
t.onerror=c;t.src=d.config.file}var a=c.utils,m=a.css,e=c.events.EventDispatcher;c=c.UI;d.prototype=Object.create(e.prototype);d.prototype.constructor=d;d.prototype.kind="Logo";d.prototype.CONF={kind:"Logo",file:"http://studease.cn/images/content/playease-logo.png",link:"https://github.com/studease/playease",target:"_blank",style:"margin: 3% 5%; width: 36px; height: 36px; top: 0px; right: 0px;",visibility:!0};c.register(d)})(playease);
(function(c){function d(b){function c(b){var c=b.target.element(),d=b.target.nonius(),f=c.clientWidth*b.data.value/100-d.clientWidth/2;switch(b.data.name){case "timebar":b.target.thumb(b.data.value);b.target.duration?b.target.value(a.time2string(b.target.duration*b.data.value/100)):b.target.value("--:--");break;case "volumebar":b.target.value(b.data.value|0)}b=f+c.offsetLeft;1>b&&c.offsetParent===p?e.style(d,{left:1-c.offsetLeft+"px",right:"auto"}):c.offsetParent.offsetLeft+b+d.clientWidth>p.clientWidth-
1?e.style(d,{left:"auto",right:c.offsetParent.offsetLeft+c.offsetLeft+c.clientWidth+1-p.clientWidth+"px"}):e.style(d,{left:f+"px",right:"auto"})}f.call(this,"Controlbar",null,[l.CHANGE,k.CLICK,k.MOUSE_MOVE]);var d=this;d.element=function(){return g};d.resize=function(b,c){a.forEach(d.components,function(a,d){d.resize(b,c);switch(a){case "timebar":break;default:if(void 0!==d.tooltip){a=d.element();d=d.tooltip;var f=(a.clientWidth-d.clientWidth)/2,g=f+a.offsetLeft;1>g&&a.offsetParent===p?e.style(d,
{left:1-a.offsetLeft+"px",right:"auto"}):null!==a.offsetParent&&(a.offsetParent.offsetLeft+g+d.clientWidth>p.clientWidth-1?e.style(d,{left:"auto",right:a.offsetParent.offsetLeft+a.offsetLeft+a.clientWidth+1-p.clientWidth+"px"}):e.style(d,{left:f+"px",right:"auto"}))}}})};d.config=b;d.components={};var g=a.createElement("div","pe-controlbar");var p=a.createElement("div");g.appendChild(p);(function(){var b=d.config.layout.split("|");if(4!==b.length)throw{name:"DataError",message:"Controlbar should have exactly 4 sections."};
var e=a.createElement("div","pe-left"),f=a.createElement("div","pe-center"),g=a.createElement("div","pe-right");a.forEach([p,e,f,g],function(e,f){for(var g;null!==(g=h.exec(b[e]));)a:{var l=void 0,n=void 0;var p=f;var q=g[1],r=g[2];g=g[3];switch(r){case "mute":case "unmute":case "volumebar":if(m.isMobile)break a;break;case "definition":if(!d.config.sources||2>d.config.sources.length)break a}try{n=new t[q](r,g),"function"===a.typeOf(n.addGlobalListener)&&(n.addGlobalListener(d.forward),"Slider"===
q&&n.addEventListener(k.MOUSE_MOVE,c)),l=n.element(),p.appendChild(l),d.components[r]=n}catch(ka){a.error("Failed to initialize component: type="+q+", name="+r+", Error="+ka.message);break a}switch(r){case "quote":case "time":case "volumebar":break;default:void 0!==g&&("function"===a.typeOf(t[g])?(p=new t[g],l.insertAdjacentElement("afterbegin",p.element())):(p=a.createElement("span","pe-tooltip"),p.innerHTML=g,l.insertAdjacentElement("afterbegin",p)),n.tooltip=p)}}});p.appendChild(e);p.appendChild(f);
p.appendChild(g)})();(function(){var b=d.components.definition;b&&a.forEach(d.config.sources,function(a,c){b.append(c.label);c["default"]&&b.value(a)})})()}var a=c.utils,m=c.OS,e=a.css,b=c.events,f=b.EventDispatcher,l=b.GlobalEvent,k=b.MouseEvent;c=c.UI;var t=c.components,h=/\[([a-z]+):([a-z]+)=([^\]]+)?\]/gi;d.prototype=Object.create(f.prototype);d.prototype.constructor=d;d.prototype.kind="Controlbar";d.prototype.CONF={kind:"Controlbar",layout:"[Slider:timebar=Preview]|[Button:play=Play][Button:pause=Pause][Button:reload=Reload][Button:stop=Stop][Label:quote=Live broadcast][Label:time=00:00/00:00]||[Button:report=Report][Button:mute=Mute][Button:unmute=Unmute][Slider:volumebar=80][Select:definition=Definition][Button:danmuoff=Danmu Off][Button:danmuon=Danmu On][Button:fullpage=Fullpage][Button:exitfullpage=Exit Fullpage][Button:fullscreen=Fullscreen][Button:exitfullscreen=Exit Fullscreen]",
autohide:!1,visibility:!0};c.register(d)})(playease);
(function(c){function d(b){e.call(this,"ContextMenu");var d=this,f,t;d.element=function(){return f};d.resize=function(a,b){};(function(){d.config=b;d.config.items=[{id:0,mode:"featured",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAA2UExURebm5ubm5ubm5ubm5ubm5ubm5ubm5kxpcebm5ubm5ubm5ubm5ubm5ubm5ubm5ubm5ubm5ubm5rnvS8UAAAASdFJOU/9GGpAEVa0AOw0vovB5tnDaudiwhIIAAACiSURBVBjTXZHbAsQQDERDkQS97P//7GaibLfzgJxgIoiHVHIWvQPysRZylbpg2mhpSwOmgx46kkPf10KMoflewGqLLsNBugXVIDxuZhRuTGrJZmHIXhBuUEIuMC7pJ3I4R9nGyHzCY2eONmWHesMyoQyI3BXncRgZ1M+16zJCSbMRqyT4LriKt2calP9nWkMM7q+GcEo/OFvnGrDIo/Ov7/gCDPoHpWEsixcAAAAASUVORK5CYII=",text:"PLAYEASE/"+
c.VERSION,shortcut:"",handler:function(){window.open("https://github.com/studease/playease")}}].concat("array"===a.typeOf(b.items)?b.items:[]);m.flash&&d.config.items.push({mode:"",icon:"",text:"Flash Version "+m.flash,shortcut:"",handler:function(){window.open("http://get.adobe.com/cn/flashplayer/about/")}});f=a.createElement("div","pe-contextmenu");t=a.createElement("table");f.appendChild(t);for(var e=0;e<d.config.items.length;e++){var g=d.config.items[e],k=a.createElement("tr","pe-contextmenu-item"+
(g.mode?" "+g.mode:""));k.onmousedown=g.handler;var l=a.createElement("td");if(g.icon){var n=a.createElement("span","pe-contextmenu-item-icon");n.innerHTML='<a style="background-image: url('+g.icon+');"></a>';l.appendChild(n)}var p=a.createElement("td");g.text&&(n=a.createElement("span","pe-contextmenu-item-text"),n.innerHTML=g.text,p.appendChild(n));var q=a.createElement("td");g.shortcut&&(n=a.createElement("span","pe-contextmenu-item-shortcut"),n.innerHTML=g.shortcut,q.appendChild(n));k.appendChild(l);
k.appendChild(p);k.appendChild(q);t.appendChild(k)}})()}var a=c.utils,m=c.Browser,e=c.events.EventDispatcher,b=c.UI;d.prototype=Object.create(e.prototype);d.prototype.constructor=d;d.prototype.kind="ContextMenu";d.prototype.CONF={kind:"ContextMenu",items:[],visibility:!0};b.register(d)})(playease);