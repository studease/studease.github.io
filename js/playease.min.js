playease=function(){if(playease.API)return playease.API.get.apply(this,arguments)};playease.VERSION="2.1.06";playease.DEBUG=!1;
(function(c){var d={extendz:function(){var a=Array.prototype.slice.call(arguments,0),e=a[0];switch(d.typeOf(e)){case "null":case "number":case "string":throw{name:"TypeError",message:"Could not extend to type "+d.typeOf(e)+"."};}for(var b=1;b<a.length;b++){var f=a[b];switch(d.typeOf(f)){case "null":case "number":case "string":c.DEBUG&&d.warn("Could not extend from type "+d.typeOf(f));break;case "array":d.forEach(f,function(b,h){switch(d.typeOf(h)){case "object":e.push(d.extendz({},h));break;case "array":e.push(d.extendz([],
h));break;default:"array"===d.typeOf(e)?e.push(h):e[b]=h}});break;default:d.forEach(f,function(b,h){switch(d.typeOf(h)){case "object":switch(d.typeOf(e[b])){case "null":case "number":case "string":e[b]={}}e[b]=d.extendz(e[b],h);break;case "array":e[b]=d.extendz([],h);break;default:e[b]=h}})}}return e},forEach:function(a,e){for(var b in a)a.hasOwnProperty&&"function"===d.typeOf(a.hasOwnProperty)?a.hasOwnProperty(b)&&e(b,a[b]):e(b,a[b])},getCookie:function(a){var e;return(e=document.cookie.match(new RegExp("(^| )"+
a+"=([^;]*)(;|$)")))?unescape(e[2]):null},padStart:function(a,e,b){for(a+="";a.length<e;)a=b+a;return a},padEnd:function(a,e,b){for(a+="";a.length<e;)a+=b;return a},hex:function(a){return"0x"+d.padStart(a.toString(16),2,"0")},time2string:function(a){var e="",b=a/3600|0,f=a%3600/60|0;a=a%60|0;b&&(e+=d.padStart(b,2,"0")+":");return e+=d.padStart(f,2,"0")+":"+d.padStart(a,2,"0")},typeOf:function(a){if(null===a||void 0===a)return"null";var e=typeof a;if("object"===e)try{var b=Object.prototype.toString.call(a).match(/^\[object ([a-z]+)\]$/i);
if(b&&1<b.length&&b[1])return b[1].toLowerCase()}catch(f){}return e},trim:function(a){return a.replace(/^\s+|\s+$/g,"")},indexOf:function(a,e){if("array"===d.typeOf(a))for(var b=0;b<a.length;b++)if(a[b]===e)return b;return-1},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var e=16*Math.random()|0;return("x"===a?e:e&3|8).toString(16)})}};void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52));void 0===Number.MAX_SAFE_INTEGER&&(Number.MAX_SAFE_INTEGER=Math.pow(2,
53)-1);void 0===Number.MIN_SAFE_INTEGER&&(Number.MIN_SAFE_INTEGER=-1*Number.MAX_SAFE_INTEGER);d.equal=function(a,e){return Math.abs(a-e)<Number.EPSILON};d.createElement=function(a,e){a=document.createElement(a);e&&(a.className=e);return a};d.addClass=function(a,e){var b="string"===d.typeOf(a.className)?a.className.split(" "):[];e="array"===d.typeOf(e)?e:e.split(" ");d.forEach(e,function(a,e){-1===d.indexOf(b,e)&&b.push(e)});a.className=d.trim(b.join(" "))};d.hasClass=function(a,e){a=a.className||
"";e="array"===d.typeOf(e)?e:e.split(" ");for(var b=0;b<e.length;b++)if(-1===a.search(new RegExp("\\b"+e[b]+"\\b","i")))return!1;return!0};d.removeClass=function(a,e){var b="string"===d.typeOf(a.className)?a.className.split(" "):[];e="array"===d.typeOf(e)?e:e.split(" ");d.foreach(e,function(a,e){a=d.indexOf(b,e);0<=a&&b.splice(a,1)});a.className=d.trim(b.join(" "))};d.emptyElement=function(a){for(;a.firstChild;)a.removeChild(a.firstChild)};var a=window.console=window.console||{log:function(){},warn:function(){},
error:function(){}};d.debug=function(){c.DEBUG&&d.log.apply(d,arguments)};d.log=function(){var c=Array.prototype.slice.call(arguments,0);"object"===d.typeOf(a)?a.log.apply(a,c):a.log(c)};d.warn=function(){var c=Array.prototype.slice.call(arguments,0);"object"===d.typeOf(a)?a.warn.apply(a,c):a.warn(c)};d.error=function(){var c=Array.prototype.slice.call(arguments,0);"object"===d.typeOf(a)?a.error.apply(a,c):a.error(c)};c.utils=d})(playease);
(function(c){function d(a){var b=this;b.set=function(a,h,f){switch(b.type){case e.DOUBLE:if("number"!==m.typeOf(h))throw{name:"TypeError",message:"Value should be number."};break;case e.BOOLEAN:if("boolean"!==m.typeOf(h))throw{name:"TypeError",message:"Value should be boolean."};case e.STRING:case e.LONG_STRING:if("string"!==m.typeOf(h))throw{name:"TypeError",message:"Value should be string."};break;case e.OBJECT:case e.ECMA_ARRAY:if("array"!==m.typeOf(h))throw{name:"TypeError",message:"Value should be array."};
for(f=0;f<h.length;f++){var k=h[f];b.table[k.key]=k}break;case e.STRICT_ARRAY:if("array"!==m.typeOf(h))throw{name:"TypeError",message:"Value should be array."};break;case e.DATE:if("number"!==m.typeOf(h))throw{name:"TypeError",message:"Value should be number."};if("number"!==m.typeOf(f))throw{name:"TypeError",message:"Offset not presented."};b.offset=f;break;case e.NULL:case e.UNDEFINED:if("null"!==m.typeOf(h))throw{name:"TypeError",message:"Value should be null."};break;default:throw{name:"TypeError",
message:"Unrecognized amf type "+b.type+"."};}b.key=a;b.value=h;return b};b.get=function(){switch(b.type){case e.DATE:return new Date(b.value+6E4*b.offset);default:return b.value}};b.type=a;b.key="";b.value=null;b.table={};b.offset=0;b.ended=!1}function a(b,a){for(var f=0,h=0;h<a.value.length;h++){var d=a.value[h];d.key&&(d=crypt.stringToByteArray(d.key),b.WriteUint16(d.length,!1),b.Write(d),f+=2+d.length);f+=e.encode(b,a)}return f}var m=c.utils,e={DOUBLE:0,BOOLEAN:1,STRING:2,OBJECT:3,MOVIE_CLIP:4,
NULL:5,UNDEFINED:6,REFERENCE:7,ECMA_ARRAY:8,END_OF_OBJECT:9,STRICT_ARRAY:10,DATE:11,LONG_STRING:12,UNSUPPORTED:13,RECORD_SET:14,XML:15,TYPED_OBJECT:16,AMF3_DATA:17,decode:function(b,a,d){if(1>a.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf Value."};var h=0,f=new DataView(a,d);b.type=f.getUint8(h);h+=1;f={0:e.decodeDouble,1:e.decodeBoolean,2:e.decodeString,3:e.decodeObject,5:e.decodeNull,6:e.decodeUndefined,8:e.decodeECMAArray,9:e.decodeEndOfObject,10:e.decodeStrictArray,
11:e.decodeDate,12:e.decodeLongString}[b.type];if(!f)throw{name:"TypeError",message:"Unrecognized amf type "+b.type+"."};return h+=f(b,a,d+h)},decodeDouble:function(b,a,e){if(8>a.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf double."};a=new DataView(a,e);b.value=a.getFloat64(0);return 8},decodeBoolean:function(a,e,d){if(1>e.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf boolean."};e=new DataView(e,d);a.value=!!e.getUint8(0);return 1},
decodeString:function(a,e,d){if(2>e.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf string."};var b=0,f=(new DataView(e,d)).getUint16(b);b+=2;0<f?(a.value=String.fromCharCode.apply(String,new Uint8Array(e,d+b,f)),b+=f):a.value="";return b},decodeObject:function(a,f,l){if(3>f.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf object."};var b=0,c=f.byteLength-l;for(a.value=[];b<c;){var k=new d;b+=e.decodeString(k,f,l+b);k.key=k.get();b+=e.decode(k,
f,l+b);if(k.type===e.END_OF_OBJECT)break;a.value.push(k);a.table[k.key]=k}return b},decodeNull:function(a,e,d){a.value=null;return 0},decodeUndefined:function(a,e,d){a.value=void 0;return 0},decodeECMAArray:function(a,f,d){if(4>f.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf ecma array."};var b=4;return b+=e.decodeObject(a,f,d+b)},decodeEndOfObject:function(a,e,d){a.ended=!0;return 0},decodeStrictArray:function(a,f,l){if(4>f.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf strict array."};
var b=0,c=new DataView(f,l),k=c.getUint32(b);b+=4;var g=f.byteLength-l;a.value=[];for(var m=0;m<k&&b<g;m++){var r=new d;b+=e.decode(r,f,l+b);a.value.push(r)}b+3<=g&&0===c.getUint8(b)&&0===c.getUint8(b+1)&&c.getUint8(b+2)===e.END_OF_OBJECT&&(a.ended=!0,b+=3);return b},decodeDate:function(a,e,d){if(10>e.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf date."};var b=0;e=new DataView(e,d);a.Timestamp=e.getFloat64(b);b+=8;a.Timeoffset=e.getInt16(b);return b+2},decodeLongString:function(a,
e,d){if(4>e.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf long string."};var b=0,f=(new DataView(e,d)).getUint32(b);b+=4;0<f&&(a.value=String.fromCharCode.apply(String,new Uint8Array(e,d+b,f)),b+=f);return b},appendBytes:function(a,e){a.Write(e)},appendInt8:function(a,e){a.writeInt8(e)},appendInt16:function(a,e,d){a.WriteInt16(e,d)},appendInt32:function(a,e,d){a.WriteInt32(e,d)},appendUint8:function(a,e){a.writeUint8(e)},appendUint16:function(a,e,d){a.WriteUint16(e,
d)},appendUint32:function(a,e,d){a.WriteUint32(e,d)},encode:function(a,d){var b={0:e.encodeDouble,1:e.encodeBoolean,2:e.encodeString,3:e.encodeObject,5:e.encodeNull,6:e.encodeUndefined,8:e.encodeECMAArray,10:e.encodeStrictArray,11:e.encodeDate,12:e.encodeLongString}[d.type];if(!b)throw{name:"TypeError",message:"Unrecognized amf type "+d.type+"."};return b(a,d)},encodeNumber:function(a,d){a.WriteUint8(e.DOUBLE);a.WriteFloat64(d.value,!1);return 9},encodeBoolean:function(a,d){a.WriteUint8(e.BOOLEAN);
a.WriteUint8(d.value?1:0);return 2},encodeString:function(a,d){if(!d.value)return 0;if(65535<=d.value.length)return e.encodeLongString(a,d);d=crypt.stringToByteArray(d.value);a.WriteUint8(e.STRING);a.WriteUint16(d.length,!1);a.Write(d);return 3+d.length},encodeObject:function(b,d){var f=1;b.WriteUint8(e.OBJECT);f+=a(d);d.ended&&(b.WriteUint16(0),b.WriteUint8(e.END_OF_OBJECT),f+=3);return f},encodeNull:function(a,d){a.WriteUint8(e.NULL);return 1},encodeUndefined:function(a,d){a.WriteUint8(e.UNDEFINED);
return 1},encodeECMAArray:function(b,d){var f=3;b.WriteUint8(e.ECMA_ARRAY);b.WriteUint32(d.value.length,!1);return f+=a(b,d)},encodeStrictArray:function(b,d){var f=3;b.WriteUint8(e.STRICT_ARRAY);b.WriteUint32(d.value.length,!1);return f+=a(b,d)},encodeDate:function(a,d){a.WriteUint8(e.DATE);a.WriteFloat64(d.value,!1);a.WriteUint16(d.offset,!1);return 11},encodeLongString:function(a,d){if(!d.value)return 0;d=crypt.stringToByteArray(d.value);a.WriteUint8(e.LONG_STRING);a.WriteUint32(d.length,!1);a.Write(d);
return 5+d.length}};e.Value=d;m.AMF=e})(playease);
(function(c){c=c.utils;c.MIN_UINT32=0;c.MAX_UINT32=4294967295;c.MAX_INT32=2147483647;c.MIN_INT32=-2147483648;c.MIN_CACHE_BITS=25;c.BitStream=function(d){var a=this;a.ShowBits=function(a){if(0===a)return 0;var d=b>>>3,h=0;b<e&&(h=c.getUint8(d)<<24);b+8<e&&(h|=c.getUint8(d+1)<<16);b+16<e&&(h|=c.getUint8(d+2)<<8);b+24<e&&(h|=c.getUint8(d+3));return h<<(b&7)>>>32-a};a.ShowBitsLong=function(b){return 25>=b?a.ShowBits(b):a.ShowBits(16)<<b-16|a.ShowBits(b-16)};a.ReadBits=function(e){var d=a.ShowBits(e);
b+=e;return d};a.ReadBitsLong=function(e){var d=a.ShowBitsLong(e);b+=e;return d};a.SkipBits=function(a){b+=a};a.Left=function(){return e-b};var c=new DataView(d.buffer,d.byteOffset,d.byteLength);var e=8*d.byteLength;var b=0}})(playease);
(function(c){var d=new function(){function a(){return f.match(/(Chrome|CriOS)\/((\d+)\.(\d+)(?:\.\d+)*)/)}function d(){if(!b.isWindows)return 0;var a=navigator.plugins;if(a){var e=a["Shockwave Flash"];if(e&&e.description){var d=e.description.replace(/\D+(\d+\.?\d*).*/,"$1");return parseFloat(d)}}if("undefined"!==typeof window.ActiveXObject)try{return e=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"),d=e.GetVariable("$version").split(" ")[1].replace(/\s*,\s*/,"."),parseFloat(d)}catch(k){}return 0}
function e(){return void 0!==window.orientation?90===window.orientation||-90===window.orientation:window.innerWidth>window.innerHeight}var b=this;var f=navigator.userAgent;b.OS={name:"",version:"",major:NaN,minor:NaN};b.Kernel={name:"",version:"",major:NaN,minor:NaN};b.Browser={name:"",version:"",major:NaN,minor:NaN};(function(){var a=f.match(/(Windows)\sNT\s((\d+)\.(\d+))/);if(a)switch(a[2]){case "6.3":a=["Windows 8.1","Windows","8.1","8","1"];break;case "6.2":a=["Windows 8.0","Windows","8.0","8",
"0"];break;case "6.1":a=["Windows 7.0","Windows","7.0","7","0"]}if(a=a||f.match(/(Mac)\sOS\sX\s((\d+)[\._](\d+)(?:[\._]\d+)*)/)||f.match(/(Android)(?:\s((\d+)(?:\.(\d+))?(?:\.(\d+))*))?/)||f.match(/(iP(?:hone|ad|od)).*\s((\d+)_(\d+)(?:_\d+)*)/)||f.match(/(Windows\sPhone)(?:\sOS)?\s((\d+)\.(\d+)(?:\.\d+)*)/))b.OS.name=a[1]||"",b.OS.version=(a[2]||"").replace(/_/g,"."),b.OS.major=parseInt(a[3]),b.OS.minor=parseInt(a[4]);b.OS.isWindows="Windows"===b.OS.name;b.OS.isMac="Mac"===b.OS.name;b.OS.isAndroid=
"Android"===b.OS.name;b.OS.isIOS="iPhone"===b.OS.name||"iPad"===b.OS.name||"iPod"===b.OS.name;b.OS.isWindowsPhone="Windows Phone"===b.OS.name;b.OS.isMobile=b.OS.isAndroid||b.OS.isIOS||b.OS.isWindowsPhone;b.OS.isHorizontal=e})();(function(){var a=b.OS.isAndroid&&f.match(/;\s(([-a-z\d\s]+)(?:\sBuild\/([-a-z\d\.\s]+))?)(?:;\swv|\))/i);a&&(b.OS.model=a[1],b.OS.brand=a[2],b.OS.build=a[3])})();(function(){var e=!b.OS.isIOS&&a()||f.match(/(AppleWebKit)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(Gecko)\/((\d+))/)||
f.match(/(Presto)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(Trident)\/((\d+)\.(\d+)(?:\.\d+)*)/);e&&(b.Kernel.name=e[1]||"",b.Kernel.version=e[2]||"",b.Kernel.major=parseInt(e[3]),b.Kernel.minor=parseInt(e[4]));b.Kernel.isChrome="Chrome"===b.Kernel.name;b.Kernel.isAppleWebKit="AppleWebKit"===b.Kernel.name;b.Kernel.isGecko="Gecko"===b.Kernel.name;b.Kernel.isPresto="Presto"===b.Kernel.name;b.Kernel.isTrident="Trident"===b.Kernel.name})();(function(){var e;(e=f.match(/(MSIE)\s((\d+)\.(\d+))/)||f.match(/(Trident)\/.+rv:((11)\.(\d+))/i)||
f.match(/(Firefox)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(OPR|OPiOS|Opera\sMini)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(UCBrowser)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(MicroMessenger)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(QQ)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/([M]?QQBrowser)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(MetaSr|SogouMobileBrowser)[\s\/]((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(QihooBrowser|360browser)(?:\/((\d+)\.(\d+)(?:\.\d+)*))?/)||f.match(/(Electron)(?:\/((\d+)\.(\d+)(?:\.\d+)*))?/)||
f.match(/(Edg|Edge|EdgA)\/((\d+)\.(\d+)(?:\.\d+)*)/)||a())||(e=b.OS.isAndroid||a()||!f.match(/Safari/)?null:(e=f.match(/Version\/((\d+)\.(\d+)(?:\.\d+)*)/))?["Safari/"+e[1],"Safari"].concat(e.slice(1)):null);if(e=e||f.match(/\s([a-z\d]+Browser)\/((\d+)\.(\d+)(?:\.\d+)*)/i)||f.match(/\s([a-z\d]+)\/((\d+)\.(\d+)(?:\.\d+)*)$/i))b.Browser.name=e[1]||"",b.Browser.version=e[2]||"",b.Browser.major=parseInt(e[3]),b.Browser.minor=parseInt(e[4]);b.Browser.isMSIE="MSIE"===b.Browser.name;b.Browser.isIE8="MSIE"===
b.Browser.name&&8===b.Browser.major;b.Browser.isIE9="MSIE"===b.Browser.name&&9===b.Browser.major;b.Browser.isIE10="MSIE"===b.Browser.name&&10===b.Browser.major;b.Browser.isIE11="Trident"===b.Browser.name;b.Browser.isIE=b.Browser.isMSIE||b.Browser.isIE11;b.Browser.isFirefox="Firefox"===b.Browser.name;b.Browser.isOpera="OPR"===b.Browser.name||"OPiOS"===b.Browser.name||"Opera Mini"===b.Browser.name;b.Browser.isUCBrowser="UCBrowser"===b.Browser.name;b.Browser.isWeChat="MicroMessenger"===b.Browser.name;
b.Browser.isQQ="QQ"===b.Browser.name;b.Browser.isQQBrowser="QQBrowser"===b.Browser.name||"MQQBrowser"===b.Browser.name;b.Browser.isSogou="MetaSr"===b.Browser.name||"SogouMobileBrowser"===b.Browser.name;b.Browser.is360="QihooBrowser"===b.Browser.name;b.Browser.isElectron="Electron"===b.Browser.name;b.Browser.isEdg="Edg"===b.Browser.name;b.Browser.isEdge="Edge"===b.Browser.name;b.Browser.isEdgA="EdgA"===b.Browser.name;b.Browser.isChrome="Chrome"===b.Browser.name;b.Browser.isCriOS="CriOS"===b.Browser.name;
b.Browser.isSafari="Safari"===b.Browser.name;b.Browser.flash=d()})()};c.OS=d.OS;c.Kernel=d.Kernel;c.Browser=d.Browser})(playease);
(function(c){var d=c.utils;d.crypt={stringToByteArray:function(a){for(var d=[],e=0,b=0;b<a.length;b++){for(var f=a.charCodeAt(b);255<f;)d[e++]=f&255,f>>=8;d[e++]=f}return d},byteArrayToString:function(a){if(8192>=a.length)return String.fromCharCode.apply(null,a);for(var d="",e=0;e<a.length;e+=8192){var b=Array.slice(a,e,e+8192);d+=String.fromCharCode.apply(null,b)}return d},byteArrayToHex:function(a){return Array.map(a,function(a){return d.padStart(a.toString(16),2,0)}).join("")},hexToByteArray:function(a){if(0!==
a.length%2)return d.error("Key string length must be multiple of 2."),null;for(var c=[],e=0;e<a.length;e+=2)c.push(parseInt(a.substring(e,e+2),16));return c},stringToUTF8ByteArray:function(a){for(var d=[],e=0,b=0;b<a.length;b++){var f=a.charCodeAt(b);128>f?d[e++]=f:(2048>f?d[e++]=f>>6|192:(55296===(f&64512)&&b+1<a.length&&56320===(a.charCodeAt(b+1)&64512)?(f=65536+((f&1023)<<10)+(a.charCodeAt(++b)&1023),d[e++]=f>>18|240,d[e++]=f>>12&63|128):d[e++]=f>>12|224,d[e++]=f>>6&63|128),d[e++]=f&63|128)}return d},
UTF8ByteArrayToString:function(a){for(var d=[],e=0,b=0;e<a.length;){var f=a[e++];if(128>f)d[b++]=String.fromCharCode(f);else if(191<f&&224>f){var c=a[e++];d[b++]=String.fromCharCode((f&31)<<6|c&63)}else if(239<f&&365>f){c=a[e++];var h=a[e++],v=a[e++];f=((f&7)<<18|(c&63)<<12|(h&63)<<6|v&63)-65536;d[b++]=String.fromCharCode(55296+(f>>10));d[b++]=String.fromCharCode(56320+(f&1023))}else c=a[e++],h=a[e++],d[b++]=String.fromCharCode((f&15)<<12|(c&63)<<6|h&63)}return d.join("")},XORByteArray:function(a,
c){if(a.length!==c.length)d.error("XOR array lengths must match.");else{for(var e=[],b=0;b<a.length;b++)e.push(a[b]^c[b]);return e}}}})(playease);
(function(c){function d(b,d){e||(e=a());var f="";m.foreach(d,function(a,b){f+=a+": "+b+"; "});try{e.insertRule?e.insertRule(b+" { "+f+"}",e.cssRules.length):e.addRule(b,f,e.rules.length)}catch(h){m.error("Failed to insert css rule: "+b)}}function a(){var a=document.createElement("style");a.type="text/css";document.getElementsByTagName("head")[0].appendChild(a);return a.sheet||a.styleSheet}var m=c.utils,e;d.style=function(a,e,d){if(void 0!==a&&null!==a)for(void 0===a.length&&(a=[a]),e=m.extendz({},
e),d=0;d<a.length;d++){var b=a[d];void 0!==b&&null!==b&&m.forEach(e,function(a,e){a=a.split("-");for(var d=1;d<a.length;d++)a[d]=a[d].charAt(0).toUpperCase()+a[d].slice(1);a=a.join("");b.style[a]!==e&&(b.style[a]=e)})}};m.css=d})(playease);
(function(c){c=c.utils;c.LITTLE_ENDIAN=function(){try{var d=new ArrayBuffer(2);(new DataView(d)).setInt16(0,256,!0);var a=new Int16Array(d)}catch(m){}return a&&256===a[0]}();c.getUint32=function(d,a,c){void 0===a&&(a=0);return c?d[a+0]|d[a+1]>>>8|d[a+2]>>>16|d[a+3]>>>24:d[a+0]<<24|d[a+1]<<16|d[a+2]<<8|d[a+3]}})(playease);
(function(c){function d(e){var b=this,d,c,h,v;b.append=function(a){k.push(a)};b.save=function(a){a||(a=b.config.filename);d=new Blob(k,{type:b.config.type});c=URL.createObjectURL(d);h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null);v=document.createElementNS("http://www.w3.org/1999/xhtml","a");v.href=c;v.download=a;v.dispatchEvent(h);k=[];URL.revokeObjectURL(c)};b.config=a.extendz({},m,e);var k=[]}var a=c.utils,m={filename:"sample.fragmented.mp4",
type:"video/mpeg"};d.prototype.CONF=m;a.FileKeeper=d})(playease);
(function(c){function d(d){a.call(this,d);var e=this;e.ReadUE=function(){for(var a=-1,d=0;0===d&&0<e.Left();a++)d=e.ReadBits(1);return(1<<a>>>0)-1+e.ReadBitsLong(a)};e.ReadSE=function(){var a=e.ReadUE();return 0===(a&1)?-(a>>>1):a+1>>>1}}c=c.utils;var a=c.BitStream;d.prototype=Object.create(a.prototype);d.prototype.constructor=d;c.ebsp2rbsp=function(a){var d=2,b=a.byteLength,c=new Uint8Array(b);c[0]=a[0];c[1]=a[1];for(var l=2;l<b;l++)if(3!==a[l]||0!==a[l-1]||0!==a[l-2])c[d]=a[l],d++;return c.subarray(0,
d)};c.Golomb=d})(playease);
(function(c){var d=/^(([a-z]+:)\/\/(([-a-z\d\.]+)(?::(\d+))?))((?:\/[-_a-z\d\s\.]*)*)([?#][-_=%&a-z\d\s\.]+)?$/i;c.utils.URL=function(a){var c=this;c.parse=function(a){c.href=a;!1===/^([a-z]+):\/\//.test(a)&&(c.href=window.location.origin+("/"===a.substr(0,1)?"":"/")+a);var b=c.href.match(d);if(null===b)throw{name:"SyntaxError",message:"The URL did not match the expected pattern, url="+a+"."};c.origin=b[1];c.protocol=b[2];c.host=b[3];c.hostname=b[4];c.port=b[5]||"";c.pathname=b[6]||"";if(a=c.pathname.match(/\/([-_a-z\d\s\(\)\[\]\{\}]+)(?:\.([a-z\d]+))?$/))c.filename=
a[1],c.filetype=a[2];b[7]&&("?"===b[7].substr(0,1)?c.search=b[7]:c.hash=b[7])};c.href="";c.origin="";c.protocol="";c.host="";c.hostname="";c.port="";c.pathname="";c.filename="";c.filetype="";c.search="";c.hash="";a&&c.parse(a)}})(playease);
(function(c){function d(b){function d(b,e){var k={};if(b.nodeType===m.DOCUMENT_NODE){for(var h=0;h<b.childNodes.length;h++){var f=b.childNodes[h],r=f.localName||f.baseName||f.nodeName;f.nodeType===m.ELEMENT_NODE&&(f=d(f),f.parent=k,c.config.ignoreRoot?(delete f.parent,k=f):k[r]=f)}return k}if(b.nodeType===m.ELEMENT_NODE){for(h=0;h<b.childNodes.length;h++)if(f=b.childNodes[h],r=f.localName||f.baseName||f.nodeName,f.nodeType!==m.COMMENT_NODE)if(f=d(f,e+"."+r),f.parent=k,k.hasOwnProperty(r))"array"!=
a.typeOf(k[r])&&(k[r]=[k[r]]),k[r].push(f);else if("#text"!=r||/[^\s]/.test(f))k[r]=f;r=b.localName||b.baseName||b.nodeName;null!=b.prefix&&""!=b.prefix&&(r=b.prefix+":"+r);for(h=0;h<b.attributes.length;h++){e=b.attributes[h];f=e.value;for(var p=0;p<c.config.matchers.length;p++){var n=c.config.matchers[p];n.test(e,r)&&(f=n.exec(e.value));k[c.config.attributePrefix+e.name]=f}}null!=k["#text"]&&c.config.trimWhitespaces&&(k["#text"]=k["#text"].trim());k.toString=function(){return(null==k["#text"]?"":
k["#text"])+(null==k["#cdata-section"]?"":k["#cdata-section"])};return k}if(b.nodeType===m.TEXT_NODE||b.nodeType===m.CDATA_SECTION_NODE)return b.nodeValue}var c=this;c.parse=function(b){if(window.DOMParser){var e=new DOMParser;try{var k=e.parseFromString(b,"text/xml")}catch(g){return a.error("Failed to parse XML structure."),null}}else 0===b.indexOf("<?")&&(b=b.substr(b.indexOf("?>")+2)),k=new ActiveXObject("Microsoft.XMLDOM"),k.async="false",k.loadXML(b);return d(k)};c.config=a.extendz({},e,b)}var a=
c.utils,m={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9},e={ignoreRoot:!0,trimWhitespaces:!1,attributePrefix:"@",matchers:[]};d.prototype.CONF=e;a.XML2JSON=d})(playease);
(function(c){var d=c.utils;d.MPD=function(a){function c(a,b){if(a)for(var d=0;d<a.AdaptationSet.length;d++){var e=a.AdaptationSet[d];if(e.hasOwnProperty("@id")){if(e["@id"]===b["@id"])return e}else if(e.hasOwnProperty("@contentType")){if(e["@contentType"]===b["@contentType"])return e}else if(e.hasOwnProperty("@mimeType")){if(e["@mimeType"]===b["@mimeType"])return e}else if(e.hasOwnProperty("@codecs")){if(e["@codecs"]===b["@codecs"])return e}else break}}var e,b,f;this.update=function(a){b=l;a.Location&&
a.Location["#text"]&&(b=a.Location["#text"]);f=a.BaseURL||b.substring(0,b.lastIndexOf("/")+1);if("dynamic"===a["@type"]){var h=e,k=0,g=NaN;"array"!=d.typeOf(a.Period)&&(a.Period=[a.Period]);for(var A=0;A<a.Period.length;A++){var r=a.Period[A];r.hasOwnProperty("@start")?k=r["@start"]:isNaN(g)?0===A&&"dynamic"!==a["@type"]&&(k=0):k+=g;r.hasOwnProperty("@duration")&&(g=r["@duration"]);r["@start"]=k;r["@duration"]=g;a:{var p=h;var n=r;if(p)for(var q=0;q<p.Period.length;q++){var t=p.Period[q];if(t.hasOwnProperty("@id")){if(t["@id"]===
n["@id"]){p=t;break a}}else if(t.hasOwnProperty("@start")){if(t["@start"]===n["@start"]){p=t;break a}}else{p=t;break a}}p=void 0}"array"!=d.typeOf(r.AdaptationSet)&&(r.AdaptationSet=[r.AdaptationSet]);for(n=0;n<r.AdaptationSet.length;n++){q=r.AdaptationSet[n];t=c(p,q);var x=t,K=t=0,m=[];if(!1!==q.SegmentTemplate.hasOwnProperty("SegmentTimeline")){if(x){var H=x.SegmentTemplate.SegmentTimeline;"array"!=d.typeOf(H.S)&&(H.S=[H.S]);for(x=0;x<H.S.length;x++){var D=H.S[x];0===x&&D.hasOwnProperty("@t")&&
(t=D["@t"]);t+=D["@d"];D["@r"]&&(t+=D["@d"]*D["@r"]);m.push(d.extendz({},D))}}q=q.SegmentTemplate.SegmentTimeline;"array"!=d.typeOf(q.S)&&(q.S=q.S?[q.S]:[]);for(x=0;x<q.S.length;x++)D=q.S[x],0===x&&D.hasOwnProperty("@t")&&(K=D["@t"]),K>=t&&m.push(D),K+=D["@d"],D["@r"]&&(K+=D["@d"]*D["@r"])}}}}e=a};this.getSegmentInfo=function(a,b,k,c,A,r){for(var h=e.Period[0],g=0;g<e.Period.length;g++){var q=e.Period[g];if(q.hasOwnProperty("@start"))q["@start"]>h["@start"]&&q["@start"]<=a&&(h=q);else break}a=h;a:{for(h=
0;h<a.AdaptationSet.length;h++)if(g=a.AdaptationSet[h],g.hasOwnProperty("@contentType")){if(g["@contentType"]===b){b=g;break a}}else if(g.hasOwnProperty("@mimeType")&&(q=g["@mimeType"].match(/^([a-z]+)\/[a-z0-9]+/i))&&1<q.length&&q[1]===b){b=g;break a}b=void 0}if(b){h=b;"array"!=d.typeOf(h.Representation)&&(h.Representation=[h.Representation]);g=h.Representation[0];for(q=0;q<h.Representation.length;q++){var t=h.Representation[q];t["@bandwidth"]>g["@bandwidth"]&&(!r||t["@bandwidth"]<=r)&&(g=t)}if(r=
g){q=b.SegmentTemplate;h=q[k?"@initialization":"@media"];g=q["@timescale"]||1;var x=q["@duration"]||0;h=h.replace(/\$RepresentationID\$/,r["@id"]);if(q["@media"].search(/\$Time\$/))if(t=q.SegmentTimeline,k)if(0<c||0===c&&!1===e.hasOwnProperty("@suggestedPresentationDelay"))t.S.length&&(c=t.S[0]["@t"]);else{var l=Math.abs(l)||e["@suggestedPresentationDelay"];a:{var m=l*g;for(l=t.S.length-1;0<=l;l--){var v=t.S[l];m-=v["@d"]*(v["@r"]||1);if(0>=m){m=t.S[0]["@t"];for(var D=0;D<l;D++)m+=t.S[D]["@d"],v["@r"]&&
(m+=v["@d"]*v["@r"]);v["@t"]=m;l=v;break a}}l=t.S[0]}l&&(c=l["@t"],x=l["@d"])}else{a:{for(l=NaN;t.S.length;){x=t.S.shift();isNaN(l)&&(l=x["@t"]||0);if(l+x["@d"]*(x["@r"]||0)>=c){x["@t"]=l;t.S.length&&(t.S[0]["@t"]=x["@t"]+x["@d"]);l=x;break a}l+=x["@d"];x["@r"]&&(l+=x["@d"]*x["@r"])}l=void 0}if(void 0===l)return;c=l["@t"];x=l["@d"];h=h.replace(/\$Time\$/,c)}q["@media"].search(/\$Number\$/)&&(k?A=q["@startNumber"]:h=h.replace(/\$Number\$/,A));k=r.baseURL||b.baseURL||a.baseURL;h=(k?k["#text"]:f)+h;
return{mimeType:r["@mimeType"]||b["@mimeType"],codecs:r["@codecs"]||b["@codecs"],index:A,start:c,duration:x,timescale:g,url:h}}}};this.getLocation=function(){return b};var l=a||""}})(playease);(function(c){c.utils.MPD.matchers={}})(playease);
(function(c){var d=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;c.utils.MPD.matchers.datetime=function(){this.test=function(a){return d.test(a.value)};this.exec=function(a){a=d.exec(a);var c=Date.UTC(parseInt(a[1],10),parseInt(a[2],10)-1,parseInt(a[3],10),parseInt(a[4],10),parseInt(a[5],10),a[6]&&parseInt(a[6],10)||0,a[7]&&1E3*parseFloat(a[7])||0);if(a[9]&&a[10]){var e=60*parseInt(a[9],10)+parseInt(a[10],10);c+=("+"===a[8]?
-1:1)*e*6E4}return new Date(c)}}})(playease);
(function(c){var d=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,a="minBufferTime mediaPresentationDuration minimumUpdatePeriod timeShiftBufferDepth maxSegmentDuration maxSubsegmentDuration suggestedPresentationDelay start starttime duration".split(" ");c.utils.MPD.matchers.duration=function(){this.test=function(c){for(var e=0;e<a.length;e++)if((c.localName||c.baseName||c.nodeName)===a[e])return d.test(c.value);return!1};this.exec=function(a){a=d.exec(a);var e=
31536E3*parseFloat(a[2]||0)+2592E3*parseFloat(a[4]||0)+86400*parseFloat(a[6]||0)+3600*parseFloat(a[8]||0)+60*parseFloat(a[10]||0)+parseFloat(a[12]||0);void 0!==a[1]&&(e*=-1);return e}}})(playease);(function(c){var d=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;c.utils.MPD.matchers.numeric=function(){this.test=function(a){return d.test(a.value)};this.exec=function(a){return parseFloat(a)}}})(playease);
(function(c){var d={MPD:["id","profiles"],Period:["id"],BaseURL:["serviceLocation","byteRange"],SegmentBase:["indexRange"],Initialization:["range"],RepresentationIndex:["range"],SegmentList:["indexRange"],BitstreamSwitching:["range"],SegmentURL:["mediaRange","indexRange"],SegmentTemplate:["indexRange","media","index","initialization","bitstreamSwitching"],AssetIdentifier:["value","id"],EventStream:["value"],AdaptationSet:["profiles","mimeType","segmentProfiles","codecs","contentType"],FramePacking:["value",
"id"],AudioChannelConfiguration:["value","id"],ContentProtection:["value","id"],EssentialProperty:["value","id"],SupplementalProperty:["value","id"],InbandEventStream:["value","id"],Accessibility:["value","id"],Role:["value","id"],Rating:["value","id"],Viewpoint:["value","id"],ContentComponent:["contentType"],Representation:["id","dependencyId","mediaStreamStructureId"],Subset:["id"],Metrics:["metrics"],Reporting:["value","id"]};c.utils.MPD.matchers.string=function(){this.test=function(a,c){return d.hasOwnProperty(c)&&
(c=d[c],void 0!==c)?0<=c.indexOf(a.name):!1};this.exec=function(a){return String(a)}}})(playease);
(function(c){c.events={Event:{BIND:"bind",READY:"ready",PLAY:"play",WAITING:"waiting",DURATIONCHANGE:"durationchange",LOADEDMETADATA:"loadedmetadata",LOADEDDATA:"loadeddata",CANPLAY:"canplay",PLAYING:"playing",CANPLAYTHROUGH:"canplaythrough",PAUSE:"pause",SEEKING:"seeking",SEEKED:"seeked",SWITCHING:"switching",SWITCHED:"switched",RATECHANGE:"ratechange",TIMEUPDATE:"timeupdate",VOLUMECHANGE:"volumechange",ENDED:"ended",ERROR:"error"},IOEvent:{LOADSTART:"loadstart",STALLED:"stalled",ABORT:"abort",TIMEOUT:"timeout",
PROGRESS:"progress",SUSPEND:"suspend",LOAD:"load",LOADEND:"loadend"},UIEvent:{SHOOTING:"shooting",FULLPAGE:"fullpage",FULLSCREEN:"fullscreen",RESIZE:"resize"},GlobalEvent:{CHANGE:"change"},MouseEvent:{CLICK:"click",DOUBLE_CLICK:"doubleclick",MOUSE_MOVE:"mousemove"},KeyboardEvent:{KEY_DOWN:"key-down",KEY_UP:"key-up"},TimerEvent:{TIMER:"timer",COMPLETE:"complete"},MediaEvent:{PACKET:"packet",AAC_SPECIFIC_CONFIG:"aac-specific-config",AAC_SAMPLE:"aac-sample",AVC_CONFIG_RECORD:"avc-config-record",AVC_SAMPLE:"avc-sample",
END_OF_STREAM:"end-of-stream",FLV_INFO_FRAME:"flv-info-frame",FLV_FRAME:"flv-frame",MP4_INIT_SEGMENT:"mp4-init-segment",MP4_SEGMENT:"mp4-segment"},MediaStreamTrackEvent:{ADDTRACK:"addtrack",REMOVETRACK:"removetrack"}}})(playease);
(function(c){var d=c.utils;c.events.EventDispatcher=function(a){function m(a,b){if(a)for(var e=a.slice(0),c=0;c<e.length;c++){var h=e[c];if(h){isNaN(h.count)||0!==--h.count||a.splice(c,1);try{if(h.listener(b),b.stopPropagation)break}catch(r){d.error("Error handling event:",b,r.toString())}}}}var e=this,b=Array.prototype.slice.call(arguments,1);e.bind=function(){var a=Array.prototype.slice.call(arguments,0);d.forEach(a,function(a,b){d.forEach(b,function(a,b){a="on"+b.replace(/-/g,"");e[a]=void 0})})};
e.addEventListener=function(a,b,e){try{f[a]||(f[a]=[]),"string"===d.typeOf(b)&&(b=(new Function("return "+b))()),f[a].push({listener:b,count:e||NaN})}catch(g){d.error("Failed to addEventListener("+a+"):",g)}};e.removeEventListener=function(a,b){if(f[a])try{if(void 0===b)delete f[a];else for(var e=0;e<f[a].length;e++)if(f[a][e].listener.toString()===b.toString()){f[a].splice(e,1);break}}catch(g){d.error("Failed to removeEventListener("+a+"):",g)}};e.hasEventListener=function(a){return f.hasOwnProperty(a)&&
0<f[a].length};e.addGlobalListener=function(a,b){try{"string"===d.typeOf(a)&&(a=(new Function("return "+a))()),l.push({listener:a,count:b||NaN})}catch(k){d.error("Failed to addGlobalListener():",k)}};e.removeGlobalListener=function(a){if(a)try{for(var b=0;b<l.length;b++)if(l[b].listener.toString()===a.toString()){l.splice(b,1);break}}catch(k){d.error("Failed to removeGlobalListener():",k)}};e.dispatchEvent=function(a,b){e.forward({type:a,data:b||{},srcElement:e,version:c.VERSION})};e.forward=function(a){a.target=
e;a.stopPropagation=!1;c.DEBUG&&d.log(a);var b="on"+a.type.replace(/-/g,"");if("function"===d.typeOf(e[b]))e[b](a);else m(f[a.type],a),m(l,a)};var f={};var l=[];e.bind.apply(e,b)}})(playease);
(function(c){function d(a,d){function b(){k++;c.dispatchEvent(e.TIMER);0<c.repeatCount&&k>=c.repeatCount&&(c.stop(),c.dispatchEvent(e.COMPLETE))}m.call(this,"Timer",[e.TIMER,e.COMPLETE]);var c=this,f,k=0,g=!1;c.start=function(){!1===g&&(f=setInterval(b,c.delay),g=!0)};c.stop=function(){g&&(clearInterval(f),f=0,g=!1)};c.reset=function(){c.stop();k=0};c.currentCount=function(){return k};c.running=function(){return g};c.delay=a||50;c.repeatCount=d||0}var a=c.utils;c=c.events;var m=c.EventDispatcher,
e=c.TimerEvent;d.prototype=Object.create(m.prototype);d.prototype.constructor=d;a.Timer=d})(playease);
(function(c){var d=c.utils,a={},m=[];a.register=function(e,b){try{m.splice(b||m.length,0,e),a[e.prototype.kind]=e}catch(f){d.error("Failed to register loader "+e.prototype.kind+", Error="+f.message)}};a.get=function(a,b){for(var e=0;e<m.length;e++){var d=m[e];if(d.prototype.isSupported(a,b))return d}return null};a.Mode={CORS:"cors",NO_CORS:"no-cors",SAME_ORIGIN:"same-origin"};a.Credentials={OMIT:"omit",INCLUDE:"include",SAME_ORIGIN:"same-origin"};a.Cache={DEFAULT:"default",NO_STAORE:"no-store",RELOAD:"reload",
NO_CACHE:"no-cache",FORCE_CACHE:"force-cache",ONLY_IF_CACHED:"only-if-cached"};a.Redirect={FOLLOW:"follow",MANUAL:"manual",ERROR:"error"};a.ResponseType={ARRAYBUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};a.ReadyState={UNINITIALIZED:0,OPEN:1,SENT:2,LOADING:3,DONE:4};c.io=a.get;c.IO=a})(playease);
(function(c){function d(d){function c(b){return b.read().then(function(e){if(e.done)return a.debug("Loader load"),r=l.DONE,A.dispatchEvent(f.LOAD),A.dispatchEvent(f.LOADEND),Promise.resolve("load");switch(r){case l.SENT:r=l.LOADING;break;case l.DONE:return a.warn("Loader state error, probably aborted already."),b.cancel()}a.debug("Loader progress: "+e.value.buffer.byteLength+"/"+p);A.dispatchEvent(f.PROGRESS,{buffer:e.value.buffer,loaded:e.value.buffer.byteLength,total:p});return c(b)})["catch"](g)}
function g(e){r=l.DONE;a.error("Loader "+e.name+": "+e.message);switch(e.name){case "AbortError":A.dispatchEvent(f.ABORT,{name:e.name,message:e.message});break;case "TimeoutError":A.dispatchEvent(f.TIMEOUT,{name:e.name,message:e.message});break;default:A.dispatchEvent(b.ERROR,{name:e.name,message:e.message})}A.dispatchEvent(f.LOADEND)}e.call(this,"Fetch",[b.ERROR],f);var A=this,r;A.load=function(e,d,k){r=l.UNINITIALIZED;A.isSupported(e)?(a.debug("Loader loadstart"),A.dispatchEvent(f.LOADSTART),r=
l.OPEN,void 0!==d&&a.extendz(A.config.headers,{Range:"bytes="+d+"-"+(k||"")}),d=a.extendz({},A.config,{headers:new Headers(A.config.headers),signal:n.signal}),fetch(e.href,d).then(function(b){switch(r){case l.OPEN:r=l.SENT;break;default:a.warn("Loader state error, probably aborted already.")}if(!b.ok||200>b.status||299<b.status)return Promise.reject(Error(b.status+" "+b.statusText));var e=b.headers.get("Content-Length");e&&(e=parseInt(e));if(206===b.status){var d=b.headers.get("Content-Range");d&&
(d=d.match(/bytes (\d*)\-(\d*)\/(\d+)/i))&&(e=parseInt(d[3]))}p!==e&&(p=e||Infinity,a.log("File size changed: "+p));return c(b.body.getReader())})["catch"](g)):(a.error("Loader NotSupportedError: Not supportped."),r=l.DONE,A.dispatchEvent(b.ERROR,{name:"NotSupportedError",message:"Not supportped."}),A.dispatchEvent(f.LOADEND))};A.abort=function(){n.abort()};A.state=function(){return r};A.config=a.extendz({},h,d);var p=NaN;var n=new AbortController}var a=c.utils,m=c.events,e=m.EventDispatcher,b=m.Event,
f=m.IOEvent;c=c.IO;var l=c.ReadyState,h={method:"GET",headers:{},mode:c.Mode.CORS,credentials:c.Credentials.OMIT,cache:c.Cache.DEFAULT,redirect:c.Redirect.FOLLOW};d.prototype=Object.create(e.prototype);d.prototype.constructor=d;d.prototype.kind="Fetch";d.prototype.CONF=h;d.prototype.isSupported=function(a,b){return b&&"live"!==b?!1:!!fetch&&("http:"===a.protocol||"https:"===a.protocol)};c.register(d)})(playease);
(function(c){function d(e){b.call(this,"MozStream",[f.ERROR],l);var d=this,c;d.load=function(b,e,k){c=v.UNINITIALIZED;if(d.isSupported(b)){a.debug("Loader loadstart");d.dispatchEvent(l.LOADSTART);n.open(d.config.method,b.href,!0);void 0!==e&&a.extendz(d.config.headers,{Range:"bytes="+e+"-"+(k||"")});a.forEach(d.config.headers,function(a,b){n.setRequestHeader(a,b)});switch(d.config.credentials){case h.INCLUDE:n.withCredentials=!0;break;case h.SAME_ORIGIN:n.withCredentials=window.location.host===b.host;
break;default:n.withCredentials=!1}n.send()}else a.error("Loader NotSupportedError: Not supportped."),c=v.DONE,d.dispatchEvent(f.ERROR,{name:"NotSupportedError",message:"Not supportped."}),d.dispatchEvent(l.LOADEND)};d.abort=function(){n.abort()};d.state=function(){return c};d.config=a.extendz({},k,e);var g=NaN;var n=new XMLHttpRequest;n.onreadystatechange=function(b){c=n.readyState;switch(c){case v.SENT:if(200>n.status||299<n.status)a.error("Loader NetworkError: "+n.status+" "+n.statusText),d.dispatchEvent(f.ERROR,
{name:"NetworkError",message:n.status+" "+n.statusText});else{(b=n.getResponseHeader("Content-Length"))&&(b=parseInt(b));if(206===n.status){var e=n.getResponseHeader("Content-Range");e&&(e=e.match(/bytes (\d*)\-(\d*)\/(\d+)/i))&&(b=parseInt(e[3]))}g!==b&&(g=b||Infinity,a.log("File size changed: "+g))}}};n.onabort=function(b){a.warn("Loader AbortError: The operation was aborted.");d.dispatchEvent(l.ABORT,{name:"AbortError",message:"The operation was aborted."})};n.onprogress=function(b){a.debug("Loader progress: "+
n.response.byteLength+"/"+g);d.dispatchEvent(l.PROGRESS,{buffer:n.response,loaded:n.response.byteLength,total:g})};n.onload=function(b){a.debug("Loader load.");d.dispatchEvent(l.LOAD)};n.onerror=function(b){a.error("Loader "+b.name+": "+b.message);switch(b.name){case "TimeoutError":d.dispatchEvent(l.TIMEOUT,{name:b.name,message:b.message});break;default:d.dispatchEvent(f.ERROR,{name:b.name,message:b.message})}};n.onloadend=function(a){d.dispatchEvent(l.LOADEND)};n.responseType="moz-chunked-arraybuffer"}
var a=c.utils,m=c.Browser,e=c.events,b=e.EventDispatcher,f=e.Event,l=e.IOEvent;c=c.IO;var h=c.Credentials,v=c.ReadyState,k={method:"GET",headers:{},mode:c.Mode.CORS,credentials:h.OMIT,cache:c.Cache.DEFAULT,redirect:c.Redirect.FOLLOW};d.prototype=Object.create(b.prototype);d.prototype.constructor=d;d.prototype.kind="MozStream";d.prototype.CONF=k;d.prototype.isSupported=function(a,b){return b&&"live"!==b||m.isFirefox&&(14>m.major||67<m.major)?!1:"http:"===a.protocol||"https:"===a.protocol};c.register(d)})(playease);
(function(c){function d(e){function d(b){a.error("Loader "+b.name+": "+b.message);switch(b.name){case "TimeoutError":c.dispatchEvent(l.TIMEOUT,{name:b.name,message:b.message});break;default:c.dispatchEvent(f.ERROR,{name:b.name,message:b.message})}}b.call(this,"MSStream",[f.ERROR],l);var c=this,g;c.load=function(b,e,d){g=v.UNINITIALIZED;t.position=0;if(c.isSupported(b)){a.debug("Loader loadstart");c.dispatchEvent(l.LOADSTART);q.open(c.config.method,b.href,!0);void 0!==e&&a.extendz(c.config.headers,
{Range:"bytes="+e+"-"+(d||"")});a.forEach(c.config.headers,function(a,b){q.setRequestHeader(a,b)});switch(c.config.credentials){case h.INCLUDE:q.withCredentials=!0;break;case h.SAME_ORIGIN:q.withCredentials=window.location.host===b.host;break;default:q.withCredentials=!1}q.send()}else a.error("Loader NotSupportedError: Not supportped."),g=v.DONE,c.dispatchEvent(f.ERROR,{name:"NotSupportedError",message:"Not supportped."}),c.dispatchEvent(l.LOADEND)};c.abort=function(){q.abort()};c.state=function(){return g};
c.config=a.extendz({},k,e);var n=NaN;var q=new XMLHttpRequest;q.onreadystatechange=function(b){g=q.readyState;switch(g){case v.SENT:if(200>q.status||299<q.status){a.error("Loader NetworkError: "+q.status+" "+q.statusText);c.dispatchEvent(f.ERROR,{name:"NetworkError",message:q.status+" "+q.statusText});break}(b=q.getResponseHeader("Content-Length"))&&(b=parseInt(b));if(206===q.status){var e=q.getResponseHeader("Content-Range");e&&(e=e.match(/bytes (\d*)\-(\d*)\/(\d+)/i))&&(b=parseInt(e[3]))}n!==b&&
(n=b||Infinity,a.log("File size changed: "+n));break;case v.LOADING:t.readAsArrayBuffer(q.response)}};q.onabort=function(b){a.warn("Loader AbortError: The operation was aborted.");c.dispatchEvent(l.ABORT,{name:"AbortError",message:"The operation was aborted."})};q.onerror=d;q.onloadend=function(a){c.dispatchEvent(l.LOADEND)};q.responseType="ms-stream";var t=new MSStreamReader;t.onprogress=function(b){b=t.result.slice(t.position);null==b?a.warn("What happend???"):(a.debug("Loader progress: "+b.byteLength+
"/"+n),c.dispatchEvent(l.PROGRESS,{buffer:b,loaded:b.byteLength,total:n}),t.position=t.result.byteLength)};t.onload=function(b){a.debug("Loader load.");c.dispatchEvent(l.LOAD)};t.onerror=d}var a=c.utils,m=c.Browser,e=c.events,b=e.EventDispatcher,f=e.Event,l=e.IOEvent;c=c.IO;var h=c.Credentials,v=c.ReadyState,k={method:"GET",headers:{},mode:c.Mode.CORS,credentials:h.OMIT,cache:c.Cache.DEFAULT,redirect:c.Redirect.FOLLOW};d.prototype=Object.create(b.prototype);d.prototype.constructor=d;d.prototype.kind=
"MSStream";d.prototype.CONF=k;d.prototype.isSupported=function(a,b){return b&&"live"!==b||!m.isIE10&&!m.isIE11&&!m.isEdge?!1:"http:"===a.protocol||"https:"===a.protocol};c.register(d)})(playease);
(function(c){function d(d){function c(b){n=l.SENT;a.log("File size changed: Infinity")}function g(b){a.debug("Loader progress: "+b.data.byteLength+"/Infinity");n===l.SENT&&(n=l.LOADING);p.dispatchEvent(f.PROGRESS,{buffer:b.data,loaded:b.data.byteLength,total:Infinity})}function A(e){a.error("Loader "+e.name+": "+e.message);switch(e.name){case "TimeoutError":p.dispatchEvent(f.TIMEOUT,{name:e.name,message:e.message});break;default:p.dispatchEvent(b.ERROR,{name:e.name,message:e.message})}}function r(b){a.debug("Loader load.");
n=l.DONE;p.dispatchEvent(f.LOAD);p.dispatchEvent(f.LOADEND)}e.call(this,"Websocket",[b.ERROR],f);var p=this,n,q;p.load=function(e,d,k){n=l.UNINITIALIZED;p.isSupported(e)?(a.debug("Loader loadstart"),p.dispatchEvent(f.LOADSTART),n=l.OPEN,q=new window.WebSocket(e.href),q.onopen=c,q.onmessage=g,q.onerror=A,q.onclose=r,q.binaryType="arraybuffer"):(a.error("Loader NotSupportedError: Not supportped."),n=l.DONE,p.dispatchEvent(b.ERROR,{name:"NotSupportedError",message:"Not supportped."}),p.dispatchEvent(f.LOADEND))};
p.abort=function(){!q||q.readyState!=WebSocket.CONNECTING&&q.readyState!=WebSocket.OPEN||(q.close(),a.warn("Loader AbortError: The operation was aborted."),p.dispatchEvent(f.ABORT,{name:"AbortError",message:"The operation was aborted."}))};p.state=function(){return n};p.config=a.extendz({},h,d);window.WebSocket=window.WebSocket||window.MozWebSocket}var a=c.utils,m=c.events,e=m.EventDispatcher,b=m.Event,f=m.IOEvent;c=c.IO;var l=c.ReadyState,h={method:"GET",headers:{},mode:c.Mode.CORS,credentials:c.Credentials.OMIT,
cache:c.Cache.DEFAULT,redirect:c.Redirect.FOLLOW};d.prototype=Object.create(e.prototype);d.prototype.constructor=d;d.prototype.kind="Websocket";d.prototype.CONF=h;d.prototype.isSupported=function(a,b){return b&&"live"!==b?!1:!(!window.WebSocket&&!window.MozWebSocket)&&("ws:"===a.protocol||"wss:"===a.protocol)};c.register(d)})(playease);
(function(c){function d(d){e.call(this,"XHR",[b.ERROR],f);var c=this,k;c.load=function(e,d,t){k=h.UNINITIALIZED;if(c.isSupported(e)){a.debug("Loader loadstart");c.dispatchEvent(f.LOADSTART);p.open(c.config.method,e.href,!0);void 0!==d&&a.extendz(c.config.headers,{Range:"bytes="+d+"-"+(t||"")});a.forEach(c.config.headers,function(a,b){p.setRequestHeader(a,b)});switch(c.config.credentials){case l.INCLUDE:p.withCredentials=!0;break;case l.SAME_ORIGIN:p.withCredentials=window.location.host===e.host;break;
default:p.withCredentials=!1}p.send()}else a.error("Loader NotSupportedError: Not supportped."),k=h.DONE,c.dispatchEvent(b.ERROR,{name:"NotSupportedError",message:"Not supportped."}),c.dispatchEvent(f.LOADEND)};c.abort=function(){p.abort()};c.state=function(){return k};c.config=a.extendz({},v,d);var r=NaN;var p=new XMLHttpRequest;p.onreadystatechange=function(e){k=p.readyState;switch(k){case h.SENT:if(416!==p.status&&(200>p.status||299<p.status))a.error("Loader NetworkError: "+p.status+" "+p.statusText),
c.dispatchEvent(b.ERROR,{name:"NetworkError",message:p.status+" "+p.statusText});else{(e=p.getResponseHeader("Content-Length"))&&(e=parseInt(e));if(206===p.status){var d=p.getResponseHeader("Content-Range");d&&(d=d.match(/bytes (\d*)\-(\d*)\/(\d+)/i))&&(e=parseInt(d[3]))}r!==e&&(r=e||Infinity,a.log("File size changed: "+r))}}};p.onabort=function(b){a.warn("Loader AbortError: The operation was aborted.");c.dispatchEvent(f.ABORT,{name:"AbortError",message:"The operation was aborted."})};p.onprogress=
function(b){a.debug("Loader progress: "+p.loaded+"/"+r)};p.onload=function(b){a.debug("Loader load.");c.dispatchEvent(f.PROGRESS,{buffer:p.response,loaded:p.response.byteLength,total:r});c.dispatchEvent(f.LOAD)};p.onerror=function(e){a.error("Loader "+e.name+": "+e.message);switch(e.name){case "TimeoutError":c.dispatchEvent(f.TIMEOUT,{name:e.name,message:e.message});break;default:c.dispatchEvent(b.ERROR,{name:e.name,message:e.message})}};p.onloadend=function(a){c.dispatchEvent(f.LOADEND)};p.responseType=
c.config.responseType}var a=c.utils,m=c.events,e=m.EventDispatcher,b=m.Event,f=m.IOEvent;c=c.IO;var l=c.Credentials,h=c.ReadyState,v={method:"GET",headers:{},mode:c.Mode.CORS,credentials:l.OMIT,cache:c.Cache.DEFAULT,redirect:c.Redirect.FOLLOW,responseType:c.ResponseType.ARRAYBUFFER};d.prototype=Object.create(e.prototype);d.prototype.constructor=d;d.prototype.kind="XHR";d.prototype.CONF=v;d.prototype.isSupported=function(a,b){if(b&&"live"===b){b=["flv","",void 0,"mp4","m4s","f4v","m4v","mov"];for(var e=
0;e<b.length;e++)if(a.filetype===b[e])return!1}return"http:"===a.protocol||"https:"===a.protocol};c.register(d)})(playease);
(function(c){function d(a,b){this.Num=a||30;this.Den=b||1}function a(){var a=this;a.left=function(){return null==a.payload?0:a.payload.byteLength-a.position};a.set=function(a,e){b[a]=e};a.get=function(a){return b[a]};var b={};a.kind="";a.codec="";a.length=0;a.timestamp=0;a.streamid=0;a.payload=null;a.position=0}var m={};a.KindAudio="audio";a.KindVideo="video";a.KindScript="script";m.Rational=d;m.Information=function(){this.MimeType="";this.Codecs=[];this.Timescale=1E3;this.BitRate=this.VideoDataRate=
this.AudioDataRate=this.CodecHeight=this.CodecWidth=this.Height=this.Width=this.Size=this.Duration=this.VideoTimestamp=this.AudioTimestamp=this.Timestamp=this.TimeBase=0;this.FrameRate=new d;this.Channels=this.SampleSize=this.SampleRate=0};m.Packet=a;c.AV=m})(playease);
(function(c){var d=c.utils;c=c.AV;var a={},m=[];a.COL_PRI_RESERVED0=0;a.COL_PRI_BT709=1;a.COL_PRI_UNSPECIFIED=2;a.COL_PRI_RESERVED=3;a.COL_PRI_BT470M=4;a.COL_PRI_BT470BG=5;a.COL_PRI_SMPTE170M=6;a.COL_PRI_SMPTE240M=7;a.COL_PRI_FILM=8;a.COL_PRI_BT2020=9;a.COL_PRI_SMPTEST428_1=10;a.COL_PRI_NB=11;a.COL_TRC_RESERVED0=0;a.COL_TRC_BT709=1;a.COL_TRC_UNSPECIFIED=2;a.COL_TRC_RESERVED=3;a.COL_TRC_GAMMA22=4;a.COL_TRC_GAMMA28=5;a.COL_TRC_SMPTE170M=6;a.COL_TRC_SMPTE240M=7;a.COL_TRC_LINEAR=8;a.COL_TRC_LOG=9;a.COL_TRC_LOG_SQRT=
10;a.COL_TRC_IEC61966_2_4=11;a.COL_TRC_BT1361_ECG=12;a.COL_TRC_IEC61966_2_1=13;a.COL_TRC_BT2020_10=14;a.COL_TRC_BT2020_12=15;a.COL_TRC_SMPTEST2084=16;a.COL_TRC_SMPTEST428_1=17;a.COL_TRC_ARIB_STD_B67=18;a.COL_TRC_NB=19;a.COL_SPC_RGB=0;a.COL_SPC_BT709=1;a.COL_SPC_UNSPECIFIED=2;a.COL_SPC_RESERVED=3;a.COL_SPC_FCC=4;a.COL_SPC_BT470BG=5;a.COL_SPC_SMPTE170M=6;a.COL_SPC_SMPTE240M=7;a.COL_SPC_YCOCG=8;a.COL_SPC_YCGCO=8;a.COL_SPC_BT2020_NCL=9;a.COL_SPC_BT2020_CL=10;a.COL_SPC_NB=11;a.COL_RANGE_UNSPECIFIED=0;
a.COL_RANGE_MPEG=1;a.COL_RANGE_JPEG=2;a.COL_RANGE_NB=2;a.CHROMA_LOC_UNSPECIFIED=0;a.CHROMA_LOC_LEFT=1;a.CHROMA_LOC_CENTER=2;a.CHROMA_LOC_TOPLEFT=3;a.CHROMA_LOC_TOP=4;a.CHROMA_LOC_BOTTOMLEFT=5;a.CHROMA_LOC_BOTTOM=6;a.CHROMA_LOC_NB=7;a.register=function(e,b){try{m.splice(b||m.length,0,e),a[e.prototype.kind]=e}catch(f){d.error("Failed to register codec "+e.prototype.kind+", Error="+f.message)}};a.get=function(a){for(var b=0;b<m.length;b++){var e=m[b];if(e.prototype.kind===a)return e}return null};c.codec=
a.get;c.Codec=a})(playease);
(function(c){function d(e){b.call(this,"AAC",l,[f.ERROR]);var d=this,c;d.parse=function(b){if(1>b.left())d.dispatchEvent(f.ERROR,{name:"DataError",message:"Data not enough while parsing AAC packet."});else{q.Timestamp=Math.max(b.timestamp,q.VideoTimestamp);var e=new DataView(b.payload.buffer);b.set("DataType",e.getUint8(b.position++));b.set("CTS",0);switch(b.get("DataType")){case k.SPECIFIC_CONFIG:a:if(2>b.left())d.dispatchEvent(f.ERROR,{name:"DataError",message:"Data not enough while parsing AAC specific config."});else{c=
new m(b.payload.subarray(b.position));d.AudioObjectType=c.ReadBits(5);d.AudioObjectType===g.ESCAPE&&(d.AudioObjectType=32+c.ReadBits(6));d.SamplingFrequencyIndex=c.ReadBits(4);d.SamplingFrequency=15===d.SamplingFrequencyIndex?c.ReadBits(24):A[d.SamplingFrequencyIndex];d.ChannelConfiguration=c.ReadBits(4);16>d.ChannelConfiguration&&(d.Channels=r[d.ChannelConfiguration]);if(d.AudioObjectType===g.SBR||d.AudioObjectType===g.PS&&0===(c.ShowBits(3)&3)&&0===(c.ShowBits(9)&63))switch(d.ExtensionSamplingFrequencyIndex=
c.ReadBits(4),d.ExtensionSamplingFrequency=15===d.ExtensionSamplingFrequencyIndex?c.ReadBits(24):A[d.ExtensionSamplingFrequencyIndex],d.ExtensionAudioObjectType=c.ReadBits(5),d.ExtensionAudioObjectType){case g.ESCAPE:d.ExtensionAudioObjectType=32+c.ReadBits(6);break;case g.ER_BSAC:d.ExtensionChannelConfiguration=c.ReadBits(4)}else d.ExtensionAudioObjectType=g.NULL,d.ExtensionSamplingFrequency=0;if(d.AudioObjectType===g.ALS){c.ShowBits(5);4279379!==c.ShowBitsLong(24)&&c.SkipBits(24);try{if(112>c.Left())throw{name:"DataError",
message:"Data not enough while parsing ALS config."};if(1095521024!==c.ReadBitsLong(32))throw{name:"TypeError",message:"Not ALS\\0"};d.SamplingFrequency=c.ReadBitsLong(32);c.SkipBits(32);d.ChannelConfiguration=0;d.Channels=c.ReadBits(16)+1}catch(P){a.error("Failed to parse AAC config ALS.");d.dispatchEvent(f.ERROR,{name:P.name,message:P.message});break a}}d.RefSampleDuration=Math.floor(1024*q.Timescale/d.SamplingFrequency);d.AudioObjectType=g.SBR;d.ExtensionSamplingFrequencyIndex=d.SamplingFrequencyIndex;
6<=d.SamplingFrequencyIndex?d.ExtensionSamplingFrequencyIndex-=3:1===d.ChannelConfiguration&&(d.AudioObjectType=g.AAC_LC);d.Config=d.AudioObjectType===g.SBR?new Uint8Array([d.AudioObjectType<<3|d.SamplingFrequencyIndex>>1,d.SamplingFrequencyIndex<<7|d.ChannelConfiguration<<3|d.ExtensionSamplingFrequencyIndex>>1,d.ExtensionSamplingFrequencyIndex<<7|8,0]):new Uint8Array([d.AudioObjectType<<3|d.SamplingFrequencyIndex>>1,d.SamplingFrequencyIndex<<7|d.ChannelConfiguration<<3]);d.Codec="mp4a.40."+d.AudioObjectType;
d.dispatchEvent(l.AAC_SPECIFIC_CONFIG)}break;case k.RAW_FRAME_DATA:q.AudioTimestamp=b.timestamp;e=Math.ceil((b.timestamp-q.AudioTimestamp)/d.RefSampleDuration);for(var t=0;t<e-1;t++){var x=new h.Packet;x.kind=v.KindAudio;x.codec=b.codec;x.timestamp=q.AudioTimestamp+d.RefSampleDuration;x.streamid=b.streamid;var K=x;a:switch(d.AudioObjectType){case AAC_LC:var E=p[d.Channels];break a;default:E=n[d.Channels]}K.payload=E;if(void 0===x.payload){a.warn("Failed to get silent frame: AudioObjectType="+d.AudioObjectType+
", Channels="+d.Channels);break}x.length=x.payload.byteLength;x.set("DTS",q.TimeBase+x.timestamp);x.set("PTS",x.get("DTS"));x.set("Data",x.payload);a.warn("Generates silent frame: "+x.timestamp);q.AudioTimestamp=x.timestamp;d.dispatchEvent(l.AAC_SAMPLE,{packet:x})}b.set("DTS",q.TimeBase+b.timestamp);b.set("PTS",b.get("DTS"));b.set("Data",b.payload.subarray(b.position));d.dispatchEvent(l.AAC_SAMPLE,{packet:b});break;default:d.dispatchEvent(f.ERROR,{name:"TypeError",message:"Unrecognized AAC packet type: "+
d.DataType})}}};var q=e;d.MimeType="audio/mp4";d.Codec="";d.RefSampleDuration=Math.floor(1024*q.Timescale/44100);d.AudioObjectType=0;d.SamplingFrequencyIndex=0;d.SamplingFrequency=0;d.ChannelConfiguration=0;d.Channels=0;d.ExtensionAudioObjectType=0;d.ExtensionSamplingFrequencyIndex=0;d.ExtensionSamplingFrequency=0;d.ExtensionChannelConfiguration=0;d.Config=null;d.ExpectedDts=0;d.Flags={IsLeading:0,SampleDependsOn:1,SampleIsDependedOn:0,SampleHasRedundancy:0,IsNonSync:0}}var a=c.utils,m=a.Golomb,e=
c.events,b=e.EventDispatcher,f=e.Event,l=e.MediaEvent,h=c.AV,v=h.Packet;c=h.Codec;var k={SPECIFIC_CONFIG:0,RAW_FRAME_DATA:1},g={NULL:0,AAC_MAIN:1,AAC_LC:2,AAC_SSR:3,AAC_LTP:4,SBR:5,AAC_SCALABLE:6,TWINVQ:7,CELP:8,HVXC:9,TTSI:12,MAINSYNTH:13,WAVESYNTH:14,MIDI:15,SAFX:16,ER_AAC_LC:17,ER_AAC_LTP:19,ER_AAC_SCALABLE:20,ER_TWINVQ:21,ER_BSAC:22,ER_AAC_LD:23,ER_CELP:24,ER_HVXC:25,ER_HILN:26,ER_PARAM:27,SSC:28,PS:29,SURROUND:30,ESCAPE:31,L1:32,L2:33,L3:34,DST:35,ALS:36,SLS:37,SLS_NON_CORE:38,ER_AAC_ELD:39,
SMR_SIMPLE:40,SMR_MAIN:41,USAC_NOSBR:42,SAOC:43,LD_SURROUND:44,USAC:45},A=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350],r=[0,1,2,3,4,5,6,8],p=[new Uint8Array([0,200,0,128,35,128]),new Uint8Array([33,0,73,144,2,25,0,35,128]),new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]),new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]),new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]),new Uint8Array([0,200,0,128,32,132,1,38,64,8,
100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])],n=[new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]),new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]),new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,
149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])];d.prototype=Object.create(b.prototype);d.prototype.constructor=d;d.prototype.kind="AAC";d.DataTypes=k;d.AOT=g;d.SamplingFrequencys=A;d.Channels=r;d.SilentFramesOfLC=p;d.SilentFramesOfSBR=n;c.register(d)})(playease);
(function(c){function d(c){e.call(this,"AVC",f,[b.ERROR]);var k=this;k.parse=function(d){if(4>d.left())k.dispatchEvent(b.ERROR,{name:"DataError",message:"Data not enough while parsing AVC packet."});else{g.Timestamp=Math.max(d.timestamp,g.AudioTimestamp);var e=new DataView(d.payload.buffer);d.set("DataType",e.getUint8(d.position++));d.set("CTS",e.getUint8(d.position++)<<16|e.getUint8(d.position++)<<8|e.getUint8(d.position++));switch(d.get("DataType")){case l.SEQUENCE_HEADER:a:if(7>d.left())k.dispatchEvent(b.ERROR,
{name:"DataError",message:"Data not enough while parsing AVC decoder configuration record."});else{k.AVCC=d.payload.subarray(d.position);e=0;var p=new DataView(d.payload.buffer,d.position);k.ConfigurationVersion=p.getUint8(e++);k.ProfileIndication=p.getUint8(e++);k.ProfileCompatibility=p.getUint8(e++);k.LevelIndication=p.getUint8(e++);if(1!==k.ConfigurationVersion||0===k.ProfileIndication)k.dispatchEvent(b.ERROR,{name:"DataError",message:"Invalid AVC configuration version or profile."});else if(k.NalLengthSize=
(p.getUint8(e++)&3)+1,3>k.NalLengthSize)k.dispatchEvent(b.ERROR,{name:"DataError",message:"Invalid NalLengthSize "+k.NalLengthSize});else{for(var n=p.getUint8(e++)&31,q=0;q<n;q++){var t=p.getUint16(e);e+=2;if(0!==t){var x=k.AVCC.subarray(e,e+t);try{k.SPS.parse(x),k.RefSampleDuration=Math.floor(g.Timescale*c.FrameRate.Den/c.FrameRate.Num)}catch(K){k.dispatchEvent(b.ERROR,{name:K.name,message:K.message});break a}e+=t}}n=p.getUint8(e++);for(q=0;q<n;q++)t=p.getUint16(e),e+=2,0!==t&&(e+=t);k.Codec=k.SPS.Codec;
k.dispatchEvent(f.AVC_CONFIG_RECORD,{packet:d})}}break;case l.NALU:a:{g.VideoTimestamp=d.timestamp;e=0;p=new DataView(d.payload.buffer,d.position);q=d.payload.subarray(d.position);n=[];d.set("DTS",g.TimeBase+d.timestamp);d.set("PTS",d.get("CTS")+d.get("DTS"));d.set("Data",q);for(d.set("NALUs",n);e<p.byteLength;){if(e+4>=p.byteLength){k.dispatchEvent(m.ERROR,{name:"DataError",message:"Data not enough for next NALU."});break a}t=p.getUint32(e);3===k.NalLengthSize&&(t>>=8);e+=k.NalLengthSize;if(t>p.byteLength-
k.NalLengthSize){k.dispatchEvent(m.ERROR,{name:"DataError",message:"Malformed Nalus near timestamp "+d.get("DTS")+"."});break a}d.set("ForbiddenZeroBit",p.getUint8(e)>>7&1);d.set("NalRefIdc",p.getUint8(e)>>5&3);d.set("NalUnitType",p.getUint8(e)&31);d.get("NalUnitType")===h.IDR_SLICE&&d.set("Keyframe",!0);x=q.subarray(e,e+t);e+=t;n.push(x)}k.dispatchEvent(f.AVC_SAMPLE,{packet:d})}break;case l.END_OF_SEQUENCE:a.debug("AVC sequence end.");k.dispatchEvent(f.END_OF_STREAM);break;default:k.dispatchEvent(b.ERROR,
{name:"TypeError",message:"Unrecognized AVC packet type: "+d.get("DataType")})}}};var g=c;k.MimeType="video/mp4";k.Codec="";k.RefSampleDuration=Math.floor(g.Timescale*c.FrameRate.Den/c.FrameRate.Num);k.AVCC=null;k.ConfigurationVersion=0;k.ProfileIndication=0;k.ProfileCompatibility=0;k.LevelIndication=0;k.NalLengthSize=0;k.SPS=new d.SPS(g);k.PPS=new d.PPS(k.SPS);k.ExpectedDts=0;k.Flags={IsLeading:0,SampleDependsOn:0,SampleIsDependedOn:0,SampleHasRedundancy:0,IsNonSync:0}}var a=c.utils,m=c.events,e=
m.EventDispatcher,b=m.Event,f=m.MediaEvent;c=c.AV.Codec;var l={SEQUENCE_HEADER:0,NALU:1,END_OF_SEQUENCE:2},h={SLICE:1,DPA:2,DPB:3,DPC:4,IDR_SLICE:5,SEI:6,SPS:7,PPS:8,AUD:9,END_SEQUENCE:10,END_STREAM:11,FILLER_DATA:12,SPS_EXT:13,AUXILIARY_SLICE:19,FF_IGNORE:267448321};d.prototype=Object.create(e.prototype);d.prototype.constructor=d;d.prototype.kind="AVC";d.DataTypes=l;d.NAL=h;c.register(d)})(playease);
(function(c){function d(){var a=this,b;a.parse=function(d){b=d;a.CpbCnt=b.ReadUE()+1;if(32<a.CpbCnt)throw{name:"DataError",message:"Invalid HRD.CpbCnt "+a.CpbCnt+"."};a.BitRateScale=b.ReadBits(4);a.CpbSizeScale=b.ReadBits(4);for(d=0;d<a.CpbCnt;d++)a.BitRateValue[d]=b.ReadUE(),a.CpbSizeValue[d]=b.ReadUE(),a.CbrFlag|=b.ReadBits(1)<<d;a.InitialCpbRemovalDelayLength=_b.ReadBits(5)+1;a.CpbRemovalDelayLength=b.ReadBits(5)+1;a.DpbOutputDelayLength=b.ReadBits(5)+1;a.TimeOffsetLength=b.ReadBits(5)};a.CpbCnt=
0;a.BitRateScale=0;a.CpbSizeScale=0;a.BitRateValue=Array(32);a.CpbSizeValue=Array(32);a.CbrFlag=0;a.InitialCpbRemovalDelayLength=0;a.CpbRemovalDelayLength=0;a.DpbOutputDelayLength=0;a.TimeOffsetLength=0}function a(){var a=this,e;a.parse=function(b){e=b;a.AspectRatioInfoPresentFlag=e.ReadBits(1);if(0!==a.AspectRatioInfoPresentFlag)if(a.AspectRatioIdc=e.ReadBits(8),255===a.AspectRatioIdc)a.Sar.Num=e.ReadBits(16),a.Sar.Den=e.ReadBits(16);else if(a.AspectRatioIdc<l.length)a.Sar=l[a.AspectRatioIdc];else throw{name:"DataError",
message:"Illegal aspect ratio."};else a.Sar.Num=0,a.Sar.Den=0;a.OverscanInfoPresentFlag=e.ReadBits(1);0!==a.OverscanInfoPresentFlag&&(a.OverscanAppropriateFlag=e.ReadBits(1));a.VideoSignalTypePresentFlag=e.ReadBits(1);0!==a.VideoSignalTypePresentFlag&&(a.VideoFormat=e.ReadBits(3),a.VideoFullRangeFlag=e.ReadBits(1),a.ColourDescriptionPresentFlag=e.ReadBits(1),0!==a.ColourDescriptionPresentFlag&&(a.ColourPrimaries=e.ReadBits(8),a.TransferCharacteristics=e.ReadBits(8),a.MatrixCoefficients=e.ReadBits(8),
a.ColourPrimaries>=f.COL_PRI_NB&&(a.ColourPrimaries=f.COL_PRI_UNSPECIFIED),a.TransferCharacteristics>=f.COL_TRC_NB&&(a.TransferCharacteristics=f.COL_TRC_UNSPECIFIED),a.MatrixCoefficients>=f.COL_SPC_NB&&(a.MatrixCoefficients=f.COL_SPC_UNSPECIFIED)));a.ChromaLocInfoPresentFlag=e.ReadBits(1);0!==a.ChromaLocInfoPresentFlag&&(a.ChromaSampleLocTypeTopField=e.ReadUE(),a.ChromaSampleLocTypeBottomField=e.ReadUE());if(0!==e.ReadBits(1)&&10>e.Left())throw{name:"DataError",message:"Truncated VUI."};a.TimingInfoPresentFlag=
e.ReadBits(1);if(0!==a.TimingInfoPresentFlag){a.NumUnitsInTick=e.ReadBitsLong(32);a.TimeScale=e.ReadBitsLong(32);if(0===a.NumUnitsInTick||0===a.TimeScale)m.debug("time_scale/num_units_in_tick invalid or unsupported "+a.TimeScale+"/"+a.NumUnitsInTick),a.TimingInfoPresentFlag=0;a.FixedFrameRateFlag=e.ReadBits(1)}a.NalHrdParametersPresentFlag=e.ReadBits(1);0!==a.NalHrdParametersPresentFlag&&a.NalHrd.parse(e);a.VclHrdParametersPresentFlag=e.ReadBits(1);0!==a.VclHrdParametersPresentFlag&&a.VclHrd.parse(e);
if(0!==a.NalHrdParametersPresentFlag||0!==a.VclHrdParametersPresentFlag)a.LowDelayHrdFlag=e.ReadBits(1);a.PicStructPresentFlag=e.ReadBits(1);if(0!==e.Left()&&(a.BitstreamRestrictionFlag=e.ReadBits(1),0!==a.BitstreamRestrictionFlag&&(a.MotionVectorsOverPicBoundariesFlag=e.ReadBits(1),a.MaxBytesPerPicDenom=e.ReadUE(),a.MaxBitsPerMbDenom=e.ReadUE(),a.Log2MaxMvLengthHorizontal=e.ReadUE(),a.Log2MaxMvLengthVertical=e.ReadUE(),a.MaxNumReorderFrames=e.ReadUE(),a.MaxDecFrameBuffering=e.ReadUE(),0>e.Left()&&
(a.MaxNumReorderFrames=0,a.BitstreamRestrictionFlag=0),16<a.MaxNumReorderFrames)))throw a.MaxNumReorderFrames=16,{name:"DataError",message:"Clipping illegal MaxNumReorderFrames "+a.MaxNumReorderFrames+"."};};a.AspectRatioInfoPresentFlag=0;a.AspectRatioIdc=0;a.Sar=new b;a.OverscanInfoPresentFlag=0;a.OverscanAppropriateFlag=0;a.VideoSignalTypePresentFlag=0;a.VideoFormat=0;a.VideoFullRangeFlag=0;a.ColourDescriptionPresentFlag=0;a.ColourPrimaries=0;a.TransferCharacteristics=0;a.MatrixCoefficients=0;a.ChromaLocInfoPresentFlag=
0;a.ChromaSampleLocTypeTopField=0;a.ChromaSampleLocTypeBottomField=0;a.TimingInfoPresentFlag=0;a.NumUnitsInTick=0;a.TimeScale=0;a.FixedFrameRateFlag=0;a.NalHrdParametersPresentFlag=0;a.NalHrd=new d;a.VclHrdParametersPresentFlag=0;a.VclHrd=new d;a.LowDelayHrdFlag=0;a.PicStructPresentFlag=0;a.BitstreamRestrictionFlag;a.MotionVectorsOverPicBoundariesFlag=0;a.MaxBytesPerPicDenom=0;a.MaxBitsPerMbDenom=0;a.Log2MaxMvLengthHorizontal=0;a.Log2MaxMvLengthVertical=0;a.MaxNumReorderFrames=0;a.MaxDecFrameBuffering=
0}var m=c.utils,e=m.Golomb;c=c.AV;var b=c.Rational,f=c.Codec;c=f.AVC;var l=[new b(0,1),new b(1,1),new b(12,11),new b(10,11),new b(16,11),new b(40,33),new b(24,11),new b(20,11),new b(32,11),new b(80,33),new b(18,11),new b(15,11),new b(64,33),new b(160,99),new b(4,3),new b(3,2),new b(2,1)];c.SPS=function(b){function d(a,b){return 0!==a&&0!==b&&(a+128)*(b+128)<m.MAX_INT32/8}var c=this,g;c.parse=function(a){if(4>a.byteLength)throw{name:"DataError",message:"Data not enough while parsing SPS."};c.Codec=
"avc1.";m.forEach(a.subarray(1,4),function(a,b){a=m.padStart(b.toString(16),2,"0");c.Codec+=a});a=m.ebsp2rbsp(a);g=new e(a);c.Data=a;g.ReadBits(8);c.ProfileIdc=g.ReadBits(8);c.ConstraintSetFlags=g.ReadBits(1)<<0;c.ConstraintSetFlags|=g.ReadBits(1)<<1;c.ConstraintSetFlags|=g.ReadBits(1)<<2;c.ConstraintSetFlags|=g.ReadBits(1)<<3;c.ConstraintSetFlags|=g.ReadBits(1)<<4;c.ConstraintSetFlags|=g.ReadBits(1)<<5;c.ReservedZero2Bits=g.ReadBits(2);c.LevelIdc=g.ReadBits(8);c.ID=g.ReadUE();if(32<=c.ID)throw{name:"DataError",
message:"SPS ID(0x"+c.ID.toString(16)+") out of range."};c.SeqScalingMatrixPresentFlag=0;c.Vui.VideoFullRangeFlag=1;c.Vui.MatrixCoefficients=f.COL_SPC_UNSPECIFIED;if(100===c.ProfileIdc||110===c.ProfileIdc||122===c.ProfileIdc||244===c.ProfileIdc||44===c.ProfileIdc||83===c.ProfileIdc||86===c.ProfileIdc||118===c.ProfileIdc||128===c.ProfileIdc||138===c.ProfileIdc||144===c.ProfileIdc){c.ChromaFormatIdc=g.ReadUE();if(3<c.ChromaFormatIdc)throw{name:"DataError",message:"Bad ChromaFormatIdc "+c.ChromaFormatIdc+
"."};if(3===c.ChromaFormatIdc&&(c.SeparateColourPlaneFlag=g.ReadBits(1),0!==c.SeparateColourPlaneFlag))throw{name:"DataError",message:"Separate color planes are not supported."};c.BitDepthLuma=g.ReadUE()+8;c.BitDepthChroma=g.ReadUE()+8;if(c.BitDepthChroma!==c.BitDepthLuma)throw{name:"DataError",message:"Different chroma and luma bit depth."};if(8>c.BitDepthLuma||14<c.BitDepthLuma||8>c.BitDepthChroma||14<c.BitDepthChroma)throw{name:"DataError",message:"Illegal bit depth value "+c.BitDepthLuma+", "+
c.BitDepthChroma+"."};c.TransformBypass=g.ReadBits(1);c.SeqScalingMatrixPresentFlag=g.ReadBits(1);if(0!==c.SeqScalingMatrixPresentFlag){a=8;3===c.ChromaFormatIdc&&(a+=4);for(var k=0;k<a;k++)if(0!=g.ReadBits(1)){var p=16;6<=k&&(p=64);for(var n=8,l=8,t=0;t<p;t++)l=g.ReadSE(),l=(n+l+256)%256,0!==l&&(n=l)}}}else c.ChromaFormatIdc=1,c.BitDepthLuma=8,c.BitDepthChroma=8;c.Log2MaxFrameNum=g.ReadUE()+4;if(4>c.Log2MaxFrameNum||16<c.Log2MaxFrameNum)throw{name:"DataError",message:"log2_max_frame_num_minus4("+
(c.Log2MaxFrameNum-4)+") out of range, expect 0-12."};c.PocType=g.ReadUE();if(0===c.PocType){if(c.Log2MaxPocLsb=g.ReadUE()+4,16<c.Log2MaxPocLsb)throw{name:"DataError",message:"log2_max_poc_lsb("+c.Log2MaxPocLsb+") is out of range."};}else if(1===c.PocType){c.DeltaPicOrderAlwaysZeroFlag=g.ReadBits(1);c.OffsetForNonRefPic=g.ReadUE();c.OffsetForTopToBottomField=g.ReadUE();c.NumRefFramesInPocCycle=g.ReadUE();a=c.OffsetForRefFrame.length;if(c.NumRefFramesInPocCycle>=a)throw{name:"DataError",message:"poc_cycle_length("+
c.NumRefFramesInPocCycle+") overflow."};for(k=0;k<c.NumRefFramesInPocCycle;k++)c.OffsetForRefFrame[k]=g.ReadUE()}else if(2!==c.PocType)throw{name:"DataError",message:"Illegal POC type "+c.PocType+"."};c.MaxNumRefFrames=g.ReadUE();if(34<c.MaxNumRefFrames||16<c.MaxNumRefFrames)throw{name:"DataError",message:"Too many reference frames, "+c.MaxNumRefFrames+"."};c.GapsInFrameNumValueAllowedFlag=g.ReadBits(1);c.PicWidth=g.ReadUE()+1;c.PicHeight=g.ReadUE()+1;if(c.PicWidth>=m.MAX_INT32/16||c.PicHeight>=m.MAX_INT32/
16||!1===d(16*c.PicWidth,16*c.PicHeight))throw{name:"DataError",message:"pic_width or pic_height overflow."};c.FrameMbsOnlyFlag=g.ReadBits(1);c.MbAdaptiveFrameFieldFlag=0===c.FrameMbsOnlyFlag?g.ReadBits(1):0;b.CodecWidth=16*c.PicWidth;b.CodecHeight=16*c.PicHeight*(2-c.FrameMbsOnlyFlag);c.Direct8x8InferenceFlag=g.ReadBits(1);c.FrameCroppingFlag=g.ReadBits(1);if(0!==c.FrameCroppingFlag){var x;a=g.ReadUE();k=g.ReadUE();p=g.ReadUE();n=g.ReadUE();1===c.ChromaFormatIdc&&(x=1);if(1===c.ChromaFormatIdc||
2===c.ChromaFormatIdc)var h=1;h=1<<h;x=2-c.FrameMbsOnlyFlag<<x;if(a>m.MAX_INT32/4/h||k>m.MAX_INT32/4/h||p>m.MAX_INT32/4/x||n>m.MAX_INT32/4/x||(a+k)*h>=b.CodecWidth||(p+n)*x>=b.CodecHeight)throw{name:"DataError",message:"Invalid crop values, l="+a+", r="+k+", t="+p+", b="+n+", w="+b.CodecWidth+", h="+b.CodecHeight+"."};c.FrameCropLeftOffset=a*h;c.FrameCropRightOffset=k*h;c.FrameCropTopOffset=p*x;c.FrameCropBottomOffset=n*x}else c.FrameCropLeftOffset=0,c.FrameCropRightOffset=0,c.FrameCropTopOffset=
0,c.FrameCropBottomOffset=0;c.VuiParametersPresentFlag=g.ReadBits(1);0!==c.VuiParametersPresentFlag&&(c.Vui.parse(g),0!==c.Vui.TimingInfoPresentFlag&&(b.FrameRate.Num=c.Vui.TimeScale,b.FrameRate.Den=2*c.Vui.NumUnitsInTick));b.CodecWidth-=c.FrameCropLeftOffset+c.FrameCropRightOffset;b.CodecHeight-=c.FrameCropTopOffset+c.FrameCropBottomOffset;b.Width=b.CodecWidth;b.Height=b.CodecHeight;1<c.Vui.Sar.Den&&(b.Width*=c.Vui.Sar.Num/c.Vui.Sar.Den)};c.ProfileIdc=0;c.ConstraintSetFlags=0;c.ReservedZero2Bits=
0;c.LevelIdc=0;c.ID=0;c.ChromaFormatIdc=0;c.SeparateColourPlaneFlag=0;c.BitDepthLuma=0;c.BitDepthChroma=0;c.TransformBypass=0;c.SeqScalingMatrixPresentFlag=0;c.Log2MaxFrameNum=0;c.PocType=0;c.Log2MaxPocLsb=0;c.DeltaPicOrderAlwaysZeroFlag=0;c.OffsetForNonRefPic=0;c.OffsetForTopToBottomField=0;c.NumRefFramesInPocCycle=0;c.OffsetForRefFrame=Array(256);c.MaxNumRefFrames=0;c.GapsInFrameNumValueAllowedFlag=0;c.PicWidth=0;c.PicHeight=0;c.FrameMbsOnlyFlag=0;c.MbAdaptiveFrameFieldFlag=0;c.Direct8x8InferenceFlag=
0;c.FrameCroppingFlag=0;c.FrameCropLeftOffset=0;c.FrameCropRightOffset=0;c.FrameCropTopOffset=0;c.FrameCropBottomOffset=0;c.VuiParametersPresentFlag=0;c.Vui=new a}})(playease);
(function(c){var d=c.utils,a=d.Golomb;c.AV.Codec.AVC.PPS=function(c){var e=this,b;e.parse=function(c){c=d.ebsp2rbsp(c);b=new a(c);e.Data=c;e.ID=b.ReadUE();if(256<=e.ID)throw{name:"DataError",message:"PPS ID(0x"+e.ID.toString(16)+") out of range."};e.SpsID=b.ReadUE();if(32<=e.SpsID)throw{name:"DataError",message:"SPS ID(0x"+e.SpsID.toString(16)+") out of range."};if(14<f.BitDepthLuma)throw{name:"DataError",message:"Invalid BitDepthLuma "+f.BitDepthLuma+"."};if(11===f.BitDepthLuma||13===f.BitDepthLuma)throw{name:"DataError",
message:"Unimplemented BitDepthLuma "+f.BitDepthLuma+"."};e.EntropyCodingModeFlag=b.ReadBits(1);e.PicOrderPresentFlag=b.ReadBits(1);e.NumSliceGroups=b.ReadUE()+1;1<e.NumSliceGroups&&(e.SliceGroupMapType=b.ReadUE(),d.debug("FMO not supported!"));e.NumRefIdx[0]=b.ReadUE()+1;e.NumRefIdx[1]=b.ReadUE()+1;if(31<e.NumRefIdx[0]-1||31<e.NumRefIdx[1]-1)throw{name:"DataError",message:"PPS reference overflow."};c=6*(f.BitDepthLuma-8);e.WeightedPredFlag=b.ReadBits(1);e.WeightedBipredIdc=b.ReadBits(2);e.PicInitQp=
b.ReadSE()+26+c;e.PicInitQs=b.ReadSE()+26+c;e.ChromaQpIndexOffset[0]=b.ReadSE();e.DeblockingFilterControlPresentFlag=b.ReadBits(1);e.ConstrainedIntraPredFlag=b.ReadBits(1);e.RedundantPicCntPresentFlag=b.ReadBits(1);e.Transform8x8ModeFlag=0;if(c=0<b.Left())66!==f.ProfileIdc&&77!==f.ProfileIdc&&88!==f.ProfileIdc||0===(f.ConstraintSetFlags&7)?c=!0:(d.debug("Current profile doesn't provide more RBSP data in PPS, skipping..."),c=!1);c?(e.Transform8x8ModeFlag=b.ReadBits(1),e.PicScalingMatrixPresentFlag=
b.ReadBits(1),0!==e.PicScalingMatrixPresentFlag&&(c=2,3===f.ChromaFormatIdc&&(c=6),b.ReadBits(6+c*e.Transform8x8ModeFlag)),e.ChromaQpIndexOffset[1]=b.ReadSE()):e.ChromaQpIndexOffset[1]=e.ChromaQpIndexOffset[0];e.ChromaQpIndexOffset[0]!==e.ChromaQpIndexOffset[1]&&(e.ChromaQpDiff=1)};var f=c;e.ID=0;e.SpsID=0;e.EntropyCodingModeFlag=0;e.PicOrderPresentFlag=0;e.NumSliceGroups=0;e.SliceGroupMapType=0;e.NumRefIdx=Array(2);e.WeightedPredFlag=0;e.WeightedBipredIdc=0;e.PicInitQp=0;e.PicInitQs=0;e.ChromaQpIndexOffset=
Array(2);e.DeblockingFilterControlPresentFlag=0;e.ConstrainedIntraPredFlag=0;e.RedundantPicCntPresentFlag=0;e.Transform8x8ModeFlag=0;e.PicScalingMatrixPresentFlag=0;e.ChromaQpDiff=0}})(playease);
(function(c){function d(a,b){e.call(this,"MediaStreamTrack");var c=this;c.stop=function(){};c.clone=function(){return new d(c.kind,c.source)};c.id=0;c.sn=0;c.kind=a;c.source=b}var a=c.utils,m=c.events,e=m.EventDispatcher,b=m.Event,f=m.MediaStreamTrackEvent;c=c.AV;var l=c.Information,h={},v=[];h.register=function(b,c){try{v.splice(c||v.length,0,b),h[b.prototype.kind]=b}catch(A){a.error("Failed to register format "+b.prototype.kind+", Error="+A.message)}};h.get=function(a){for(var b=0;b<v.length;b++){var c=
v[b];if(c.prototype.kind===a)return c}return null};d.KindAudio="audio";d.KindVideo="video";h.MediaStreamTrack=d;h.MediaStream=function(){e.call(this,"MediaStream",f,[b.ERROR]);var c=this;c.addTrack=function(b){for(var d=0;d<h.length;d++)if(h[d]===b){a.warn("MediaStreamTrack already added.");return}b.id=g++;h.push(b);a.log("Added "+b.kind+" track("+b.id+") to "+c.kind+".");c.dispatchEvent(f.ADDTRACK,{track:b})};c.removeTrack=function(b){for(var d=0;d<h.length;d++)if(h[d]===b){h.splice(d,1);a.log("Removed "+
b.kind+" track("+b.id+") to "+c.kind+".");c.dispatchEvent(f.REMOVETRACK,{track:b});break}};c.getTrackById=function(a){for(var b=0;b<h.length;b++)if(h[b].id===a)return h[b];return null};c.getTracks=function(){var b=[];a.forEach(h,function(a,c){b.push(c)});return b};c.getAudioTracks=function(){var b=[];a.forEach(h,function(a,c){c.kind===d.KindAudio&&b.push(c)});return b};c.getVideoTracks=function(){var b=[];a.forEach(h,function(a,c){c.kind===d.KindVideo&&b.push(c)});return b};c.close=function(){a.forEach(h,
function(a,b){b.stop();c.dispatchEvent(f.REMOVETRACK,{track:b})});g=1;h=[];c.info=new l};var g=1;var h=[];c.info=new l};c.format=h.get;c.Format=h})(playease);
(function(c){function d(){function c(){p=g.f;d.hasAudio=!1;d.hasVideo=!1}h.call(this,"FLV");var d=this,p,n;d.append=function(c){c=new Uint8Array(c);for(var t=0;t<c.byteLength;t++)switch(p){case g.f:if(70!==c[t]){d.dispatchEvent(e.ERROR,{name:"DataError",message:'Not "F"'});return}p=g.l;break;case g.l:if(76!==c[t]){d.dispatchEvent(e.ERROR,{name:"DataError",message:'Not "L"'});return}p=g.v;break;case g.v:if(86!==c[t]){d.dispatchEvent(e.ERROR,{name:"DataError",message:'Not "V"'});return}p=g.version;
break;case g.version:p=g.flags;break;case g.flags:d.hasAudio=!!(c[t]&4);d.hasVideo=!!(c[t]&1);p=g.header0;break;case g.header0:p=g.header1;break;case g.header1:p=g.header2;break;case g.header2:p=g.header3;break;case g.header3:p=g.backpointer0;break;case g.backpointer0:p=g.backpointer1;break;case g.backpointer1:p=g.backpointer2;break;case g.backpointer2:p=g.backpointer3;break;case g.backpointer3:p=g.type;break;case g.type:n=new f.Packet;switch(c[t]){case v.AUDIO:n.kind=l.KindAudio;break;case v.VIDEO:n.kind=
l.KindVideo;break;case v.SCRIPT:n.kind=l.KindScript;break;default:d.dispatchEvent(e.ERROR,{name:"TypeError",message:"Unrecognized flv tag "+a.hex(c[t])+"."});return}p=g.length0;break;case g.length0:n.length=c[t]<<16;p=g.length1;break;case g.length1:n.length|=c[t]<<8;p=g.length2;break;case g.length2:n.length|=c[t];n.payload=new Uint8Array(n.length);n.position=0;p=g.timestamp0;break;case g.timestamp0:n.timestamp=c[t]<<16;p=g.timestamp1;break;case g.timestamp1:n.timestamp|=c[t]<<8;p=g.timestamp2;break;
case g.timestamp2:n.timestamp|=c[t];p=g.timestamp3;break;case g.timestamp3:n.timestamp|=c[t]<<24;p=g.streamid0;break;case g.streamid0:n.streamid=c[t]<<16;p=g.streamid1;break;case g.streamid1:n.streamid|=c[t]<<8;p=g.streamid2;break;case g.streamid2:n.streamid|=c[t];p=g.payload;break;case g.payload:var x=Math.min(n.length-n.position,c.byteLength-t);n.payload.set(c.subarray(t,t+x),n.position);n.position+=x;t+=x-1;if(n.position===n.length){switch(n.kind){case l.KindAudio:n.set("Format",n.payload[0]>>
4&15);n.set("SampleRate",n.payload[0]>>2&3);n.set("SampleSize",n.payload[0]>>1&1);n.set("SampleType",n.payload[0]&1);n.set("DataType",n.payload[1]);n.position=1;break;case l.KindVideo:n.set("FrameType",n.payload[0]>>4&15);n.set("Codec",n.payload[0]&15);n.set("DataType",n.payload[1]);n.set("Keyframe",n.get("FrameType")===k.KEYFRAME);n.position=1;break;case l.KindScript:n.position=0}d.dispatchEvent(b.PACKET,{packet:n});p=g.backpointer0}break;default:d.dispatchEvent(e.ERROR,{name:"InvalidStateError",
message:"Invalid state while parsing flv tag."});return}};d.reset=function(){c();d.close()};c()}var a=c.utils,m=c.events,e=m.Event,b=m.MediaEvent,f=c.AV,l=f.Packet;c=f.Format;var h=c.MediaStream,v={AUDIO:8,VIDEO:9,SCRIPT:18},k={KEYFRAME:1,INTER_FRAME:2,DISPOSABLE_INTER_FRAME:3,GENERATED_KEYFRAME:4,INFO_OR_COMMAND_FRAME:5},g={f:0,l:1,v:2,version:3,flags:4,header0:5,header1:6,header2:7,header3:8,backpointer0:9,backpointer1:10,backpointer2:11,backpointer3:12,type:13,length0:14,length1:15,length2:16,
timestamp0:17,timestamp1:18,timestamp2:19,timestamp3:20,streamid0:21,streamid1:22,streamid2:23,payload:24};d.prototype=Object.create(h.prototype);d.prototype.constructor=d;d.prototype.kind="FLV";d.Tags=v;d.Frames=k;d.Formats={LINEAR_PCM_PLATFORM_ENDIAN:0,ADPCM:1,MP3:2,LINEAR_PCM_LITTLE_ENDIAN:3,NELLYMOSER_16_kHz_MONO:4,NELLYMOSER_8_kHz_MONO:5,NELLYMOSER:6,G_711_A_LAW_LOGARITHMIC_PCM:7,G_711_MU_LAW_LOGARITHMIC_PCM:8,RESERVED:9,AAC:10,SPEEX:11,MP3_8_kHz:14,DEVICE_SPECIFIC_SOUND:15};d.Rates=[5500,11025,
22050,44100];d.Codecs={JPEG:1,H263:2,SCREEN_VIDEO:3,VP6:4,VP6_ALPHA:5,SCREEN_VIDEO_2:6,AVC:7};c.FLV=d})(playease);
(function(c){function d(){b.call(this,"FMP4");var a=this;a.append=function(b){a.dispatchEvent(m.ERROR,{name:"NotSupportedError",message:"The operation is not supported."})};a.getInitSegment=function(){var b=a.ftyp(),c=a.moov.apply(a,arguments);return d.merge(b,c)};a.getSegment=function(b,c){var f=b.source,g=c.get("DTS")-a.info.TimeBase-f.ExpectedDts;c.set("DTS",f.ExpectedDts);c.set("PTS",c.get("CTS")+c.get("DTS"));c.set("Duration",f.RefSampleDuration+g);f.ExpectedDts=c.get("DTS")+c.get("Duration");
b.kind===e.KindVideo&&(c.get("Keyframe")?(f.Flags.SampleDependsOn=2,f.Flags.SampleIsDependedOn=1):(f.Flags.SampleDependsOn=1,f.Flags.SampleIsDependedOn=0));b.sn++;b=a.moof(b,c);c=a.mdat(c.get("Data"));return d.merge(b,c)};a.box=function(a){for(var b=Array.prototype.slice.call(arguments,1),c=8,d=0;d<b.length;d++)c+=b[d].byteLength;var e=0,f=new Uint8Array(c);f[e++]=c>>>24&255;f[e++]=c>>>16&255;f[e++]=c>>>8&255;f[e++]=c&255;f.set(a,e);e+=4;for(d=0;d<b.length;d++)f.set(b[d],e),e+=b[d].byteLength;return f};
a.ftyp=function(){return a.box(f.ftyp,h)};a.moov=function(){for(var b=[],c=[],d=a.mvhd(),e=Array.prototype.slice.call(arguments,0),g=0;g<e.length;g++){var p=e[g],n=a.trak(p);p=a.trex(p);b.push(n);c.push(p)}c=a.box.apply(a,[f.mvex].concat(c));return a.box.apply(a,[f.moov].concat([d],b,[c]))};a.mvhd=function(){var b=a.info.Timescale,c=1E3*a.info.Duration;return a.box(f.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,b>>24&255,b>>16&255,b>>8&255,b&255,c>>24&255,c>>16&255,c>>8&255,c&255,0,1,0,0,1,0,0,0,
0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))};a.trak=function(b){var c=a.tkhd(b);b=a.mdia(b);return a.box(f.trak,c,b)};a.tkhd=function(b){b=b.id;var c=1E3*a.info.Duration,d=a.info.Width,e=a.info.Height;return a.box(f.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,b>>24&255,b>>16&255,b>>8&255,b&255,0,0,0,0,c>>24&255,c>>16&255,c>>8&255,c&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,d>>8&255,d&255,0,0,e>>8&255,e&255,0,0]))};a.mdia=function(b){var c=a.mdhd(),d=a.hdlr(b);b=a.minf(b);return a.box(f.mdia,c,d,b)};a.mdhd=function(){var b=a.info.Timescale,c=1E3*a.info.Duration;return a.box(f.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,b>>24&255,b>>16&255,b>>8&255,b&255,c>>24&255,c>>16&255,c>>8&255,c&255,85,196,0,0]))};a.hdlr=function(b){return a.box(f.hdlr,b.kind===e.KindAudio?k:v)};a.minf=function(b){var c=b.kind===e.KindAudio?
a.box(f.smhd,q):a.box(f.vmhd,n);var d=a.dinf();b=a.stbl(b);return a.box(f.minf,c,d,b)};a.dinf=function(){var b=a.box(f.dref,l);return a.box(f.dinf,b)};a.stbl=function(b){b=a.stsd(b);var c=a.box(f.stts,A),d=a.box(f.stsc,r),e=a.box(f.stsz,p),g=a.box(f.stco,STCO);return a.box(f.stbl,b,c,d,e,g)};a.stsd=function(b){return b.kind===e.KindAudio?a.box(f.stsd,g,a.mp4a(b)):a.box(f.stsd,g,a.avc1(b))};a.mp4a=function(b){var c=b.source.SamplingFrequency;c=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,b.source.ChannelConfiguration,
0,16,0,0,0,0,c>>>8&255,c&255,0,0]);b=a.esds(b);return a.box(f.mp4a,c,b)};a.esds=function(b){b=b.source.Config;var c=b.byteLength;c=new Uint8Array([0,0,0,0,3,23+c,0,1,0,4,15+c,64,21,0,0,0,0,0,0,0,0,0,0,0,5,c]);return a.box(f.esds,c,b,new Uint8Array([6,1,2]))};a.avc1=function(b){var c=a.info.CodecWidth,d=a.info.CodecHeight;c=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c>>8&255,c&255,d>>8&255,d&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,112,108,97,121,101,97,115,101,46,106,115,32,45,32,
118,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);b=a.box(f.avcC,b.source.AVCC);return a.box(f.avc1,c,b)};a.trex=function(b){b=b.id;return a.box(f.trex,new Uint8Array([0,0,0,0,b>>24&255,b>>16&255,b>>8&255,b&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))};a.moof=function(b,c){var d=a.mfhd(b);b=a.traf(b,c);return a.box(f.moof,d,b)};a.mfhd=function(b){b=b.sn;b=new Uint8Array([0,0,0,0,b>>24&255,b>>16&255,b>>8&255,b&255]);return a.box(f.mfhd,b)};a.traf=function(b,c){var d=b.id,e=c.get("DTS");d=a.box(f.tfhd,
new Uint8Array([0,0,0,0,d>>24&255,d>>16&255,d>>8&255,d&255]));e=a.box(f.tfdt,new Uint8Array([0,0,0,0,e>>24&255,e>>16&255,e>>8&255,e&255]));c=a.trun(b,c);b=a.sdtp(b);return a.box(f.traf,d,e,c,b)};a.trun=function(b,c){var d=c.get("Duration"),e=c.get("Data").byteLength;b=b.source.Flags;c=c.get("CTS");return a.box(f.trun,new Uint8Array([0,0,15,1,0,0,0,1,0,0,0,121,d>>24,d>>16,d>>8,d,e>>24,e>>16,e>>8,e,b.IsLeading<<2|b.SampleDependsOn,b.SampleIsDependedOn<<6|b.SampleHasRedundancy<<4|b.IsNonSync,0,0,c>>
24,c>>16,c>>8,c]))};a.sdtp=function(b){b=b.source.Flags;return a.box(f.sdtp,new Uint8Array([0,0,0,0,b.IsLeading<<6|b.SampleDependsOn<<4|b.SampleIsDependedOn<<2|b.SampleHasRedundancy]))};a.mdat=function(b){return a.box(f.mdat,b)};a.reset=function(){a.close()}}var a=c.utils,m=c.events.Event;c=c.AV.Format;var e=c.MediaStreamTrack,b=c.MediaStream,f={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],
stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},l=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),h=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),v=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),k=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),g=
new Uint8Array([0,0,0,0,0,0,0,1]),A=new Uint8Array([0,0,0,0,0,0,0,0]),r=STCO=A,p=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),n=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),q=new Uint8Array([0,0,0,0,0,0,0,0]);a.forEach(f,function(a,b){b.push(a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(3))});d.prototype=Object.create(b.prototype);d.prototype.constructor=d;d.prototype.kind="FMP4";d.merge=function(){for(var a=Array.prototype.slice.call(arguments,0),b=0,c=0;c<a.length;c++)b+=a[c].byteLength;
var d=0;b=new Uint8Array(b);for(c=0;c<a.length;c++)b.set(a[c],d),d+=a[c].byteLength;return b};d.parseDescriptor=function(a){a=new Uint8Array(a);for(var b=0,c={},d,e=0;e<a.byteLength;e++)switch(b){case 0:d={type:a[e],size:0,data:void 0};c[d.type]=d;b=1;break;case 1:case 2:case 3:case 4:var f=a[e];d&&(d.size=d.size<<7|f&127);f&128?b++:b=5;break;case 5:d&&(d.data=a.subarray(e,e+d.size),e+=d.size-1);b=0;break;default:throw{name:"InvalidStateError",message:"Invalid state while parsing fmp4 descriptor."};
}return c};c.FMP4=d})(playease);(function(c){var d=c.utils,a={},m=[];a.register=function(c,b){try{m.splice(b||m.length,0,c),a[c.prototype.kind]=c}catch(f){d.error("Failed to register module "+c.prototype.kind+", Error="+f.message)}};a.get=function(a,b){for(var c=0;c<m.length;c++){var d=m[c];if(d.prototype.isSupported(a,b))return d}return null};c.module=a.get;c.Module=a})(playease);
(function(c){function d(b){l.call(this,"SRC",h,v);var c=this,d;c.setup=function(){!1===e&&(e=!0,c.dispatchEvent(h.READY,{kind:c.kind}))};c.play=function(b,e){"string"===a.typeOf(b)&&b!==d&&b!==f.src&&(d=b,f.src=b);if(b=f.play())b["catch"](function(b){switch(b.name){case "AbortError":a.debug(b.name+": "+b.message);break;case "NotAllowedError":a.warn("Failed to play due to the autoplay policy, trying to play with muted.");f.muted=!0;f.play();break;default:a.error("Unrecognized error occured, "+b.name+
": "+b.message),c.dispatchEvent(h.STALLED,{name:b.name,message:b.message})}});f.controls=!1};c.pause=function(){f.pause();f.controls=!1};c.seek=function(a){f.currentTime=a;c.play()};c.stop=function(){e=!1;d=void 0;f.src=null;f.controls=!1};c.muted=function(b){"boolean"===a.typeOf(b)&&(f.muted=b);return f.muted};c.volume=function(b){"number"===a.typeOf(b)&&(f.volume=b);return f.volume};c.cleanup=function(){c.stop();e=!1};c.element=function(){return f};c.config=b;var e=!1;var f=a.createElement("video");
f.addEventListener("play",c.forward);f.addEventListener("loadstart",c.forward);f.addEventListener("waiting",c.forward);f.addEventListener("stalled",c.forward);f.addEventListener("abort",c.forward);f.addEventListener("timeout",c.forward);f.addEventListener("durationchange",function(a){c.dispatchEvent(h.DURATIONCHANGE,{duration:f.duration})});f.addEventListener("loadedmetadata",c.forward);f.addEventListener("loadeddata",c.forward);f.addEventListener("progress",c.forward);f.addEventListener("canplay",
c.forward);f.addEventListener("playing",c.forward);f.addEventListener("canplaythrough",c.forward);f.addEventListener("suspend",c.forward);f.addEventListener("pause",c.forward);f.addEventListener("seeking",c.forward);f.addEventListener("seeked",c.forward);f.addEventListener("ratechange",c.forward);f.addEventListener("timeupdate",function(a){a=f.buffered;c.dispatchEvent(h.TIMEUPDATE,{time:f.currentTime,buffered:a.length?a.end(a.length-1):0,duration:f.duration})});f.addEventListener("volumechange",function(a){c.dispatchEvent(h.VOLUMECHANGE,
{muted:f.muted,volume:f.volume})});f.addEventListener("load",c.forward);f.addEventListener("ended",c.forward);f.addEventListener("error",function(a){c.dispatchEvent(h.ERROR,{name:{1:"AbortError",2:"NetworkError",3:"EncodingError",4:"NotSupportedError"}[f.error.code],message:f.error.message})});c.config.objectfit&&m.style(f,{"object-fit":c.config.objectfit});c.config.airplay&&f.setAttribute("x-webkit-airplay","allow");c.config.playsinline&&(f.setAttribute("playsinline","isiPhoneShowPlaysinline"),f.setAttribute("webkit-playsinline",
"isiPhoneShowPlaysinline"),f.setAttribute("x5-playsinline",""),f.setAttribute("x5-video-player-type","h5-page"),f.setAttribute("x5-video-player-fullscreen",!0),f.setAttribute("t7-video-player-type","inline"));c.config.preload&&(f.preload=c.config.preload);f.muted=c.config.muted;f.volume=c.config.volume}var a=c.utils,m=a.css,e=c.OS,b=c.Browser,f=c.events,l=f.EventDispatcher,h=f.Event,v=f.IOEvent;c=c.Module;d.prototype=Object.create(l.prototype);d.prototype.constructor=d;d.prototype.kind="SRC";d.prototype.isSupported=
function(c,d){if(b.isMSIE&&9>b.major)return!1;c=new a.URL(c);if("http:"!==c.protocol&&"https:"!==c.protocol)return!1;d="m3u8 m3u hls mp4 f4v m4v mov m4a f4a aac ogv ogg mp3 oga webm".split(" ");var f="mp4 f4v m4v mov m4a f4a aac ogv ogg mp3 oga webm".split(" ");d=e.isMobile||e.isMac?d:f;for(f=0;f<d.length;f++)if(c.filetype===d[f])return!0;return!1};c.register(d)})(playease);
(function(c){function d(b){function d(b){a.log("MediaSource.onsourceopen");F.load(Q)}function e(b){a.log("MediaSource.onsourceended")}function D(b){a.log("MediaSource.onsourceclose")}function P(b){a.log("MediaSource.onsourceerror");u.dispatchEvent(l.ERROR,{name:err.name,message:err.message})}function Z(b){F&&(F.removeEventListener(h.LOADSTART,u.forward),F.removeEventListener(h.STALLED,u.forward),F.removeEventListener(h.ABORT,R),F.removeEventListener(h.TIMEOUT,R),F.removeEventListener(h.PROGRESS,W),
F.removeEventListener(h.SUSPEND,u.forward),F.removeEventListener(h.LOAD,u.forward),F.removeEventListener(h.LOADEND,G),F.removeEventListener(l.ERROR,R),F.abort());var d;b.loader&&"auto"!==b.loader.name&&(d=g[b.loader.name]);null!=d&&d.prototype.isSupported(Q,u.config.mode)||(d=c.io(Q,u.config.mode));if(null==d)throw{name:"NotSupportedError",message:"No supported io found."};F=new d(b.loader);F.addEventListener(h.LOADSTART,u.forward);F.addEventListener(h.STALLED,u.forward);F.addEventListener(h.ABORT,
R);F.addEventListener(h.TIMEOUT,R);F.addEventListener(h.PROGRESS,W);F.addEventListener(h.SUSPEND,u.forward);F.addEventListener(h.LOAD,u.forward);F.addEventListener(h.LOADEND,G);F.addEventListener(l.ERROR,R);a.log(F.kind+" loader initialized.")}function W(b){a.debug("progress: "+b.data.loaded+"/"+b.data.total);C.append(b.data.buffer)}function R(a){u.forward(a)}function da(a){a.table.audiodatarate&&(C.info.AudioDataRate=a.table.audiodatarate.get());a.table.audiosamplerate&&(C.info.AudioSampleRate=a.table.audiosamplerate.get());
a.table.audiosamplesize&&(C.info.AudioSampleSize=a.table.audiosamplesize.get());a.table.videodatarate&&(C.info.VideoDataRate=a.table.videodatarate.get());a.table.width&&(C.info.Width=a.table.width.get());a.table.height&&(C.info.Height=a.table.height.get());a.table.framerate&&(C.info.FrameRate.Num=a.table.framerate.get(),C.info.FrameRate.Den=1);a.table.duration&&(C.info.Duration=a.table.duration.get());a.table.filesize&&(C.info.Size=a.table.filesize.get())}function aa(a){a=I.getVideoTracks()[0];w(a);
var b=I.getInitSegment(a);L[a.kind].push(b);S(a.kind)}function ba(a){a=I.getAudioTracks()[0];w(a);var b=I.getInitSegment(a);L[a.kind].push(b);S(a.kind)}function ca(a){var b=I.getVideoTracks()[0];a=I.getSegment(b,a.data.packet);L[b.kind].push(a);S(b.kind)}function X(a){var b=I.getAudioTracks()[0];a=I.getSegment(b,a.data.packet);L[b.kind].push(a);S(b.kind)}function G(a){ea=!0}function w(b){var c=b.source;c=c.MimeType+'; codecs="'+c.Codec+'"';if(!1===MediaSource.isTypeSupported(c))a.warn(c+" not supported!");
else if(a.log(c),"closed"===J.readyState)u.dispatchEvent(l.ERROR,{name:"InvalidStateError",message:"MediaSource is already closed while adding SourceBuffer."});else try{var d=J.addSourceBuffer(c);d.addEventListener("updateend",B);d.addEventListener("error",M);d.kind=b.kind;N[b.kind]=d}catch(fa){a.error(fa.name+": "+fa.message)}}function S(b){if(C.hasAudio||C.hasVideo)if(C.hasAudio&&!N[q.KindAudio]||C.hasVideo&&!N[q.KindVideo])return;var c=N[b];if(c&&!c.updating&&(b=L[b].shift()))try{c.appendBuffer(b)}catch(U){a.error(U.name+
": "+U.message),u.dispatchEvent(l.ERROR,{name:U.name,message:U.message})}}function B(b){a.debug("SourceBuffer.onupdateend");b=b.target;var c=y.buffered;c.length&&(c=c.start(0),y.currentTime<c&&(y.currentTime=c,a.warn("Seems stalled, seeking to next available time "+c+".")));if(ea){if("open"!==J.readyState)return;if(!L[q.KindAudio].length&&!L[q.KindVideo].length){J.endOfStream();return}}S(b.kind)}function M(b){a.error("SourceBuffer.onerror");u.dispatchEvent(l.ERROR,{name:"DataError",message:"SourceBuffer error occurs."})}
function z(a){for(var b=0;b<K.length;b++)if(K[b]===a)return!0;return!1}f.call(this,"FLV",l,h);var u=this,O,F;u.setup=function(){!1===O&&(O=!0,u.dispatchEvent(l.READY,{kind:u.kind}))};u.play=function(b,c){if("string"===a.typeOf(b)&&(new a.URL(b)).href!==Q.href){try{Q.parse(b)}catch(U){a.error('Failed to parse url "'+b+'".');u.dispatchEvent(l.ERROR,{name:U.name,message:U.message});return}if(!z(Q.hostname)){Q=new a.URL;u.dispatchEvent(l.ERROR,{name:E,message:H});return}ea=!1;C.reset();I.reset();I.info=
C.info;Z(c||{});y.src=URL.createObjectURL(J);y.load()}if(b=y.play())b["catch"](function(b){switch(b.name){case "AbortError":a.debug(b.name+": "+b.message);break;case "NotAllowedError":a.warn("Failed to play due to the autoplay policy, trying to play with muted.");y.muted=!0;y.play();break;default:a.error("Unrecognized error occured, "+b.name+": "+b.message),u.dispatchEvent(l.ERROR,{name:b.name,message:b.message})}});y.controls=!1};u.pause=function(){y.pause();y.controls=!1};u.seek=function(a){y.currentTime=
a;u.play()};u.stop=function(){F&&F.abort();a.forEach(N,function(a,b){b&&J.removeSourceBuffer(b);N[a]=null});a.forEach(L,function(a,b){L[a]=[]});O=!1;Q=new a.URL;y.removeAttribute("src");y.controls=!1};u.muted=function(b){"boolean"===a.typeOf(b)&&(y.muted=b);return y.muted};u.volume=function(b){"number"===a.typeOf(b)&&(y.volume=b);return y.volume};u.cleanup=function(){u.stop();O=!1};u.element=function(){return y};u.config=b;var ea=O=!1;var Q=new a.URL;var N={};N[q.KindAudio]=null;N[q.KindVideo]=null;
var L={};L[q.KindAudio]=[];L[q.KindVideo]=[];new a.FileKeeper;var J=new (window.MediaSource||window.WebKitMediaSource);J.addEventListener("sourceopen",d);J.addEventListener("sourceended",e);J.addEventListener("sourceclose",D);J.addEventListener("error",P);J.addEventListener("webkitsourceopen",d);J.addEventListener("webkitsourceended",e);J.addEventListener("webkitsourceclose",D);J.addEventListener("webkiterror",P);var C=new n.FLV;C.addEventListener(v.PACKET,function(b){b=b.data.packet;switch(b.kind){case r.KindVideo:if(b.get("Codec")!==
x.AVC){u.dispatchEvent(l.ERROR,{name:"NotSupportedError",message:"Video codec "+a.hex(b.get("Codec"))+" not supported."});break}var c=C.getVideoTracks()[0];if(b.get("DataType")===p.AVC.DataTypes.SEQUENCE_HEADER){if(c){a.warn("Video track already exists, ignored.");break}c=new p.AVC(C.info);c=new q(q.KindVideo,c);C.addTrack(c)}else if(0<b.timestamp&&b.timestamp<=C.info.VideoTimestamp){a.warn("Drops unordered video packet: "+b.timestamp);break}c.source.parse(b);break;case r.KindAudio:if(b.get("Format")!==
t.AAC){u.dispatchEvent(l.ERROR,{name:"NotSupportedError",message:"Audio format "+a.hex(b.get("Format"))+" not supported."});break}c=C.getAudioTracks()[0];if(b.get("DataType")===p.AAC.DataTypes.SPECIFIC_CONFIG){if(c){a.warn("Audio track already exists, ignored.");break}c=new p.AAC(C.info);c=new q(q.KindAudio,c);C.addTrack(c)}else if(0<b.timestamp&&b.timestamp<=C.info.AudioTimestamp){a.warn("Drops unordered audio packet: "+b.timestamp);break}c.source.parse(b);break;case r.KindScript:c=new A.Value;var d=
A.decode(c,b.payload.buffer,b.position);c.key=c.get();d+=A.decode(c,b.payload.buffer,b.position+d);var e={};a.forEach(c.get(),function(a,b){e[b.key]=b.get()});a.log(c.key+":",e);"onMetaData"===c.key&&da(c);break;default:a.error("Unrecognized flv tag "+a.hex(b.kind)+".")}});C.addEventListener(k.ADDTRACK,function(a){a=a.data.track.clone();a.source.addEventListener(v.AVC_CONFIG_RECORD,aa);a.source.addEventListener(v.AAC_SPECIFIC_CONFIG,ba);a.source.addEventListener(v.AVC_SAMPLE,ca);a.source.addEventListener(v.AAC_SAMPLE,
X);a.source.addEventListener(v.END_OF_STREAM,G);a.source.addEventListener(l.ERROR,u.forward);I.addTrack(a)});C.addEventListener(k.REMOVETRACK,function(a){a=I.getTrackById(a.data.track.id);a.source.removeEventListener(v.AVC_CONFIG_RECORD,aa);a.source.removeEventListener(v.AAC_SPECIFIC_CONFIG,ba);a.source.removeEventListener(v.AVC_SAMPLE,ca);a.source.removeEventListener(v.AAC_SAMPLE,X);a.source.removeEventListener(v.END_OF_STREAM,G);a.source.removeEventListener(l.ERROR,u.forward);a.stop();I.removeTrack(a)});
C.addEventListener(l.ERROR,u.forward);var I=new n.FMP4;I.addEventListener(l.ERROR,u.forward);var y=a.createElement("video");y.addEventListener("play",u.forward);y.addEventListener("loadstart",u.forward);y.addEventListener("waiting",u.forward);y.addEventListener("stalled",u.forward);y.addEventListener("abort",u.forward);y.addEventListener("timeout",u.forward);y.addEventListener("durationchange",function(a){u.dispatchEvent(l.DURATIONCHANGE,{duration:y.duration})});y.addEventListener("loadedmetadata",
u.forward);y.addEventListener("loadeddata",u.forward);y.addEventListener("progress",u.forward);y.addEventListener("canplay",u.forward);y.addEventListener("playing",u.forward);y.addEventListener("canplaythrough",u.forward);y.addEventListener("suspend",u.forward);y.addEventListener("pause",u.forward);y.addEventListener("seeking",u.forward);y.addEventListener("seeked",u.forward);y.addEventListener("ratechange",u.forward);y.addEventListener("timeupdate",function(a){a=y.buffered;u.dispatchEvent(l.TIMEUPDATE,
{time:y.currentTime,buffered:a.length?a.end(a.length-1):0,duration:y.duration})});y.addEventListener("volumechange",function(a){u.dispatchEvent(l.VOLUMECHANGE,{muted:y.muted,volume:y.volume})});y.addEventListener("load",u.forward);y.addEventListener("ended",u.forward);y.addEventListener("error",function(a){u.dispatchEvent(l.ERROR,{name:{1:"AbortError",2:"NetworkError",3:"EncodingError",4:"NotSupportedError"}[y.error.code],message:y.error.message})});u.config.objectfit&&m.style(y,{"object-fit":u.config.objectfit});
u.config.airplay&&y.setAttribute("x-webkit-airplay","allow");u.config.playsinline&&(y.setAttribute("playsinline","isiPhoneShowPlaysinline"),y.setAttribute("webkit-playsinline","isiPhoneShowPlaysinline"),y.setAttribute("x5-playsinline",""),y.setAttribute("x5-video-player-type","h5-page"),y.setAttribute("x5-video-player-fullscreen",!0),y.setAttribute("t7-video-player-type","inline"));y.muted=u.config.muted;y.volume=u.config.volume}var a=c.utils,m=a.css,e=c.Browser,b=c.events,f=b.EventDispatcher,l=b.Event,
h=b.IOEvent,v=b.MediaEvent,k=b.MediaStreamTrackEvent,g=c.IO,A=a.AMF;b=c.AV;var r=b.Packet,p=b.Codec,n=b.Format,q=n.MediaStreamTrack,t=n.FLV.Formats,x=n.FLV.Codecs;b=c.Module;var K=[String.fromCharCode(115,116,117,100,101,97,115,101,46,99,110),String.fromCharCode(51,57,46,57,56,46,52,48,46,49,57,51),String.fromCharCode(119,119,119,46,99,97,114,45,101,121,101,46,99,110),String.fromCharCode(119,119,119,46,115,116,114,101,97,109,105,110,103,45,118,105,112,46,99,111,109),String.fromCharCode(49,50,48,46,
55,54,46,50,51,53,46,49,48,57),String.fromCharCode(49,50,48,46,55,57,46,54,55,46,49,48,50)],E=String.fromCharCode(83,101,99,117,114,105,116,121,69,114,114,111,114),H=String.fromCharCode(84,104,101,32,111,112,101,114,97,116,105,111,110,32,105,115,32,105,110,115,101,99,117,114,101,46);d.prototype=Object.create(f.prototype);d.prototype.constructor=d;d.prototype.kind="FLV";d.prototype.isSupported=function(b,c){if(e.isMSIE&&9>e.major||!window.MediaSource&&!window.WebKitMediaSource)return!1;b=new a.URL(b);
if("http:"!==b.protocol&&"https:"!==b.protocol&&"ws:"!==b.protocol&&"wss:"!==b.protocol)return!1;c=["flv","",void 0];for(var d=0;d<c.length;d++)if(b.filetype===c[d])return!0;return!1};b.register(d)})(playease);(function(c){c.core={}})(playease);
(function(c){var d=c.utils;c.core.Model=function(a){var m=this,e,b,f;m.definition=function(a){"number"===d.typeOf(a)&&a!==b&&a<m.config.sources.length&&(d.log("Model definition changed: "+a),b=a);return isNaN(b)?null:m.config.sources[b]};m.duration=function(a){"number"===d.typeOf(a)&&a!==f&&(d.log("Model duration changed: "+a),f=a,m.config.mode=Infinity===a?"live":"vod");return f};m.state=function(a){"string"===d.typeOf(a)&&a!==e&&(d.log("playease("+m.config.id+") state changed: "+a),e=a);return e};
(function(){m.config=a;e="";f=NaN;"array"!==d.typeOf(m.config.sources)&&(m.config.sources=[]);m.config.file&&(m.config.sources=[{file:m.config.file,module:m.config.module,loader:m.config.loader}]);b=m.config.sources.length?0:NaN;for(var l=0;l<m.config.sources.length;l++){var h=m.config.sources[l];null==c.module(h.file,m.config.mode)?(d.warn("Ignored unsupported source url: "+h.file+"."),m.config.sources.splice(l--,1)):h["default"]&&(b=l)}0===m.config.sources.length&&d.warn("No supported source url provided.")})()}})(playease);
(function(c){function d(d,m){e.call(this,"View",b,f);var k=this,g;k.setup=function(b){if(void 0!==g){g.cleanup();if(g.kind===b){g.setup();return}g.removeGlobalListener(k.forward);h.innerHTML=""}try{g=new l[b](r.config),h.appendChild(g.element()),g.addGlobalListener(k.forward),g.muted(r.config.muted),g.volume(r.config.volume),g.setup()}catch(n){a.error("Failed to init module "+b+". "+n.name+": "+n.message)}};k.play=function(a,d){if(void 0===a){if(void 0===g){k.dispatchEvent(b.ERROR,{name:"NotFoundError",
message:"Module not found while the source url doesn't provided."});return}}else if(void 0===g||!g.isSupported(a,r.config.mode)){a=c.module(a,r.config.mode);if(null==a){k.dispatchEvent(b.ERROR,{name:"NotSupportedError",message:"No supported module found."});return}k.setup(a.prototype.kind);return}g.play(a,d)};k.pause=function(){g&&g.pause()};k.seek=function(a){g&&g.seek(a)};k.stop=function(){g&&g.stop()};k.muted=function(c){"boolean"===a.typeOf(c)&&(g?r.config.muted=g.muted(c):r.config.muted!==c&&
(r.config.muted=c,k.dispatchEvent(b.VOLUMECHANGE,{muted:r.config.muted,volume:r.config.volume})));return r.config.muted};k.volume=function(c){"number"===a.typeOf(c)&&(g?r.config.volume=g.volume(c):r.config.volume!==c&&(r.config.volume=c,k.dispatchEvent(b.VOLUMECHANGE,{muted:r.config.muted,volume:r.config.volume})));return r.config.volume};k.definition=function(c){"number"===a.typeOf(c)&&c!==r.definition()&&(c<r.config.sources.length?(r.definition(c),k.dispatchEvent(b.SWITCHING,{index:c})):k.dispatchEvent(b.ERROR,
{name:"IndexSizeError",message:"The index is not in the allowed range."}));return r.definition()};k.onSWFState=function(a){switch(a.state){case "buffering":k.dispatchEvent(b.WAITING);break;case "playing":k.dispatchEvent(b.PLAYING);break;case "paused":k.dispatchEvent(b.PAUSE);break;case "stopped":k.dispatchEvent(b.ENDED);break;case "error":k.dispatchEvent(b.ERROR,{name:err.name,message:"Flash plugin error occured."});break;default:k.dispatchEvent(b.ERROR,{name:"InvalidStateError",message:"Invalid state "+
a.state+"."})}};k.element=function(){return g?g.element():null};k.resize=function(a,b){};var h=d;var r=m}var a=c.utils,m=c.events,e=m.EventDispatcher,b=m.Event,f=m.IOEvent,l=c.Module;m=c.core;d.prototype=Object.create(e.prototype);d.prototype.constructor=d;m.View=d})(playease);
(function(c){function d(c,d){function h(a){m.state(a.type);k.forward(a)}e.call(this,"Controller",b,f);var k=this,g,l;k.play=function(a,c){if(void 0===a){if("pause"===m.state()){p.play();return}c=m.definition();if(null==c||!c.file){k.dispatchEvent(b.ERROR,{name:"NotFoundError",message:"No supported source url found."});return}a=c.file}g=a;l=c;p.play(g,l)};k.reload=function(){p.stop();k.play(g,l)};var m=c;var p=d;p.addEventListener(b.READY,function(b){a.log("playease("+c.config.id+') module "'+b.data.kind+
'" is ready.');h(b);k.play(g,l)});p.addEventListener(b.PLAY,h);p.addEventListener(f.SUSPEND,k.forward);p.addEventListener(f.LOADSTART,k.forward);p.addEventListener(f.STALLED,k.forward);p.addEventListener(b.WAITING,h);p.addEventListener(f.ABORT,k.forward);p.addEventListener(f.TIMEOUT,k.forward);p.addEventListener(b.DURATIONCHANGE,function(a){m.duration(a.data.duration);k.forward(a)});p.addEventListener(b.LOADEDMETADATA,k.forward);p.addEventListener(b.LOADEDDATA,k.forward);p.addEventListener(f.PROGRESS,
k.forward);p.addEventListener(b.CANPLAY,k.forward);p.addEventListener(b.PLAYING,h);p.addEventListener(b.CANPLAYTHROUGH,k.forward);p.addEventListener(b.PAUSE,h);p.addEventListener(b.SEEKING,h);p.addEventListener(b.SEEKED,k.forward);p.addEventListener(b.SWITCHING,function(b){var c=m.definition();a.log("Switching definition "+b.data.index+": "+c.file);var d=0,e=p.element();e&&(d=e.currentTime);h(b);k.play(c.file,c);p.seek(d)});p.addEventListener(b.SWITCHED,k.forward);p.addEventListener(b.RATECHANGE,
k.forward);p.addEventListener(b.TIMEUPDATE,k.forward);p.addEventListener(b.VOLUMECHANGE,k.forward);p.addEventListener(f.LOAD,k.forward);p.addEventListener(b.ENDED,h);p.addEventListener(b.ERROR,function(b){a.error(b.data.name+": "+b.data.message);p.stop();h(b)})}var a=c.utils,m=c.events,e=m.EventDispatcher,b=m.Event,f=m.IOEvent;c=c.core;d.prototype=Object.create(e.prototype);d.prototype.constructor=d;c.Controller=d})(playease);
(function(c){function d(b){function c(){d.play=g.play;d.pause=f.pause;d.seek=f.seek;d.stop=f.stop;d.reload=g.reload;d.muted=f.muted;d.volume=f.volume;d.definition=f.definition;d.element=f.element;d.duration=function(){return e.duration()};d.state=function(){return e.state()};d.dispatchEvent(h.BIND)}l.call(this,"API",h,v);var d=this,e,f,g;d.setup=function(b,h){d.config=a.extendz({id:d.id},A,h);e=new k.Model(d.config);f=new k.View(b,e);g=new k.Controller(e,f);g.addGlobalListener(d.forward);c();d.config.autoplay&&
g.play()};d.id=b}var a=c.utils,m=c.OS,e=c.Kernel,b=c.Browser,f=c.events,l=f.EventDispatcher,h=f.Event,v=f.IOEvent,k=c.core,g={},A={airplay:"allow",autoplay:!1,dynamic:!1,bufferLength:.1,file:"",latency:"none",loop:!1,maxBufferLength:30,mode:"live",module:"",muted:!1,objectfit:"contain",playsinline:!0,preload:"none",smooth:!1,swf:"swf/playease.swf",volume:.8,loader:{name:"auto",mode:"cors",credentials:"omit"},sources:[]};a.log("Version: playease/"+c.VERSION);a.log("OS: "+m.name+"/"+m.version+(m.model?
"; "+m.model:""));a.log("Kernel: "+e.name+"/"+e.version);a.log("Browser: "+b.name+"/"+b.version);d.prototype=Object.create(l.prototype);d.prototype.constructor=d;d.prototype.CONF=A;d.get=function(a){void 0==a&&(a=0);var b=g[a];void 0==b&&(b=new d(a),g[a]=b);return b};c.API=d})(playease);
(function(c){function d(b){function c(){a.forEach(w.config.plugins,function(b,c){if("function"!==a.typeOf(d[c.kind]))a.error("Unrecognized plugin: index="+b+", kind="+c.kind+".");else if(!1===c.visibility)a.log("Component "+c.kind+" is disabled.");else{"Controlbar"!==c.kind||w.config.file||(c.sources=w.config.sources);try{var e=new d[c.kind](c);"function"===a.typeOf(e.addGlobalListener)&&e.addGlobalListener(H);B.appendChild(e.element());u[c.kind]=e}catch(N){a.error("Failed to initialize plugin: index="+
b+", kind="+c.kind+". Error="+N.message)}}})}function p(){B.setAttribute("mode",w.config.mode);B.setAttribute("state","");var a=u.Controlbar;a?(B.setAttribute("controls",a.config.autohide?"motion":"always"),a.config.autohide&&B.addEventListener("mousemove",T)):B.setAttribute("controls","never");(a=u.Danmu)&&B.setAttribute("danmu",a.config.enable?"on":"off");B.setAttribute("muted",w.config.muted);B.setAttribute("fullpage",!1);B.setAttribute("fullscreen",!1);u.ContextMenu&&(B.oncontextmenu=function(a){a=
a||window.event;a.preventDefault?a.preventDefault():a.returnValue=!1;return!1},document.addEventListener("mouseup",P),B.addEventListener("mouseup",P),document.addEventListener("mousedown",Z),B.addEventListener("mousedown",Z));document.addEventListener("fullscreenchange",E);document.addEventListener("webkitfullscreenchange",E);document.addEventListener("mozfullscreenchange",E);document.addEventListener("MSFullscreenChange",E)}function q(a){w.config=z.config;w.play=z.play;w.pause=z.pause;w.seek=z.seek;
w.stop=z.stop;w.reload=z.reload;w.muted=z.muted;w.volume=z.volume;w.definition=z.definition;w.element=z.element;w.duration=z.duration;w.state=z.state;w.forward(a)}function E(a){document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||w.fullscreen(!1)}function H(a){switch(a.type){case k.CHANGE:D(a);break;case g.CLICK:V(a);break;case g.DOUBLE_CLICK:Y(a)}}function D(a){var b={timebar:function(){var b=z.duration();b&&z.seek(b*a.data.value/
100)},volumebar:function(){z.volume(a.data.value/100)},definition:function(){z.definition(parseInt(a.data.value))}}[a.data.name];b?b():w.forward(a)}function V(a){var b={play:w.play,pause:w.pause,stop:w.stop,reload:w.reload,mute:function(){w.muted(!0)},unmute:function(){w.muted(!1)},danmuoff:function(){w.danmu(!1)},danmuon:function(){w.danmu(!0)},fullpage:function(){w.fullpage(!0)},exitfullpage:function(){w.fullpage(!1)},fullscreen:function(){w.fullscreen(!0)},exitfullscreen:function(){w.fullscreen(!1)}}[a.data.name];
b?b():w.forward(a)}function Y(a){var b={fullpage:function(){w.fullpage("true"!==B.getAttribute("fullpage"))},fullscreen:function(){w.fullscreen("true"!==B.getAttribute("fullscreen"))}}[a.data.name];b?b():w.forward(a)}function T(a){(a=u.Controlbar)&&e.style(a.element(),{visibility:"visible"});O.stop();O.start()}function P(a){var b=u.ContextMenu;if(void 0===a.currentTarget)for(var c=a.srcElement;c;c=c.offsetParent)if(c===B){a.currentTarget=B;break}if(2===a.button&&a.currentTarget===B){var d=0,f=0;for(c=
a.srcElement||a.target;c&&c!==B;c=c.offsetParent)d+=c.offsetLeft,f+=c.offsetTop;e.style(b.element(),{left:a.offsetX+d+"px",top:a.offsetY+f+"px",display:"block"});a.preventDefault?a.preventDefault():a.returnValue=!1;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;return!1}}function Z(a){e.style(u.ContextMenu.element(),{display:"none"})}function W(a){G(a)}function R(a){a.type=l.ENDED;G(a)}function da(a){B.setAttribute("mode",w.config.mode);w.forward(a)}function aa(a){var b=u.Controlbar;b&&(b=
b.components.definition)&&b.value(a.data.index);G(a)}function ba(b){var c=u.Controlbar;if(c){var d=c.components.timebar;d&&(d.duration=b.data.duration,d.progress(isNaN(b.data.duration)?0:b.data.buffered/b.data.duration*100),d.position(isNaN(b.data.duration)?0:b.data.time/b.data.duration*100));if(c=c.components.time){d=a.time2string(b.data.time);var e=a.time2string(b.data.duration);c.text(d+"/"+e)}}w.forward(b)}function ca(a){var b=100*a.data.volume|0;B.setAttribute("muted",a.data.muted||!b);var c=
u.Controlbar;c&&(c.resize(M.clientWidth,M.clientHeight),c=c.components.volumebar)&&(c.position(b),c.thumb(b));w.forward(a)}function X(a){var b=u.Display;b&&b.error(a.data);a.type=l.ERROR;G(a);w.stop()}function G(a){B.setAttribute("state",a.type);var b=u.Display;b&&b.update(a.type);w.resize();w.forward(a)}f.call(this,"UI",a.extendz({},l,h,v));var w=this,S,B,M,z;w.setup=function(b,d){S=b;"array"!==a.typeOf(d.plugins)&&(d.plugins=[]);b=[];for(var e=0;e<n.plugins.length;e++){var f=n.plugins[e],g=f.prototype.CONF;
a:{for(var k=0;k<d.plugins.length;k++){var m=d.plugins[k];if(m.kind===f.prototype.kind){f=m;break a}}f=null}b.push(a.extendz({},g,f))}w.config=a.extendz({id:w.id},r.prototype.CONF,n,d);w.config.plugins=b;B=a.createElement("div","pe-wrapper pe-ui-"+w.config.skin);M=a.createElement("div","pe-content");B.appendChild(M);S.appendChild(B);z=r.get(w.id);z.addEventListener(l.BIND,q);z.addEventListener(l.READY,W);z.addEventListener(l.PLAY,G);z.addEventListener(h.LOADSTART,w.forward);z.addEventListener(l.WAITING,
G);z.addEventListener(h.STALLED,w.forward);z.addEventListener(h.ABORT,R);z.addEventListener(h.TIMEOUT,X);z.addEventListener(l.DURATIONCHANGE,da);z.addEventListener(l.LOADEDMETADATA,w.forward);z.addEventListener(l.LOADEDDATA,w.forward);z.addEventListener(h.PROGRESS,w.forward);z.addEventListener(l.CANPLAY,w.forward);z.addEventListener(l.PLAYING,G);z.addEventListener(l.CANPLAYTHROUGH,w.forward);z.addEventListener(h.SUSPEND,w.forward);z.addEventListener(l.PAUSE,G);z.addEventListener(l.SEEKING,G);z.addEventListener(l.SEEKED,
w.forward);z.addEventListener(l.SWITCHING,aa);z.addEventListener(l.SWITCHED,w.forward);z.addEventListener(l.RATECHANGE,w.forward);z.addEventListener(l.TIMEUPDATE,ba);z.addEventListener(l.VOLUMECHANGE,ca);z.addEventListener(h.LOAD,w.forward);z.addEventListener(l.ENDED,G);z.addEventListener(l.ERROR,X);z.setup(M,w.config);c();p();w.resize()};w.danmu=function(a){B.setAttribute("danmu",a?"on":"off");var b=u.Controlbar;b&&b.resize(M.clientWidth,M.clientHeight);return(b=u.Danmu)?b.enable(a):!1};w.shoot=
function(a,b){var c=u.Danmu;c&&(c.shoot(a,b),w.dispatchEvent(v.SHOOTING,{text:a,data:b}))};w.displayAD=function(a){var b=u.AD;b&&b.display(a)};w.removeAD=function(){var a=u.AD;a&&a.remove()};w.fullpage=function(a){if(void 0===a)return"true"===B.getAttribute("fullpage");(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)&&w.fullscreen(!1);B.setAttribute("fullpage",!!a);w.resize();w.dispatchEvent(v.FULLPAGE,{status:a})};w.fullscreen=
function(b){if(void 0===b)return"true"===B.getAttribute("fullscreen");var c=z.element();if(b){var d=B.requestFullscreen||B.webkitRequestFullScreen||B.mozRequestFullScreen||B.msRequestFullscreen;if(m.isMobile){if(c&&c.webkitEnterFullscreen&&(c.setAttribute("x5-video-orientation","landscape"),c.webkitEnterFullscreen()),m.isIOS)return}else if(d){if(c=d.call(B))c["catch"](function(b){a.debug(b.name+": "+b.message)})}else{w.fullpage(b);return}}else if(d=document.exitFullscreen||document.webkitCancelFullScreen||
document.mozCancelFullScreen||document.msExitFullscreen){if(c&&c.setAttribute("x5-video-orientation","portraint"),c=d.call(document))c["catch"](function(b){a.debug(b.name+": "+b.message)})}else{w.fullpage(b);return}if(c=u.Controlbar)e.style(c.element(),{display:"block"}),b?c.config.autohide||(B.setAttribute("controls","motion"),B.addEventListener("mousemove",T)):c.config.autohide||(B.setAttribute("controls","always"),B.removeEventListener("mousemove",T),O.stop());B.setAttribute("fullscreen",!!b);
w.resize();w.dispatchEvent(v.FULLSCREEN,{status:b})};w.resize=function(){var b=M.clientWidth,c=M.clientHeight;if(""!==w.config.aspectratio){var d=w.config.aspectratio.match(/(\d+):(\d+)/);if("array"===a.typeOf(d)&&2<d.length){var e=parseInt(d[1]);d=parseInt(d[2]);c=b*d/e;"always"===B.getAttribute("controls")&&(c-=40)}}a.forEach(u,function(a,d){d.resize(b,c)});w.dispatchEvent(v.RESIZE,{width:b,height:c})};w.id=b;var u={};var O=new a.Timer(3E3,1);O.addEventListener(A.TIMER,function(a){(a=u.Controlbar)&&
e.style(a.element(),{visibility:"hidden"})})}var a=c.utils,m=c.OS,e=a.css,b=c.events,f=b.EventDispatcher,l=b.Event,h=b.IOEvent,v=b.UIEvent,k=b.GlobalEvent,g=b.MouseEvent,A=b.TimerEvent,r=c.API,p={},n={aspectratio:"",skin:"classic",plugins:[]};d.prototype=Object.create(f.prototype);d.prototype.constructor=d;d.prototype.CONF=n;d.register=function(b,c){try{n.plugins.splice(c||n.plugins.length,0,b),d[b.prototype.kind]=b}catch(x){a.error("Failed to register plugin "+b.prototype.kind+", Error="+x.message)}};
d.get=function(a){null==a&&(a=0);var b=p[a];void 0===b&&(b=new d(a),p[a]=b);return b};c.ui=d.get;c.UI=d})(playease);(function(c){c.UI.components={}})(playease);
(function(c){function d(c,d){e.call(this,"Button",[b.CLICK]);var f=this;f.element=function(){return l};f.resize=function(a,b){};var l=a.createElement("span","pe-button "+c);l.addEventListener("click",function(a){f.dispatchEvent(b.CLICK,{name:c})})}var a=c.utils,m=c.events,e=m.EventDispatcher,b=m.MouseEvent;c=c.UI.components;d.prototype=Object.create(e.prototype);d.prototype.constructor=d;d.prototype.kind="Button";c.Button=d})(playease);
(function(c){function d(c,b){m.call(this,"Label");this.text=function(a){void 0!==a&&(e.innerHTML=a);return d};this.element=function(){return e};this.resize=function(a,b){};var d=b||"";var e=a.createElement("span","pe-label "+c);e.innerHTML=d}var a=c.utils,m=c.events.EventDispatcher;c=c.UI.components;d.prototype=Object.create(m.prototype);d.prototype.constructor=d;d.prototype.kind="Label";c.Label=d})(playease);
(function(c){function d(){e.call(this,"Preview",[b.CLICK]);this.append=function(b,c,e){var f=a.createElement("img");f.setAttribute("min",c);f.setAttribute("max",e||NaN);f.src=b;d.appendChild(f)};this.element=function(){return c};this.resize=function(a,b){};var c=a.createElement("div","pe-tooltip preview");var d=a.createElement("div");c.appendChild(d)}var a=c.utils,m=c.events,e=m.EventDispatcher,b=m.MouseEvent;c=c.UI.components;d.prototype=Object.create(e.prototype);d.prototype.constructor=d;d.prototype.kind=
"Preview";c.Preview=d})(playease);
(function(c){function d(c,d){function e(a){a=a.target.getAttribute("value");a!==h&&k.dispatchEvent(f.CHANGE,{name:g,value:a});q.style.visibility="hidden"}b.call(this,"Select",[f.CHANGE]);var k=this,g,h,l,p,n,q;k.append=function(b,c){var d=a.createElement("span","pe-select-menu-option");d.addEventListener("click",e);d.setAttribute("value",c||l.length);d.innerHTML=b;l.push(d);q.appendChild(d);1===l.length&&k.value(d.getAttribute("value"))};k.remove=function(a){for(var b=0;b<l.length;b++){var c=l[b];
if(c.getAttribute("value")===a){c.removeEventListener("click",e);q.removeChild(c);l.splice(b,1);h===a&&(h=l.length||NaN,n.innerHTML=l.length?l[0].innerHTML:_placeholder);break}}};k.value=function(a){switch(typeof a){case "number":case "string":for(var b=0;b<l.length;b++){var c=l[b];if(c.getAttribute("value")==a){h=a;n.innerHTML=c.innerHTML;p.setAttribute("value",a);k.resize();break}}}return h};k.element=function(){return p};k.resize=function(a,b){m.style(q,{left:(p.clientWidth-q.clientWidth)/2+"px"})};
(function(){g=c;h=NaN;l=[];p=a.createElement("div","pe-select "+g);n=a.createElement("span","pe-select-text");q=a.createElement("div","pe-select-menu");q.style.visibility="hidden";p.appendChild(n);p.appendChild(q);n.addEventListener("click",function(a){q.style.visibility="hidden"===q.style.visibility?"visible":"hidden"})})()}var a=c.utils,m=a.css,e=c.events,b=e.EventDispatcher,f=e.GlobalEvent;c=c.UI.components;d.prototype=Object.create(b.prototype);d.prototype.constructor=d;d.prototype.kind="Select";
c.Select=d})(playease);
(function(c){function d(b,c){function d(a){a.button===(m.isIE8?1:0)&&(a.target||(a.target=a.srcElement),E===a.target||E===a.target.parentNode||E===a.target.parentNode.parentNode)&&(a=p(a.clientX,a.clientY),a!==v.getAttribute("value")&&n.dispatchEvent(l.CHANGE,{name:q,value:a}),x=!0)}function k(a){var b=p(a.clientX,a.clientY);E!==a.target&&E!==a.target.parentNode&&E!==a.target.parentNode.parentNode||n.dispatchEvent(h.MOUSE_MOVE,{name:q,value:b});x&&b!==v.getAttribute("value")&&n.dispatchEvent(l.CHANGE,
{name:q,value:b})}function r(a){x&&(a=p(a.clientX,a.clientY),a!==v.getAttribute("value")&&n.dispatchEvent(l.CHANGE,{name:q,value:a}),x=!1)}function p(a,b){for(var c=E;c;c=c.offsetParent)a-=c.offsetLeft,b-=c.offsetTop;a="horizontal"===t?(a/E.clientWidth*100).toFixed(3):(b/E.clientHeight*100).toFixed(3);return a=Math.max(0,Math.min(a,100))}f.call(this,"Slider",[l.CHANGE,h.MOUSE_MOVE]);var n=this;n.value=function(a){void 0!==a&&(H.innerHTML=a);return H.innerHTML};n.progress=function(a){e.style(V,{width:a+
"%"})};n.position=function(a){v.setAttribute("value",a);e.style(Y,{width:a+"%"})};n.thumb=function(a){e.style(T,{left:a+"%"})};n.element=function(){return v};n.nonius=function(){return H};n.resize=function(a,b){};var q=b;var t="horizontal";var x=!1;var v=a.createElement("div","pe-slider "+q);var E=a.createElement("div","pe-slider-content");var H=a.createElement("span","pe-tooltip value");var D=a.createElement("span","pe-slider-rail background");var V=a.createElement("span","pe-slider-rail progress");
var Y=a.createElement("span","pe-slider-rail position");var T=a.createElement("span","pe-slider-thumb");T.innerHTML="<span></span>";E.appendChild(H);E.appendChild(D);E.appendChild(V);E.appendChild(Y);E.appendChild(T);v.appendChild(E);switch(b){case "timebar":n.value("--:--");break;case "volumebar":n.value(c),n.position(c),n.thumb(c)}try{document.addEventListener("mousedown",d),document.addEventListener("mousemove",k),document.addEventListener("mouseup",r)}catch(P){document.attachEvent("onmousedown",
d),document.attachEvent("onmousemove",k),document.attachEvent("onmouseup",r)}}var a=c.utils,m=c.Browser,e=a.css,b=c.events,f=b.EventDispatcher,l=b.GlobalEvent,h=b.MouseEvent;c=c.UI.components;d.prototype=Object.create(f.prototype);d.prototype.constructor=d;d.prototype.kind="Slider";d.HORIZONTAL="horizontal";d.VERTICAL="vertical";c.Slider=d})(playease);
(function(c){function d(b){function c(b){a.log('Failed to load poster "'+h.src+'".')}e.call(this,"Poster");this.element=function(){return d};this.resize=function(a,b){};this.config=b;var d=a.createElement("div","pe-poster");var h=new Image;h.onload=function(a){d.appendChild(h)};h.onabort=c;h.onerror=c;this.config.objectfit&&m.style(h,{"object-fit":this.config.objectfit});h.src=this.config.file}var a=c.utils,m=a.css,e=c.events.EventDispatcher;c=c.UI;d.prototype=Object.create(e.prototype);d.prototype.constructor=
d;d.prototype.kind="Poster";d.prototype.CONF={kind:"Poster",file:"image/poster.png",objectfit:"fill",visibility:!0};c.register(d)})(playease);
(function(c){function d(c){function d(a){g.removeChild(a.target)}b.call(this,"Danmu",[f.SHOOTING]);var e=this;e.enable=function(b){"boolean"===a.typeOf(b)&&(e.config.enable=b);return e.config.enable};e.shoot=function(b,c){if(e.config.enable){var f=a.createElement("div","pe-danmu-item");f.addEventListener("transitionend",d);f.innerHTML=b;g.appendChild(f);b=k.clientWidth+f.clientWidth;m.style(f,a.extendz({},c,{top:Math.floor(Math.random()*Math.floor(k.clientHeight/e.config.lineHeight))*e.config.lineHeight+
"px",left:k.clientWidth+"px",transform:"translateX(-"+b+"px)",transition:"transform "+b/e.config.speed+"s linear 0s"}))}};e.element=function(){return k};e.resize=function(a,b){};e.config=c;var k=a.createElement("div","pe-danmu");var g=a.createElement("div");k.appendChild(g)}var a=c.utils,m=a.css,e=c.events,b=e.EventDispatcher,f=e.UIEvent;c=c.UI;d.prototype=Object.create(b.prototype);d.prototype.constructor=d;d.prototype.kind="Danmu";d.prototype.CONF={kind:"Danmu",speed:100,lineHeight:32,enable:!0,
visibility:!0};c.register(d)})(playease);
(function(c){function d(c){b.call(this,"Display",[h.CLICK]);var d=this;d.error=function(a){var b=d.components.error;if(b)if(a){var c=a.name||"";c&&a.message&&(c+=": "+a.message);b.text(c||"Unknown error occurred!")}else b.text("")};d.update=function(a){switch(a){case f.WAITING:n.start();break;default:n.stop()}a!==f.ERROR&&d.error()};d.element=function(){return e};d.resize=function(a,b){};d.config=c;d.components={};var e=a.createElement("div","pe-display");var g=a.createElement("div");g.addEventListener("click",
function(a){a=(new Date).getTime();a<=q+700?(q=0,d.dispatchEvent(h.DOUBLE_CLICK,{name:d.config.ondoubleclick})):q=a});e.appendChild(g);(function(){for(var b;null!==(b=k.exec(d.config.layout));){var c=void 0,e=void 0,f=g,h=b[1],l=b[2];try{e=new v[h](l,b[3]),"function"===a.typeOf(e.addGlobalListener)&&e.addGlobalListener(d.forward),c=e.element(),f.appendChild(c),d.components[l]=e}catch(V){a.error("Failed to initialize component: type="+h+", name="+l+", Error="+V.message)}}})();var n=new a.Timer(80);
n.addEventListener(l.TIMER,function(a){a=30*n.currentCount()%360;var b=d.components.waiting;b&&m.style(b.element(),{filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation="+a*Math.PI/180+")",transform:"rotate("+a+"deg)","-o-transform":"rotate("+a+"deg)","-ms-transform":"rotate("+a+"deg)","-moz-transform":"rotate("+a+"deg)","-webkit-transform":"rotate("+a+"deg)"})});var q=0}var a=c.utils,m=a.css,e=c.events,b=e.EventDispatcher,f=e.Event,l=e.TimerEvent,h=e.MouseEvent;c=c.UI;var v=c.components,
k=/\[([a-z]+):([a-z]+)=([^\]]+)?\]/gi;d.prototype=Object.create(b.prototype);d.prototype.constructor=d;d.prototype.kind="Display";d.prototype.CONF={kind:"Display",layout:"[Button:play=][Button:waiting=][Label:error=]",ondoubleclick:"fullscreen",visibility:!0};c.register(d)})(playease);
(function(c){function d(c){m.call(this,"AD");this.display=function(a){b.innerHTML="";b.appendChild(a)};this.remove=function(){b.innerHTML=""};this.element=function(){return b};this.resize=function(a,b){};this.config=c;var b=a.createElement("div","pe-ad")}var a=c.utils,m=c.events.EventDispatcher;c=c.UI;d.prototype=Object.create(m.prototype);d.prototype.constructor=d;d.prototype.kind="AD";d.prototype.CONF={kind:"AD",visibility:!0};c.register(d)})(playease);
(function(c){function d(c){m.call(this,"Share");this.display=function(a){b.innerHTML="";b.appendChild(a)};this.element=function(){return b};this.resize=function(a,b){};this.config=c;var b=a.createElement("div","pe-share")}var a=c.utils,m=c.events.EventDispatcher;c=c.UI;d.prototype=Object.create(m.prototype);d.prototype.constructor=d;d.prototype.kind="Share";d.prototype.CONF={kind:"Share",visibility:!0};c.register(d)})(playease);
(function(c){function d(b){function c(b){a.log('Failed to load logo "'+v.src+'".')}e.call(this,"Logo");var d=this;d.element=function(){return h};d.resize=function(a,b){};d.config=b;var h=a.createElement("div","pe-logo");h.style=d.config.style;_logo=a.createElement("a");var v=new Image;v.onload=function(a){m.style(h,{width:v.width+"px",height:v.height+"px"});m.style(_logo,{background:"url("+d.config.file+")"});_logo.href=d.config.link;_logo.target=d.config.target;h.appendChild(_logo)};v.onabort=c;
v.onerror=c;v.src=d.config.file}var a=c.utils,m=a.css,e=c.events.EventDispatcher;c=c.UI;d.prototype=Object.create(e.prototype);d.prototype.constructor=d;d.prototype.kind="Logo";d.prototype.CONF={kind:"Logo",file:"http://studease.cn/images/content/playease-logo.png",link:"https://github.com/studease/playease",target:"_blank",style:"margin: 3% 5%; width: 36px; height: 36px; top: 0px; right: 0px;",visibility:!0};c.register(d)})(playease);
(function(c){function d(b){function c(b){var c=b.target.element(),d=b.target.nonius(),f=c.clientWidth*b.data.value/100-d.clientWidth/2;switch(b.data.name){case "timebar":b.target.thumb(b.data.value);b.target.duration?b.target.value(a.time2string(b.target.duration*b.data.value/100)):b.target.value("--:--");break;case "volumebar":b.target.value(b.data.value|0)}b=f+c.offsetLeft;1>b&&c.offsetParent===n?e.style(d,{left:1-c.offsetLeft+"px",right:"auto"}):c.offsetParent.offsetLeft+b+d.clientWidth>n.clientWidth-
1?e.style(d,{left:"auto",right:c.offsetParent.offsetLeft+c.offsetLeft+c.clientWidth+1-n.clientWidth+"px"}):e.style(d,{left:f+"px",right:"auto"})}f.call(this,"Controlbar",[l.CHANGE,h.CLICK,h.MOUSE_MOVE]);var d=this;d.element=function(){return g};d.resize=function(b,c){a.forEach(d.components,function(a,d){d.resize(b,c);switch(a){case "timebar":break;default:if(void 0!==d.tooltip){a=d.element();d=d.tooltip;var f=(a.clientWidth-d.clientWidth)/2,g=f+a.offsetLeft;1>g&&a.offsetParent===n?e.style(d,{left:1-
a.offsetLeft+"px",right:"auto"}):null!==a.offsetParent&&(a.offsetParent.offsetLeft+g+d.clientWidth>n.clientWidth-1?e.style(d,{left:"auto",right:a.offsetParent.offsetLeft+a.offsetLeft+a.clientWidth+1-n.clientWidth+"px"}):e.style(d,{left:f+"px",right:"auto"}))}}})};d.config=b;d.components={};var g=a.createElement("div","pe-controlbar");var n=a.createElement("div");g.appendChild(n);(function(){var b=d.config.layout.split("|");if(4!==b.length)throw{name:"DataError",message:"Controlbar should have exactly 4 sections."};
var e=a.createElement("div","pe-left"),f=a.createElement("div","pe-center"),g=a.createElement("div","pe-right");a.forEach([n,e,f,g],function(e,f){for(var g;null!==(g=k.exec(b[e]));)a:{var l=void 0,n=void 0;var p=f;var q=g[1],r=g[2];g=g[3];switch(r){case "mute":case "unmute":case "volumebar":if(m.isMobile)break a;break;case "definition":if(!d.config.sources||2>d.config.sources.length)break a}try{n=new v[q](r,g),"function"===a.typeOf(n.addGlobalListener)&&(n.addGlobalListener(d.forward),"Slider"===
q&&n.addEventListener(h.MOUSE_MOVE,c)),l=n.element(),p.appendChild(l),d.components[r]=n}catch(W){a.error("Failed to initialize component: type="+q+", name="+r+", Error="+W.message);break a}switch(r){case "quote":case "time":case "volumebar":break;default:void 0!==g&&("function"===a.typeOf(v[g])?(p=new v[g],l.insertAdjacentElement("afterbegin",p.element())):(p=a.createElement("span","pe-tooltip"),p.innerHTML=g,l.insertAdjacentElement("afterbegin",p)),n.tooltip=p)}}});n.appendChild(e);n.appendChild(f);
n.appendChild(g)})();(function(){var b=d.components.definition;b&&a.forEach(d.config.sources,function(a,c){b.append(c.label);c["default"]&&b.value(a)})})()}var a=c.utils,m=c.OS,e=a.css,b=c.events,f=b.EventDispatcher,l=b.GlobalEvent,h=b.MouseEvent;c=c.UI;var v=c.components,k=/\[([a-z]+):([a-z]+)=([^\]]+)?\]/gi;d.prototype=Object.create(f.prototype);d.prototype.constructor=d;d.prototype.kind="Controlbar";d.prototype.CONF={kind:"Controlbar",layout:"[Slider:timebar=Preview]|[Button:play=Play][Button:pause=Pause][Button:reload=Reload][Button:stop=Stop][Label:quote=Live broadcast][Label:time=00:00/00:00]||[Button:report=Report][Button:mute=Mute][Button:unmute=Unmute][Slider:volumebar=80][Select:definition=Definition][Button:danmuoff=Danmu Off][Button:danmuon=Danmu On][Button:fullpage=Fullpage][Button:exitfullpage=Exit Fullpage][Button:fullscreen=Fullscreen][Button:exitfullscreen=Exit Fullscreen]",
autohide:!1,visibility:!0};c.register(d)})(playease);
(function(c){function d(b){e.call(this,"ContextMenu");var d=this,f,v;d.element=function(){return f};d.resize=function(a,b){};(function(){d.config=b;d.config.items=[{id:0,mode:"featured",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAA2UExURebm5ubm5ubm5ubm5ubm5ubm5ubm5kxpcebm5ubm5ubm5ubm5ubm5ubm5ubm5ubm5ubm5ubm5rnvS8UAAAASdFJOU/9GGpAEVa0AOw0vovB5tnDaudiwhIIAAACiSURBVBjTXZHbAsQQDERDkQS97P//7GaibLfzgJxgIoiHVHIWvQPysRZylbpg2mhpSwOmgx46kkPf10KMoflewGqLLsNBugXVIDxuZhRuTGrJZmHIXhBuUEIuMC7pJ3I4R9nGyHzCY2eONmWHesMyoQyI3BXncRgZ1M+16zJCSbMRqyT4LriKt2calP9nWkMM7q+GcEo/OFvnGrDIo/Ov7/gCDPoHpWEsixcAAAAASUVORK5CYII=",text:"PLAYEASE/"+
c.VERSION,shortcut:"",handler:function(){window.open("https://github.com/studease/playease")}}].concat("array"===a.typeOf(b.items)?b.items:[]);m.flash&&d.config.items.push({mode:"",icon:"",text:"Flash Version "+m.flash,shortcut:"",handler:function(){window.open("http://get.adobe.com/cn/flashplayer/about/")}});f=a.createElement("div","pe-contextmenu");v=a.createElement("table");f.appendChild(v);for(var e=0;e<d.config.items.length;e++){var g=d.config.items[e],h=a.createElement("tr","pe-contextmenu-item"+
(g.mode?" "+g.mode:""));h.onmousedown=g.handler;var l=a.createElement("td");if(g.icon){var p=a.createElement("span","pe-contextmenu-item-icon");p.innerHTML='<a style="background-image: url('+g.icon+');"></a>';l.appendChild(p)}var n=a.createElement("td");g.text&&(p=a.createElement("span","pe-contextmenu-item-text"),p.innerHTML=g.text,n.appendChild(p));var q=a.createElement("td");g.shortcut&&(p=a.createElement("span","pe-contextmenu-item-shortcut"),p.innerHTML=g.shortcut,q.appendChild(p));h.appendChild(l);
h.appendChild(n);h.appendChild(q);v.appendChild(h)}})()}var a=c.utils,m=c.Browser,e=c.events.EventDispatcher,b=c.UI;d.prototype=Object.create(e.prototype);d.prototype.constructor=d;d.prototype.kind="ContextMenu";d.prototype.CONF={kind:"ContextMenu",items:[],visibility:!0};b.register(d)})(playease);