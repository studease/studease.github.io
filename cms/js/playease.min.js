playease=function(){if(playease.API)return playease.API.get.apply(this,arguments)};playease.VERSION="2.1.21";playease.DEBUG=!1;
(function(t){var k={extendz:function(){var l=Array.prototype.slice.call(arguments,0),h=l[0];switch(k.typeOf(h)){case "null":case "number":case "string":throw{name:"TypeError",message:"Could not extend to type "+k.typeOf(h)+"."};}for(var a=1;a<l.length;a++){var c=l[a];switch(k.typeOf(c)){case "null":case "number":case "string":t.DEBUG&&k.warn("Could not extend from type "+k.typeOf(c));break;case "array":k.forEach(c,function(p,d){switch(k.typeOf(d)){case "object":h.push(k.extendz({},d));break;case "array":h.push(k.extendz([],
d));break;default:"array"===k.typeOf(h)?h.push(d):h[p]=d}});break;default:k.forEach(c,function(p,d){switch(k.typeOf(d)){case "object":switch(k.typeOf(h[p])){case "null":case "number":case "string":h[p]={}}h[p]=k.extendz(h[p],d);break;case "array":h[p]=k.extendz([],d);break;default:h[p]=d}})}}return h},forEach:function(l,h){for(var a in l)l.hasOwnProperty&&"function"===k.typeOf(l.hasOwnProperty)?l.hasOwnProperty(a)&&h(a,l[a]):h(a,l[a])},getCookie:function(l){var h;return(h=document.cookie.match(new RegExp("(^| )"+
l+"=([^;]*)(;|$)")))?unescape(h[2]):null},padStart:function(l,h,a){for(l+="";l.length<h;)l=a+l;return l},padEnd:function(l,h,a){for(l+="";l.length<h;)l+=a;return l},hex:function(l){return"0x"+k.padStart(l.toString(16),2,"0")},time2string:function(l){var h="",a=l/3600|0,c=l%3600/60|0;l=l%60|0;a&&(h+=k.padStart(a,2,"0")+":");return h+=k.padStart(c,2,"0")+":"+k.padStart(l,2,"0")},formatBytes:function(l){for(var h=["B","KB","MB","GB","TB"],a=0;a<h.length;a++){if(1024>l||a===h.length-1)return l.toFixed(3)+
" "+h[a];l/=1024}return l+" B"},typeOf:function(l){if(null===l||void 0===l)return"null";var h=typeof l;if("object"===h)try{var a=Object.prototype.toString.call(l).match(/^\[object ([a-z]+)\]$/i);if(a&&1<a.length&&a[1])return a[1].toLowerCase()}catch(c){}return h},trim:function(l){return l.replace(/^\s+|\s+$/g,"")},indexOf:function(l,h){if("array"===k.typeOf(l))for(var a=0;a<l.length;a++)if(l[a]===h)return a;return-1},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var h=
16*Math.random()|0;return("x"===l?h:h&3|8).toString(16)})}};void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52));void 0===Number.MAX_SAFE_INTEGER&&(Number.MAX_SAFE_INTEGER=Math.pow(2,53)-1);void 0===Number.MIN_SAFE_INTEGER&&(Number.MIN_SAFE_INTEGER=-1*Number.MAX_SAFE_INTEGER);k.equal=function(l,h){return Math.abs(l-h)<Number.EPSILON};k.createElement=function(l,h){l=document.createElement(l);h&&(l.className=h);return l};k.addClass=function(l,h){var a="string"===k.typeOf(l.className)?l.className.split(" "):
[];h="array"===k.typeOf(h)?h:h.split(" ");k.forEach(h,function(c,p){-1===k.indexOf(a,p)&&a.push(p)});l.className=k.trim(a.join(" "))};k.hasClass=function(l,h){l=l.className||"";h="array"===k.typeOf(h)?h:h.split(" ");for(var a=0;a<h.length;a++)if(-1===l.search(new RegExp("\\b"+h[a]+"\\b","i")))return!1;return!0};k.removeClass=function(l,h){var a="string"===k.typeOf(l.className)?l.className.split(" "):[];h="array"===k.typeOf(h)?h:h.split(" ");k.foreach(h,function(c,p){c=k.indexOf(a,p);0<=c&&a.splice(c,
1)});l.className=k.trim(a.join(" "))};k.emptyElement=function(l){for(;l.firstChild;)l.removeChild(l.firstChild)};var b=window.console||{log:function(){},warn:function(){},error:function(){}};k.debug=function(){t.DEBUG&&k.log.apply(k,arguments)};k.log=function(){var l=Array.prototype.slice.call(arguments,0);"object"===typeof b?b.log.apply(b,l):b.log(l)};k.warn=function(){var l=Array.prototype.slice.call(arguments,0);"object"===typeof b?b.warn.apply(b,l):b.warn(l)};k.error=function(){var l=Array.prototype.slice.call(arguments,
0);"object"===typeof b?b.error.apply(b,l):b.error(l)};t.utils=k})(playease);
(function(t){function k(a){var c=this;c.set=function(p,d,u){switch(c.type){case h.DOUBLE:if("number"!==l.typeOf(d))throw{name:"TypeError",message:"Value should be number."};break;case h.BOOLEAN:if("boolean"!==l.typeOf(d))throw{name:"TypeError",message:"Value should be boolean."};case h.STRING:case h.LONG_STRING:if("string"!==l.typeOf(d))throw{name:"TypeError",message:"Value should be string."};break;case h.OBJECT:case h.ECMA_ARRAY:if("array"!==l.typeOf(d))throw{name:"TypeError",message:"Value should be array."};
for(u=0;u<d.length;u++){var g=d[u];c.table[g.key]=g}break;case h.STRICT_ARRAY:if("array"!==l.typeOf(d))throw{name:"TypeError",message:"Value should be array."};break;case h.DATE:if("number"!==l.typeOf(d))throw{name:"TypeError",message:"Value should be number."};if("number"!==l.typeOf(u))throw{name:"TypeError",message:"Offset not presented."};c.offset=u;break;case h.NULL:case h.UNDEFINED:if("null"!==l.typeOf(d))throw{name:"TypeError",message:"Value should be null."};break;default:throw{name:"TypeError",
message:"Unrecognized amf type "+c.type+"."};}c.key=p;c.value=d;return c};c.get=function(){switch(c.type){case h.DATE:return new Date(c.value+6E4*c.offset);default:return c.value}};c.type=a;c.key="";c.value=null;c.table={};c.offset=0;c.ended=!1}function b(a,c){for(var p=0,d=0;d<c.value.length;d++){var u=c.value[d];u.key&&(u=crypt.stringToByteArray(u.key),a.WriteUint16(u.length,!1),a.Write(u),p+=2+u.length);p+=h.encode(a,c)}return p}var l=t.utils,h={DOUBLE:0,BOOLEAN:1,STRING:2,OBJECT:3,MOVIE_CLIP:4,
NULL:5,UNDEFINED:6,REFERENCE:7,ECMA_ARRAY:8,END_OF_OBJECT:9,STRICT_ARRAY:10,DATE:11,LONG_STRING:12,UNSUPPORTED:13,RECORD_SET:14,XML:15,TYPED_OBJECT:16,AMF3_DATA:17,decode:function(a,c,p){if(1>c.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf Value."};var d=0,u=new DataView(c,p);a.type=u.getUint8(d);d+=1;u={0:h.decodeDouble,1:h.decodeBoolean,2:h.decodeString,3:h.decodeObject,5:h.decodeNull,6:h.decodeUndefined,8:h.decodeECMAArray,9:h.decodeEndOfObject,10:h.decodeStrictArray,
11:h.decodeDate,12:h.decodeLongString}[a.type];if(!u)throw{name:"TypeError",message:"Unrecognized amf type "+a.type+"."};return d+=u(a,c,p+d)},decodeDouble:function(a,c,p){if(8>c.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf double."};c=new DataView(c,p);a.value=c.getFloat64(0);return 8},decodeBoolean:function(a,c,p){if(1>c.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf boolean."};c=new DataView(c,p);a.value=!!c.getUint8(0);return 1},
decodeString:function(a,c,p){if(2>c.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf string."};var d=0,u=(new DataView(c,p)).getUint16(d);d+=2;0<u?(a.value=String.fromCharCode.apply(String,new Uint8Array(c,p+d,u)),d+=u):a.value="";return d},decodeObject:function(a,c,p){if(3>c.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf object."};var d=0,u=c.byteLength-p;for(a.value=[];d<u;){var g=new k;d+=h.decodeString(g,c,p+d);g.key=g.get();d+=h.decode(g,
c,p+d);if(g.type===h.END_OF_OBJECT)break;a.value.push(g);a.table[g.key]=g}return d},decodeNull:function(a,c,p){a.value=null;return 0},decodeUndefined:function(a,c,p){a.value=void 0;return 0},decodeECMAArray:function(a,c,p){if(4>c.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf ecma array."};var d=4;return d+=h.decodeObject(a,c,p+d)},decodeEndOfObject:function(a,c,p){a.ended=!0;return 0},decodeStrictArray:function(a,c,p){if(4>c.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf strict array."};
var d=0,u=new DataView(c,p),g=u.getUint32(d);d+=4;var f=c.byteLength-p;a.value=[];for(var n=0;n<g&&d<f;n++){var v=new k;d+=h.decode(v,c,p+d);a.value.push(v)}d+3<=f&&0===u.getUint8(d)&&0===u.getUint8(d+1)&&u.getUint8(d+2)===h.END_OF_OBJECT&&(a.ended=!0,d+=3);return d},decodeDate:function(a,c,p){if(10>c.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf date."};var d=0;c=new DataView(c,p);a.Timestamp=c.getFloat64(d);d+=8;a.Timeoffset=c.getInt16(d);return d+2},decodeLongString:function(a,
c,p){if(4>c.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf long string."};var d=0,u=(new DataView(c,p)).getUint32(d);d+=4;0<u&&(a.value=String.fromCharCode.apply(String,new Uint8Array(c,p+d,u)),d+=u);return d},appendBytes:function(a,c){a.Write(c)},appendInt8:function(a,c){a.writeInt8(c)},appendInt16:function(a,c,p){a.WriteInt16(c,p)},appendInt32:function(a,c,p){a.WriteInt32(c,p)},appendUint8:function(a,c){a.writeUint8(c)},appendUint16:function(a,c,p){a.WriteUint16(c,
p)},appendUint32:function(a,c,p){a.WriteUint32(c,p)},encode:function(a,c){var p={0:h.encodeDouble,1:h.encodeBoolean,2:h.encodeString,3:h.encodeObject,5:h.encodeNull,6:h.encodeUndefined,8:h.encodeECMAArray,10:h.encodeStrictArray,11:h.encodeDate,12:h.encodeLongString}[c.type];if(!p)throw{name:"TypeError",message:"Unrecognized amf type "+c.type+"."};return p(a,c)},encodeNumber:function(a,c){a.WriteUint8(h.DOUBLE);a.WriteFloat64(c.value,!1);return 9},encodeBoolean:function(a,c){a.WriteUint8(h.BOOLEAN);
a.WriteUint8(c.value?1:0);return 2},encodeString:function(a,c){if(!c.value)return 0;if(65535<=c.value.length)return h.encodeLongString(a,c);c=crypt.stringToByteArray(c.value);a.WriteUint8(h.STRING);a.WriteUint16(c.length,!1);a.Write(c);return 3+c.length},encodeObject:function(a,c){var p=1;a.WriteUint8(h.OBJECT);p+=b(c);c.ended&&(a.WriteUint16(0),a.WriteUint8(h.END_OF_OBJECT),p+=3);return p},encodeNull:function(a,c){a.WriteUint8(h.NULL);return 1},encodeUndefined:function(a,c){a.WriteUint8(h.UNDEFINED);
return 1},encodeECMAArray:function(a,c){var p=3;a.WriteUint8(h.ECMA_ARRAY);a.WriteUint32(c.value.length,!1);return p+=b(a,c)},encodeStrictArray:function(a,c){var p=3;a.WriteUint8(h.STRICT_ARRAY);a.WriteUint32(c.value.length,!1);return p+=b(a,c)},encodeDate:function(a,c){a.WriteUint8(h.DATE);a.WriteFloat64(c.value,!1);a.WriteUint16(c.offset,!1);return 11},encodeLongString:function(a,c){if(!c.value)return 0;c=crypt.stringToByteArray(c.value);a.WriteUint8(h.LONG_STRING);a.WriteUint32(c.length,!1);a.Write(c);
return 5+c.length}};h.Value=k;l.AMF=h})(playease);
(function(t){t=t.utils;t.MIN_UINT32=0;t.MAX_UINT32=4294967295;t.MAX_INT32=2147483647;t.MIN_INT32=-2147483648;t.MIN_CACHE_BITS=25;t.BitStream=function(k){var b=this;b.ShowBits=function(c){if(0===c)return 0;var p=a>>>3,d=0;a<h&&(d=l.getUint8(p)<<24);a+8<h&&(d|=l.getUint8(p+1)<<16);a+16<h&&(d|=l.getUint8(p+2)<<8);a+24<h&&(d|=l.getUint8(p+3));return d<<(a&7)>>>32-c};b.ShowBitsLong=function(c){return 25>=c?b.ShowBits(c):b.ShowBits(16)<<c-16|b.ShowBits(c-16)};b.ReadBits=function(c){var p=b.ShowBits(c);
a+=c;return p};b.ReadBitsLong=function(c){var p=b.ShowBitsLong(c);a+=c;return p};b.SkipBits=function(c){a+=c};b.Left=function(){return h-a};var l=new DataView(k.buffer,k.byteOffset,k.byteLength);var h=8*k.byteLength;var a=0}})(playease);
(function(t){var k=new function(){function b(){return c.match(/(Chrome|CriOS)\/((\d+)\.(\d+)(?:\.\d+)*)/)}function l(){if(!a.isWindows)return 0;var p=navigator.plugins;if(p){var d=p["Shockwave Flash"];if(d&&d.description){var u=d.description.replace(/\D+(\d+\.?\d*).*/,"$1");return parseFloat(u)}}if("undefined"!==typeof window.ActiveXObject)try{return d=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"),u=d.GetVariable("$version").split(" ")[1].replace(/\s*,\s*/,"."),parseFloat(u)}catch(g){}return 0}
function h(){return void 0!==window.orientation?90===window.orientation||-90===window.orientation:window.innerWidth>window.innerHeight}var a=this;var c=navigator.userAgent;a.OS={name:"",version:"",major:NaN,minor:NaN};a.Kernel={name:"",version:"",major:NaN,minor:NaN};a.Browser={name:"",version:"",major:NaN,minor:NaN};(function(){var p=c.match(/(Windows)\sNT\s((\d+)\.(\d+))/);if(p)switch(p[2]){case "6.3":p=["Windows 8.1","Windows","8.1","8","1"];break;case "6.2":p=["Windows 8.0","Windows","8.0","8",
"0"];break;case "6.1":p=["Windows 7.0","Windows","7.0","7","0"]}if(p=p||c.match(/(Mac)\sOS\sX\s((\d+)[\._](\d+)(?:[\._]\d+)*)/)||c.match(/(Android)(?:\s((\d+)(?:\.(\d+))?(?:\.(\d+))*))?/)||c.match(/(iP(?:hone|ad|od)).*\s((\d+)_(\d+)(?:_\d+)*)/)||c.match(/(Windows\sPhone)(?:\sOS)?\s((\d+)\.(\d+)(?:\.\d+)*)/))a.OS.name=p[1]||"",a.OS.version=(p[2]||"").replace(/_/g,"."),a.OS.major=parseInt(p[3]),a.OS.minor=parseInt(p[4]);a.OS.isWindows="Windows"===a.OS.name;a.OS.isMac="Mac"===a.OS.name;a.OS.isAndroid=
"Android"===a.OS.name;a.OS.isIOS="iPhone"===a.OS.name||"iPad"===a.OS.name||"iPod"===a.OS.name;a.OS.isWindowsPhone="Windows Phone"===a.OS.name;a.OS.isMobile=a.OS.isAndroid||a.OS.isIOS||a.OS.isWindowsPhone;a.OS.isHorizontal=h})();(function(){var p=a.OS.isAndroid&&c.match(/;\s(([-a-z\d\s]+)(?:\sBuild\/([-a-z\d\.\s]+))?)(?:;\swv|\))/i);p&&(a.OS.model=p[1],a.OS.brand=p[2],a.OS.build=p[3])})();(function(){var p=!a.OS.isIOS&&b()||c.match(/(AppleWebKit)\/((\d+)\.(\d+)(?:\.\d+)*)/)||c.match(/(Gecko)\/((\d+)(?:\.(\d+))?(?:\d+)*)/)||
c.match(/(Presto)\/((\d+)\.(\d+)(?:\.\d+)*)/)||c.match(/(Trident)\/((\d+)\.(\d+)(?:\.\d+)*)/);p&&(a.Kernel.name=p[1]||"",a.Kernel.version=p[2]||"",a.Kernel.major=parseInt(p[3]),a.Kernel.minor=parseInt(p[4]));a.Kernel.isChrome="Chrome"===a.Kernel.name;a.Kernel.isAppleWebKit="AppleWebKit"===a.Kernel.name;a.Kernel.isGecko="Gecko"===a.Kernel.name;a.Kernel.isPresto="Presto"===a.Kernel.name;a.Kernel.isTrident="Trident"===a.Kernel.name})();(function(){var p;(p=c.match(/(MSIE)\s((\d+)\.(\d+))/)||c.match(/(Trident)\/.+rv:((11)\.(\d+))/i)||
c.match(/(Firefox)\/((\d+)\.(\d+)(?:\.\d+)*)/)||c.match(/(OPR|OPiOS|Opera\sMini)\/((\d+)\.(\d+)(?:\.\d+)*)/)||c.match(/(UCBrowser)\/((\d+)\.(\d+)(?:\.\d+)*)/)||c.match(/(MicroMessenger)\/((\d+)\.(\d+)(?:\.\d+)*)/)||c.match(/(QQ)\/((\d+)\.(\d+)(?:\.\d+)*)/)||c.match(/([M]?QQBrowser)\/((\d+)\.(\d+)(?:\.\d+)*)/)||c.match(/(MetaSr|SogouMobileBrowser)[\s\/]((\d+)\.(\d+)(?:\.\d+)*)/)||c.match(/(QihooBrowser|360browser)(?:\/((\d+)\.(\d+)(?:\.\d+)*))?/)||c.match(/(Electron)(?:\/((\d+)\.(\d+)(?:\.\d+)*))?/)||
c.match(/(Edg|Edge|EdgA)\/((\d+)\.(\d+)(?:\.\d+)*)/)||b())||(p=a.OS.isAndroid||b()||!c.match(/Safari/)?null:(p=c.match(/Version\/((\d+)\.(\d+)(?:\.\d+)*)/))?["Safari/"+p[1],"Safari"].concat(p.slice(1)):null);if(p=p||c.match(/\s([a-z\d]+Browser)\/((\d+)\.(\d+)(?:\.\d+)*)/i)||c.match(/\s([a-z\d]+)\/((\d+)\.(\d+)(?:\.\d+)*)$/i))a.Browser.name=p[1]||"",a.Browser.version=p[2]||"",a.Browser.major=parseInt(p[3]),a.Browser.minor=parseInt(p[4]);a.Browser.isMSIE="MSIE"===a.Browser.name;a.Browser.isIE8="MSIE"===
a.Browser.name&&8===a.Browser.major;a.Browser.isIE9="MSIE"===a.Browser.name&&9===a.Browser.major;a.Browser.isIE10="MSIE"===a.Browser.name&&10===a.Browser.major;a.Browser.isIE11="Trident"===a.Browser.name;a.Browser.isIE=a.Browser.isMSIE||a.Browser.isIE11;a.Browser.isFirefox="Firefox"===a.Browser.name;a.Browser.isOpera="OPR"===a.Browser.name||"OPiOS"===a.Browser.name||"Opera Mini"===a.Browser.name;a.Browser.isUCBrowser="UCBrowser"===a.Browser.name;a.Browser.isWeChat="MicroMessenger"===a.Browser.name;
a.Browser.isQQ="QQ"===a.Browser.name;a.Browser.isQQBrowser="QQBrowser"===a.Browser.name||"MQQBrowser"===a.Browser.name;a.Browser.isSogou="MetaSr"===a.Browser.name||"SogouMobileBrowser"===a.Browser.name;a.Browser.is360="QihooBrowser"===a.Browser.name;a.Browser.isElectron="Electron"===a.Browser.name;a.Browser.isEdg="Edg"===a.Browser.name;a.Browser.isEdge="Edge"===a.Browser.name;a.Browser.isEdgA="EdgA"===a.Browser.name;a.Browser.isChrome="Chrome"===a.Browser.name;a.Browser.isCriOS="CriOS"===a.Browser.name;
a.Browser.isSafari="Safari"===a.Browser.name;a.Browser.flash=l()})()};t.OS=k.OS;t.Kernel=k.Kernel;t.Browser=k.Browser})(playease);
(function(t){var k=t.utils;k.crypt={stringToByteArray:function(b){for(var l=[],h=0,a=0;a<b.length;a++){for(var c=b.charCodeAt(a);255<c;)l[h++]=c&255,c>>=8;l[h++]=c}return l},byteArrayToString:function(b){if(8192>=b.length)return String.fromCharCode.apply(null,b);for(var l="",h=0;h<b.length;h+=8192){var a=Array.slice(b,h,h+8192);l+=String.fromCharCode.apply(null,a)}return l},byteArrayToHex:function(b){return Array.map(b,function(l){return k.padStart(l.toString(16),2,0)}).join("")},hexToByteArray:function(b){if(0!==
b.length%2)return k.error("Key string length must be multiple of 2."),null;for(var l=[],h=0;h<b.length;h+=2)l.push(parseInt(b.substring(h,h+2),16));return l},stringToUTF8ByteArray:function(b){for(var l=[],h=0,a=0;a<b.length;a++){var c=b.charCodeAt(a);128>c?l[h++]=c:(2048>c?l[h++]=c>>6|192:(55296===(c&64512)&&a+1<b.length&&56320===(b.charCodeAt(a+1)&64512)?(c=65536+((c&1023)<<10)+(b.charCodeAt(++a)&1023),l[h++]=c>>18|240,l[h++]=c>>12&63|128):l[h++]=c>>12|224,l[h++]=c>>6&63|128),l[h++]=c&63|128)}return l},
UTF8ByteArrayToString:function(b){for(var l=[],h=0,a=0;h<b.length;){var c=b[h++];if(128>c)l[a++]=String.fromCharCode(c);else if(191<c&&224>c){var p=b[h++];l[a++]=String.fromCharCode((c&31)<<6|p&63)}else if(239<c&&365>c){p=b[h++];var d=b[h++],u=b[h++];c=((c&7)<<18|(p&63)<<12|(d&63)<<6|u&63)-65536;l[a++]=String.fromCharCode(55296+(c>>10));l[a++]=String.fromCharCode(56320+(c&1023))}else p=b[h++],d=b[h++],l[a++]=String.fromCharCode((c&15)<<12|(p&63)<<6|d&63)}return l.join("")},XORByteArray:function(b,
l){if(b.length!==l.length)k.error("XOR array lengths must match.");else{for(var h=[],a=0;a<b.length;a++)h.push(b[a]^l[a]);return h}}}})(playease);
(function(t){function k(a,c){h||(h=b());var p="";l.foreach(c,function(d,u){p+=d+": "+u+"; "});try{h.insertRule?h.insertRule(a+" { "+p+"}",h.cssRules.length):h.addRule(a,p,h.rules.length)}catch(d){l.error("Failed to insert css rule: "+a)}}function b(){var a=document.createElement("style");a.type="text/css";document.getElementsByTagName("head")[0].appendChild(a);return a.sheet||a.styleSheet}var l=t.utils,h;k.style=function(a,c,p){if(void 0!==a&&null!==a)for(void 0===a.length&&(a=[a]),c=l.extendz({},
c),p=0;p<a.length;p++){var d=a[p];void 0!==d&&null!==d&&l.forEach(c,function(u,g){u=u.split("-");for(var f=1;f<u.length;f++)u[f]=u[f].charAt(0).toUpperCase()+u[f].slice(1);u=u.join("");d.style[u]!==g&&(d.style[u]=g)})}};l.css=k})(playease);
(function(t){t=t.utils;t.LITTLE_ENDIAN=function(){try{var k=new ArrayBuffer(2);(new DataView(k)).setInt16(0,256,!0);var b=new Int16Array(k)}catch(l){}return b&&256===b[0]}();t.getUint32=function(k,b,l){void 0===b&&(b=0);return l?k[b+0]|k[b+1]>>>8|k[b+2]>>>16|k[b+3]>>>24:k[b+0]<<24|k[b+1]<<16|k[b+2]<<8|k[b+3]}})(playease);
(function(t){function k(h){var a=this,c,p,d,u;a.append=function(f){g.push(f)};a.save=function(f){f||(f=a.config.filename);c=new Blob(g,{type:a.config.type});p=URL.createObjectURL(c);d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null);u=document.createElementNS("http://www.w3.org/1999/xhtml","a");u.href=p;u.download=f;u.dispatchEvent(d);g=[];URL.revokeObjectURL(p)};a.config=b.extendz({},l,h);var g=[]}var b=t.utils,l={filename:"sample.fragmented.mp4",
type:"video/mpeg"};k.prototype.CONF=l;b.FileKeeper=k})(playease);
(function(t){function k(l){b.call(this,l);var h=this;h.ReadUE=function(){for(var a=-1,c=0;0===c&&0<h.Left();a++)c=h.ReadBits(1);return(1<<a>>>0)-1+h.ReadBitsLong(a)};h.ReadSE=function(){var a=h.ReadUE();return 0===(a&1)?-(a>>>1):a+1>>>1}}t=t.utils;var b=t.BitStream;k.prototype=Object.create(b.prototype);k.prototype.constructor=k;t.ebsp2rbsp=function(l){var h=2,a=l.byteLength,c=new Uint8Array(a);c[0]=l[0];c[1]=l[1];for(var p=2;p<a;p++)if(3!==l[p]||0!==l[p-1]||0!==l[p-2])c[h]=l[p],h++;return c.subarray(0,
h)};t.Golomb=k})(playease);
(function(t){var k=/^(([a-z]+:)\/\/(([-a-z\d\.]+)(?::(\d+))?))((?:\/[-_a-z\d\s\.]*)*)([?#][-_=%&a-z\d\s\.]+)?$/i;t.utils.URL=function(b){var l=this;l.parse=function(h){l.href=h;!1===/^([a-z]+):\/\//.test(h)&&(l.href=window.location.origin+("/"===h.substr(0,1)?"":"/")+h);var a=l.href.match(k);if(null===a)throw{name:"SyntaxError",message:"The URL did not match the expected pattern, url="+h+"."};l.origin=a[1];l.protocol=a[2];l.host=a[3];l.hostname=a[4];l.port=a[5]||"";l.pathname=a[6]||"";if(h=l.pathname.match(/\/([-_a-z\d\s\(\)\[\]\{\}]+)(?:\.([a-z\d]+))?$/))l.filename=
h[1],l.filetype=h[2];a[7]&&("?"===a[7].substr(0,1)?l.search=a[7]:l.hash=a[7])};l.href="";l.origin="";l.protocol="";l.host="";l.hostname="";l.port="";l.pathname="";l.filename="";l.filetype="";l.search="";l.hash="";b&&l.parse(b)}})(playease);
(function(t){function k(a){function c(d,u){var g={};if(d.nodeType===l.DOCUMENT_NODE){for(var f=0;f<d.childNodes.length;f++){var n=d.childNodes[f],v=n.localName||n.baseName||n.nodeName;n.nodeType===l.ELEMENT_NODE&&(n=c(n),n.parent=g,p.config.ignoreRoot?(delete n.parent,g=n):g[v]=n)}return g}if(d.nodeType===l.ELEMENT_NODE){for(f=0;f<d.childNodes.length;f++)if(n=d.childNodes[f],v=n.localName||n.baseName||n.nodeName,n.nodeType!==l.COMMENT_NODE)if(n=c(n,u+"."+v),n.parent=g,g.hasOwnProperty(v))"array"!=
b.typeOf(g[v])&&(g[v]=[g[v]]),g[v].push(n);else if("#text"!=v||/[^\s]/.test(n))g[v]=n;v=d.localName||d.baseName||d.nodeName;null!=d.prefix&&""!=d.prefix&&(v=d.prefix+":"+v);for(f=0;f<d.attributes.length;f++){u=d.attributes[f];n=u.value;for(var q=0;q<p.config.matchers.length;q++){var r=p.config.matchers[q];r.test(u,v)&&(n=r.exec(u.value));g[p.config.attributePrefix+u.name]=n}}null!=g["#text"]&&p.config.trimWhitespaces&&(g["#text"]=g["#text"].trim());g.toString=function(){return(null==g["#text"]?"":
g["#text"])+(null==g["#cdata-section"]?"":g["#cdata-section"])};return g}if(d.nodeType===l.TEXT_NODE||d.nodeType===l.CDATA_SECTION_NODE)return d.nodeValue}var p=this;p.parse=function(d){if(window.DOMParser){var u=new DOMParser;try{var g=u.parseFromString(d,"text/xml")}catch(f){return b.error("Failed to parse XML structure."),null}}else 0===d.indexOf("<?")&&(d=d.substr(d.indexOf("?>")+2)),g=new ActiveXObject("Microsoft.XMLDOM"),g.async="false",g.loadXML(d);return c(g)};p.config=b.extendz({},h,a)}var b=
t.utils,l={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9},h={ignoreRoot:!0,trimWhitespaces:!1,attributePrefix:"@",matchers:[]};k.prototype.CONF=h;b.XML2JSON=k})(playease);
(function(t){var k=t.utils;k.MPD=function(b){function l(d,u){if(d)for(var g=0;g<d.AdaptationSet.length;g++){var f=d.AdaptationSet[g];if(f.hasOwnProperty("@id")){if(f["@id"]===u["@id"])return f}else if(f.hasOwnProperty("@contentType")){if(f["@contentType"]===u["@contentType"])return f}else if(f.hasOwnProperty("@mimeType")){if(f["@mimeType"]===u["@mimeType"])return f}else if(f.hasOwnProperty("@codecs")){if(f["@codecs"]===u["@codecs"])return f}else break}}var h,a,c;this.update=function(d){a=p;d.Location&&
d.Location["#text"]&&(a=d.Location["#text"]);c=d.BaseURL||a.substring(0,a.lastIndexOf("/")+1);if("dynamic"===d["@type"]){var u=h,g=0,f=NaN;"array"!=k.typeOf(d.Period)&&(d.Period=[d.Period]);for(var n=0;n<d.Period.length;n++){var v=d.Period[n];v.hasOwnProperty("@start")?g=v["@start"]:isNaN(f)?0===n&&"dynamic"!==d["@type"]&&(g=0):g+=f;v.hasOwnProperty("@duration")&&(f=v["@duration"]);v["@start"]=g;v["@duration"]=f;a:{var q=u;var r=v;if(q)for(var x=0;x<q.Period.length;x++){var e=q.Period[x];if(e.hasOwnProperty("@id")){if(e["@id"]===
r["@id"]){q=e;break a}}else if(e.hasOwnProperty("@start")){if(e["@start"]===r["@start"]){q=e;break a}}else{q=e;break a}}q=void 0}"array"!=k.typeOf(v.AdaptationSet)&&(v.AdaptationSet=[v.AdaptationSet]);for(r=0;r<v.AdaptationSet.length;r++){x=v.AdaptationSet[r];e=l(q,x);var m=e,w=e=0,y=[];if(!1!==x.SegmentTemplate.hasOwnProperty("SegmentTimeline")){if(m){var D=m.SegmentTemplate.SegmentTimeline;"array"!=k.typeOf(D.S)&&(D.S=[D.S]);for(m=0;m<D.S.length;m++){var I=D.S[m];0===m&&I.hasOwnProperty("@t")&&
(e=I["@t"]);e+=I["@d"];I["@r"]&&(e+=I["@d"]*I["@r"]);y.push(k.extendz({},I))}}x=x.SegmentTemplate.SegmentTimeline;"array"!=k.typeOf(x.S)&&(x.S=x.S?[x.S]:[]);for(m=0;m<x.S.length;m++)I=x.S[m],0===m&&I.hasOwnProperty("@t")&&(w=I["@t"]),w>=e&&y.push(I),w+=I["@d"],I["@r"]&&(w+=I["@d"]*I["@r"])}}}}h=d};this.getSegmentInfo=function(d,u,g,f,n,v){for(var q=h.Period[0],r=0;r<h.Period.length;r++){var x=h.Period[r];if(x.hasOwnProperty("@start"))x["@start"]>q["@start"]&&x["@start"]<=d&&(q=x);else break}d=q;a:{for(q=
0;q<d.AdaptationSet.length;q++)if(r=d.AdaptationSet[q],r.hasOwnProperty("@contentType")){if(r["@contentType"]===u){u=r;break a}}else if(r.hasOwnProperty("@mimeType")&&(x=r["@mimeType"].match(/^([a-z]+)\/[a-z0-9]+/i))&&1<x.length&&x[1]===u){u=r;break a}u=void 0}if(u){q=u;"array"!=k.typeOf(q.Representation)&&(q.Representation=[q.Representation]);r=q.Representation[0];for(x=0;x<q.Representation.length;x++){var e=q.Representation[x];e["@bandwidth"]>r["@bandwidth"]&&(!v||e["@bandwidth"]<=v)&&(r=e)}if(v=
r){x=u.SegmentTemplate;q=x[g?"@initialization":"@media"];r=x["@timescale"]||1;var m=x["@duration"]||0;q=q.replace(/\$RepresentationID\$/,v["@id"]);if(x["@media"].search(/\$Time\$/))if(e=x.SegmentTimeline,g)if(0<f||0===f&&!1===h.hasOwnProperty("@suggestedPresentationDelay"))e.S.length&&(f=e.S[0]["@t"]);else{var w=Math.abs(w)||h["@suggestedPresentationDelay"];a:{var y=w*r;for(w=e.S.length-1;0<=w;w--){var D=e.S[w];y-=D["@d"]*(D["@r"]||1);if(0>=y){y=e.S[0]["@t"];for(var I=0;I<w;I++)y+=e.S[I]["@d"],D["@r"]&&
(y+=D["@d"]*D["@r"]);D["@t"]=y;w=D;break a}}w=e.S[0]}w&&(f=w["@t"],m=w["@d"])}else{a:{for(w=NaN;e.S.length;){m=e.S.shift();isNaN(w)&&(w=m["@t"]||0);if(w+m["@d"]*(m["@r"]||0)>=f){m["@t"]=w;e.S.length&&(e.S[0]["@t"]=m["@t"]+m["@d"]);w=m;break a}w+=m["@d"];m["@r"]&&(w+=m["@d"]*m["@r"])}w=void 0}if(void 0===w)return;f=w["@t"];m=w["@d"];q=q.replace(/\$Time\$/,f)}x["@media"].search(/\$Number\$/)&&(g?n=x["@startNumber"]:q=q.replace(/\$Number\$/,n));g=v.baseURL||u.baseURL||d.baseURL;q=(g?g["#text"]:c)+q;
return{mimeType:v["@mimeType"]||u["@mimeType"],codecs:v["@codecs"]||u["@codecs"],index:n,start:f,duration:m,timescale:r,url:q}}}};this.getLocation=function(){return a};var p=b||""}})(playease);(function(t){t.utils.MPD.matchers={}})(playease);
(function(t){var k=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;t.utils.MPD.matchers.datetime=function(){this.test=function(b){return k.test(b.value)};this.exec=function(b){b=k.exec(b);var l=Date.UTC(parseInt(b[1],10),parseInt(b[2],10)-1,parseInt(b[3],10),parseInt(b[4],10),parseInt(b[5],10),b[6]&&parseInt(b[6],10)||0,b[7]&&1E3*parseFloat(b[7])||0);if(b[9]&&b[10]){var h=60*parseInt(b[9],10)+parseInt(b[10],10);l+=("+"===b[8]?
-1:1)*h*6E4}return new Date(l)}}})(playease);
(function(t){var k=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,b="minBufferTime mediaPresentationDuration minimumUpdatePeriod timeShiftBufferDepth maxSegmentDuration maxSubsegmentDuration suggestedPresentationDelay start starttime duration".split(" ");t.utils.MPD.matchers.duration=function(){this.test=function(l){for(var h=0;h<b.length;h++)if((l.localName||l.baseName||l.nodeName)===b[h])return k.test(l.value);return!1};this.exec=function(l){l=k.exec(l);var h=
31536E3*parseFloat(l[2]||0)+2592E3*parseFloat(l[4]||0)+86400*parseFloat(l[6]||0)+3600*parseFloat(l[8]||0)+60*parseFloat(l[10]||0)+parseFloat(l[12]||0);void 0!==l[1]&&(h*=-1);return h}}})(playease);(function(t){var k=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;t.utils.MPD.matchers.numeric=function(){this.test=function(b){return k.test(b.value)};this.exec=function(b){return parseFloat(b)}}})(playease);
(function(t){var k={MPD:["id","profiles"],Period:["id"],BaseURL:["serviceLocation","byteRange"],SegmentBase:["indexRange"],Initialization:["range"],RepresentationIndex:["range"],SegmentList:["indexRange"],BitstreamSwitching:["range"],SegmentURL:["mediaRange","indexRange"],SegmentTemplate:["indexRange","media","index","initialization","bitstreamSwitching"],AssetIdentifier:["value","id"],EventStream:["value"],AdaptationSet:["profiles","mimeType","segmentProfiles","codecs","contentType"],FramePacking:["value",
"id"],AudioChannelConfiguration:["value","id"],ContentProtection:["value","id"],EssentialProperty:["value","id"],SupplementalProperty:["value","id"],InbandEventStream:["value","id"],Accessibility:["value","id"],Role:["value","id"],Rating:["value","id"],Viewpoint:["value","id"],ContentComponent:["contentType"],Representation:["id","dependencyId","mediaStreamStructureId"],Subset:["id"],Metrics:["metrics"],Reporting:["value","id"]};t.utils.MPD.matchers.string=function(){this.test=function(b,l){return k.hasOwnProperty(l)&&
(l=k[l],void 0!==l)?0<=l.indexOf(b.name):!1};this.exec=function(b){return String(b)}}})(playease);
(function(t){t.events={Event:{BIND:"bind",READY:"ready",PLAY:"play",WAITING:"waiting",DURATIONCHANGE:"durationchange",LOADEDMETADATA:"loadedmetadata",LOADEDDATA:"loadeddata",CANPLAY:"canplay",PLAYING:"playing",CANPLAYTHROUGH:"canplaythrough",PAUSE:"pause",SEEKING:"seeking",SEEKED:"seeked",SWITCHING:"switching",SWITCHED:"switched",RATECHANGE:"ratechange",TIMEUPDATE:"timeupdate",VOLUMECHANGE:"volumechange",ENDED:"ended",ERROR:"error"},IOEvent:{LOADSTART:"loadstart",STALLED:"stalled",ABORT:"abort",TIMEOUT:"timeout",
PROGRESS:"progress",SUSPEND:"suspend",LOAD:"load",LOADEND:"loadend"},UIEvent:{SHOOTING:"shooting",FULLPAGE:"fullpage",FULLSCREEN:"fullscreen",RESIZE:"resize"},GlobalEvent:{CHANGE:"change",VISIBILITYCHANGE:"visibilitychange"},MouseEvent:{CLICK:"click",DOUBLE_CLICK:"doubleclick",MOUSE_MOVE:"mousemove"},KeyboardEvent:{KEY_DOWN:"key-down",KEY_UP:"key-up"},TimerEvent:{TIMER:"timer",COMPLETE:"complete"},MediaEvent:{PACKET:"packet",INFOCHANGE:"infochange",STATSUPDATE:"statsupdate",AAC_SPECIFIC_CONFIG:"aac-specific-config",
AAC_SAMPLE:"aac-sample",AVC_CONFIG_RECORD:"avc-config-record",AVC_SAMPLE:"avc-sample",END_OF_STREAM:"end-of-stream"},MediaStreamTrackEvent:{ADDTRACK:"addtrack",REMOVETRACK:"removetrack"}}})(playease);
(function(t){var k=t.utils;t.events.EventDispatcher=function(b,l){function h(f,n){if(f)for(var v=f.slice(0),q=0;q<v.length;q++){var r=v[q];if(r){isNaN(r.count)||0!==--r.count||f.splice(q,1);try{if(r.listener(n),n.stopPropagation)break}catch(x){k.error(c+" failed to dispatch event:",n,x.toString())}}}}var a=this,c=b,p=l,d=Array.prototype.slice.call(arguments,2);a.bind=function(){var f=Array.prototype.slice.call(arguments,0);k.forEach(f,function(n,v){k.forEach(v,function(q,r){q="on"+r.replace(/-/g,
"");a[q]=void 0})})};a.addEventListener=function(f,n,v){try{u[f]||(u[f]=[]),"string"===k.typeOf(n)&&(n=(new Function("return "+n))()),u[f].push({listener:n,count:v||NaN})}catch(q){k.error(c+" failed to addEventListener("+f+"):",q)}};a.removeEventListener=function(f,n){if(u[f])try{if(void 0===n)delete u[f];else for(var v=0;v<u[f].length;v++)if(u[f][v].listener.toString()===n.toString()){u[f].splice(v,1);break}}catch(q){k.error(c+" failed to removeEventListener("+f+"):",q)}};a.hasEventListener=function(f){return u.hasOwnProperty(f)&&
0<u[f].length};a.addGlobalListener=function(f,n){try{"string"===k.typeOf(f)&&(f=(new Function("return "+f))()),g.push({listener:f,count:n||NaN})}catch(v){k.error(c+" failed to addGlobalListener():",v)}};a.removeGlobalListener=function(f){if(f)try{for(var n=0;n<g.length;n++)if(g[n].listener.toString()===f.toString()){g.splice(n,1);break}}catch(v){k.error(c+" failed to removeGlobalListener():",v)}};a.dispatchEvent=function(f,n){a.forward({type:f,data:n||{},srcElement:a,version:t.VERSION})};a.forward=
function(f){f.target=a;f.stopPropagation=!1;f.api=!p||"string"!==typeof p.id&&"number"!==typeof p.id?void 0:p.id;t.DEBUG&&k.log(c,f);var n="on"+f.type.replace(/-/g,"");if("function"===k.typeOf(a[n]))a[n](f);else h(u[f.type],f),h(g,f)};var u={};var g=[];a.bind.apply(a,d)}})(playease);
(function(t){function k(a,c){function p(){g++;d.dispatchEvent(h.TIMER);0<d.repeatCount&&g>=d.repeatCount&&(d.stop(),d.dispatchEvent(h.COMPLETE))}l.call(this,"Timer",null,[h.TIMER,h.COMPLETE]);var d=this,u,g=0,f=!1;d.start=function(){!1===f&&(u=setInterval(p,d.delay),f=!0)};d.stop=function(){f&&(clearInterval(u),u=0,f=!1)};d.reset=function(){d.stop();g=0};d.currentCount=function(){return g};d.running=function(){return f};d.delay=a||50;d.repeatCount=c||0}var b=t.utils;t=t.events;var l=t.EventDispatcher,
h=t.TimerEvent;k.prototype=Object.create(l.prototype);k.prototype.constructor=k;b.Timer=k})(playease);
(function(t){var k=t.utils,b={},l=[];b.register=function(h,a){try{l.splice(a||l.length,0,h),b[h.prototype.kind]=h}catch(c){k.error("Failed to register loader "+h.prototype.kind+", Error="+c.message)}};b.get=function(h,a){for(var c=0;c<l.length;c++){var p=l[c];if(p.prototype.isSupported(h,a))return p}return null};b.Mode={CORS:"cors",NO_CORS:"no-cors",SAME_ORIGIN:"same-origin"};b.Credentials={OMIT:"omit",INCLUDE:"include",SAME_ORIGIN:"same-origin"};b.Cache={DEFAULT:"default",NO_STAORE:"no-store",RELOAD:"reload",
NO_CACHE:"no-cache",FORCE_CACHE:"force-cache",ONLY_IF_CACHED:"only-if-cached"};b.Redirect={FOLLOW:"follow",MANUAL:"manual",ERROR:"error"};b.ResponseType={ARRAYBUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};b.ReadyState={UNINITIALIZED:0,OPEN:1,SENT:2,LOADING:3,DONE:4};t.io=b.get;t.IO=b})(playease);
(function(t){function k(u){function g(x){return x.read().then(function(e){if(e.done)return b.debug("Loader load"),v=p.DONE,n.dispatchEvent(c.LOAD),n.dispatchEvent(c.LOADEND),Promise.resolve("load");switch(v){case p.SENT:v=p.LOADING;break;case p.DONE:return b.warn("Loader state error, probably aborted already."),x.cancel()}b.debug("Loader progress: "+e.value.buffer.byteLength+"/"+q);n.dispatchEvent(c.PROGRESS,{buffer:e.value.buffer,loaded:e.value.buffer.byteLength,total:q});return g(x)})["catch"](f)}
function f(x){v=p.DONE;b.error("Loader "+x.name+": "+x.message);switch(x.name){case "AbortError":n.dispatchEvent(c.ABORT,{name:x.name,message:x.message});break;case "TimeoutError":n.dispatchEvent(c.TIMEOUT,{name:x.name,message:x.message});break;default:n.dispatchEvent(a.ERROR,{name:x.name,message:x.message})}n.dispatchEvent(c.LOADEND)}h.call(this,"Fetch",null,[a.ERROR],c);var n=this,v;n.load=function(x,e,m){v=p.UNINITIALIZED;n.isSupported(x)?(b.debug("Loader loadstart"),n.dispatchEvent(c.LOADSTART),
v=p.OPEN,void 0!==e&&b.extendz(n.config.headers,{Range:"bytes="+e+"-"+(m||"")}),e=b.extendz({},n.config,{headers:new Headers(n.config.headers),signal:r.signal}),fetch(x.href,e).then(function(w){switch(v){case p.OPEN:v=p.SENT;break;default:b.warn("Loader state error, probably aborted already.")}if(!w.ok||200>w.status||299<w.status)return Promise.reject(Error(w.status+" "+w.statusText));var y=w.headers.get("Content-Length");y&&(y=parseInt(y));if(206===w.status){var D=w.headers.get("Content-Range");
D&&(D=D.match(/bytes (\d*)\-(\d*)\/(\d+)/i))&&(y=parseInt(D[3]))}q!==y&&(q=y||Infinity,b.log("File size changed: "+q));return g(w.body.getReader())})["catch"](f)):(b.error("Loader NotSupportedError: Not supportped."),v=p.DONE,n.dispatchEvent(a.ERROR,{name:"NotSupportedError",message:"Not supportped."}),n.dispatchEvent(c.LOADEND))};n.abort=function(){r.abort()};n.state=function(){return v};n.config=b.extendz({},d,u);var q=NaN;var r=new AbortController}var b=t.utils,l=t.events,h=l.EventDispatcher,a=
l.Event,c=l.IOEvent;t=t.IO;var p=t.ReadyState,d={method:"GET",headers:{},mode:t.Mode.CORS,credentials:t.Credentials.OMIT,cache:t.Cache.DEFAULT,redirect:t.Redirect.FOLLOW};k.prototype=Object.create(h.prototype);k.prototype.constructor=k;k.prototype.kind="Fetch";k.prototype.CONF=d;k.prototype.isSupported=function(u,g){return g&&"live"!==g?!1:!!fetch&&("http:"===u.protocol||"https:"===u.protocol)};t.register(k)})(playease);
(function(t){function k(f){a.call(this,"MozStream",null,[c.ERROR],p);var n=this,v;n.load=function(x,e,m){v=u.UNINITIALIZED;if(n.isSupported(x)){b.debug("Loader loadstart");n.dispatchEvent(p.LOADSTART);r.open(n.config.method,x.href,!0);void 0!==e&&b.extendz(n.config.headers,{Range:"bytes="+e+"-"+(m||"")});b.forEach(n.config.headers,function(w,y){r.setRequestHeader(w,y)});switch(n.config.credentials){case d.INCLUDE:r.withCredentials=!0;break;case d.SAME_ORIGIN:r.withCredentials=window.location.host===
x.host;break;default:r.withCredentials=!1}r.send()}else b.error("Loader NotSupportedError: Not supportped."),v=u.DONE,n.dispatchEvent(c.ERROR,{name:"NotSupportedError",message:"Not supportped."}),n.dispatchEvent(p.LOADEND)};n.abort=function(){r.abort()};n.state=function(){return v};n.config=b.extendz({},g,f);var q=NaN;var r=new XMLHttpRequest;r.onreadystatechange=function(x){v=r.readyState;switch(v){case u.SENT:if(200>r.status||299<r.status)b.error("Loader NetworkError: "+r.status+" "+r.statusText),
n.dispatchEvent(c.ERROR,{name:"NetworkError",message:r.status+" "+r.statusText});else{(x=r.getResponseHeader("Content-Length"))&&(x=parseInt(x));if(206===r.status){var e=r.getResponseHeader("Content-Range");e&&(e=e.match(/bytes (\d*)\-(\d*)\/(\d+)/i))&&(x=parseInt(e[3]))}q!==x&&(q=x||Infinity,b.log("File size changed: "+q))}}};r.onabort=function(x){b.warn("Loader AbortError: The operation was aborted.");n.dispatchEvent(p.ABORT,{name:"AbortError",message:"The operation was aborted."})};r.onprogress=
function(x){b.debug("Loader progress: "+r.response.byteLength+"/"+q);n.dispatchEvent(p.PROGRESS,{buffer:r.response,loaded:r.response.byteLength,total:q})};r.onload=function(x){b.debug("Loader load.");n.dispatchEvent(p.LOAD)};r.onerror=function(x){b.error("Loader "+x.name+": "+x.message);switch(x.name){case "TimeoutError":n.dispatchEvent(p.TIMEOUT,{name:x.name,message:x.message});break;default:n.dispatchEvent(c.ERROR,{name:x.name,message:x.message})}};r.onloadend=function(x){n.dispatchEvent(p.LOADEND)};
r.responseType="moz-chunked-arraybuffer"}var b=t.utils,l=t.Browser,h=t.events,a=h.EventDispatcher,c=h.Event,p=h.IOEvent;t=t.IO;var d=t.Credentials,u=t.ReadyState,g={method:"GET",headers:{},mode:t.Mode.CORS,credentials:d.OMIT,cache:t.Cache.DEFAULT,redirect:t.Redirect.FOLLOW};k.prototype=Object.create(a.prototype);k.prototype.constructor=k;k.prototype.kind="MozStream";k.prototype.CONF=g;k.prototype.isSupported=function(f,n){return n&&"live"!==n||l.isFirefox&&(14>l.major||67<l.major)?!1:"http:"===f.protocol||
"https:"===f.protocol};t.register(k)})(playease);
(function(t){function k(f){function n(m){b.error("Loader "+m.name+": "+m.message);switch(m.name){case "TimeoutError":v.dispatchEvent(p.TIMEOUT,{name:m.name,message:m.message});break;default:v.dispatchEvent(c.ERROR,{name:m.name,message:m.message})}}a.call(this,"MSStream",null,[c.ERROR],p);var v=this,q;v.load=function(m,w,y){q=u.UNINITIALIZED;e.position=0;if(v.isSupported(m)){b.debug("Loader loadstart");v.dispatchEvent(p.LOADSTART);x.open(v.config.method,m.href,!0);void 0!==w&&b.extendz(v.config.headers,
{Range:"bytes="+w+"-"+(y||"")});b.forEach(v.config.headers,function(D,I){x.setRequestHeader(D,I)});switch(v.config.credentials){case d.INCLUDE:x.withCredentials=!0;break;case d.SAME_ORIGIN:x.withCredentials=window.location.host===m.host;break;default:x.withCredentials=!1}x.send()}else b.error("Loader NotSupportedError: Not supportped."),q=u.DONE,v.dispatchEvent(c.ERROR,{name:"NotSupportedError",message:"Not supportped."}),v.dispatchEvent(p.LOADEND)};v.abort=function(){x.abort()};v.state=function(){return q};
v.config=b.extendz({},g,f);var r=NaN;var x=new XMLHttpRequest;x.onreadystatechange=function(m){q=x.readyState;switch(q){case u.SENT:if(200>x.status||299<x.status){b.error("Loader NetworkError: "+x.status+" "+x.statusText);v.dispatchEvent(c.ERROR,{name:"NetworkError",message:x.status+" "+x.statusText});break}(m=x.getResponseHeader("Content-Length"))&&(m=parseInt(m));if(206===x.status){var w=x.getResponseHeader("Content-Range");w&&(w=w.match(/bytes (\d*)\-(\d*)\/(\d+)/i))&&(m=parseInt(w[3]))}r!==m&&
(r=m||Infinity,b.log("File size changed: "+r));break;case u.LOADING:e.readAsArrayBuffer(x.response)}};x.onabort=function(m){b.warn("Loader AbortError: The operation was aborted.");v.dispatchEvent(p.ABORT,{name:"AbortError",message:"The operation was aborted."})};x.onerror=n;x.onloadend=function(m){v.dispatchEvent(p.LOADEND)};x.responseType="ms-stream";var e=new MSStreamReader;e.onprogress=function(m){m=e.result.slice(e.position);null==m?b.warn("What happend???"):(b.debug("Loader progress: "+m.byteLength+
"/"+r),v.dispatchEvent(p.PROGRESS,{buffer:m,loaded:m.byteLength,total:r}),e.position=e.result.byteLength)};e.onload=function(m){b.debug("Loader load.");v.dispatchEvent(p.LOAD)};e.onerror=n}var b=t.utils,l=t.Browser,h=t.events,a=h.EventDispatcher,c=h.Event,p=h.IOEvent;t=t.IO;var d=t.Credentials,u=t.ReadyState,g={method:"GET",headers:{},mode:t.Mode.CORS,credentials:d.OMIT,cache:t.Cache.DEFAULT,redirect:t.Redirect.FOLLOW};k.prototype=Object.create(a.prototype);k.prototype.constructor=k;k.prototype.kind=
"MSStream";k.prototype.CONF=g;k.prototype.isSupported=function(f,n){return n&&"live"!==n||!l.isIE10&&!l.isIE11&&!l.isEdge?!1:"http:"===f.protocol||"https:"===f.protocol};t.register(k)})(playease);
(function(t){function k(u){function g(e){r=p.SENT;b.log("File size changed: Infinity")}function f(e){b.debug("Loader progress: "+e.data.byteLength+"/Infinity");r===p.SENT&&(r=p.LOADING);q.dispatchEvent(c.PROGRESS,{buffer:e.data,loaded:e.data.byteLength,total:Infinity})}function n(e){b.error("Loader NetworkError: A network error occurred.");q.dispatchEvent(a.ERROR,{name:"NetworkError",message:"A network error occurred."})}function v(e){b.debug("Loader load.");r=p.DONE;q.dispatchEvent(c.LOAD);q.dispatchEvent(c.LOADEND)}
h.call(this,"Websocket",null,[a.ERROR],c);var q=this,r,x;q.load=function(e,m,w){r=p.UNINITIALIZED;q.isSupported(e)?(b.debug("Loader loadstart"),q.dispatchEvent(c.LOADSTART),r=p.OPEN,x=new (window.WebSocket||window.MozWebSocket)(e.href),x.onopen=g,x.onmessage=f,x.onerror=n,x.onclose=v,x.binaryType="arraybuffer"):(b.error("Loader NotSupportedError: Not supportped."),r=p.DONE,q.dispatchEvent(a.ERROR,{name:"NotSupportedError",message:"Not supportped."}),q.dispatchEvent(c.LOADEND))};q.abort=function(){!x||
x.readyState!=WebSocket.CONNECTING&&x.readyState!=WebSocket.OPEN||(x.close(),b.warn("Loader AbortError: The operation was aborted."),q.dispatchEvent(c.ABORT,{name:"AbortError",message:"The operation was aborted."}))};q.state=function(){return r};q.config=b.extendz({},d,u)}var b=t.utils,l=t.events,h=l.EventDispatcher,a=l.Event,c=l.IOEvent;t=t.IO;var p=t.ReadyState,d={method:"GET",headers:{},mode:t.Mode.CORS,credentials:t.Credentials.OMIT,cache:t.Cache.DEFAULT,redirect:t.Redirect.FOLLOW};k.prototype=
Object.create(h.prototype);k.prototype.constructor=k;k.prototype.kind="Websocket";k.prototype.CONF=d;k.prototype.isSupported=function(u,g){return g&&"live"!==g?!1:!(!window.WebSocket&&!window.MozWebSocket)&&("ws:"===u.protocol||"wss:"===u.protocol)};t.register(k)})(playease);
(function(t){function k(g){h.call(this,"XHR",null,[a.ERROR],c);var f=this,n;f.load=function(r,x,e){n=d.UNINITIALIZED;if(f.isSupported(r)){b.debug("Loader loadstart");f.dispatchEvent(c.LOADSTART);q.open(f.config.method,r.href,!0);void 0!==x&&b.extendz(f.config.headers,{Range:"bytes="+x+"-"+(e||"")});b.forEach(f.config.headers,function(m,w){q.setRequestHeader(m,w)});switch(f.config.credentials){case p.INCLUDE:q.withCredentials=!0;break;case p.SAME_ORIGIN:q.withCredentials=window.location.host===r.host;
break;default:q.withCredentials=!1}q.send()}else b.error("Loader NotSupportedError: Not supportped."),n=d.DONE,f.dispatchEvent(a.ERROR,{name:"NotSupportedError",message:"Not supportped."}),f.dispatchEvent(c.LOADEND)};f.abort=function(){q.abort()};f.state=function(){return n};f.config=b.extendz({},u,g);var v=NaN;var q=new XMLHttpRequest;q.onreadystatechange=function(r){n=q.readyState;switch(n){case d.SENT:if(416!==q.status&&(200>q.status||299<q.status))b.error("Loader NetworkError: "+q.status+" "+
q.statusText),f.dispatchEvent(a.ERROR,{name:"NetworkError",message:q.status+" "+q.statusText});else{(r=q.getResponseHeader("Content-Length"))&&(r=parseInt(r));if(206===q.status){var x=q.getResponseHeader("Content-Range");x&&(x=x.match(/bytes (\d*)\-(\d*)\/(\d+)/i))&&(r=parseInt(x[3]))}v!==r&&(v=r||Infinity,b.log("File size changed: "+v))}}};q.onabort=function(r){b.warn("Loader AbortError: The operation was aborted.");f.dispatchEvent(c.ABORT,{name:"AbortError",message:"The operation was aborted."})};
q.onprogress=function(r){b.debug("Loader progress: "+q.loaded+"/"+v)};q.onload=function(r){b.debug("Loader load.");f.dispatchEvent(c.PROGRESS,{buffer:q.response,loaded:q.response.byteLength,total:v});f.dispatchEvent(c.LOAD)};q.onerror=function(r){b.error("Loader "+r.name+": "+r.message);switch(r.name){case "TimeoutError":f.dispatchEvent(c.TIMEOUT,{name:r.name,message:r.message});break;default:f.dispatchEvent(a.ERROR,{name:r.name,message:r.message})}};q.onloadend=function(r){f.dispatchEvent(c.LOADEND)};
q.responseType=f.config.responseType}var b=t.utils,l=t.events,h=l.EventDispatcher,a=l.Event,c=l.IOEvent;t=t.IO;var p=t.Credentials,d=t.ReadyState,u={method:"GET",headers:{},mode:t.Mode.CORS,credentials:p.OMIT,cache:t.Cache.DEFAULT,redirect:t.Redirect.FOLLOW,responseType:t.ResponseType.ARRAYBUFFER};k.prototype=Object.create(h.prototype);k.prototype.constructor=k;k.prototype.kind="XHR";k.prototype.CONF=u;k.prototype.isSupported=function(g,f){if(f&&"live"===f){f=["flv","",void 0,"mp4","m4s","f4v","m4v",
"mov"];for(var n=0;n<f.length;n++)if(g.filetype===f[n])return!1}return"http:"===g.protocol||"https:"===g.protocol};t.register(k)})(playease);
(function(t){function k(h,a){this.Num=h||30;this.Den=a||1}function b(){var h=this;h.left=function(){return null==h.payload?0:h.payload.byteLength-h.position};h.set=function(c,p){a[c]=p};h.get=function(c){return a[c]};var a={};h.kind="";h.codec="";h.length=0;h.timestamp=0;h.streamid=0;h.payload=null;h.position=0}var l={};b.KindAudio="audio";b.KindVideo="video";b.KindScript="script";l.Rational=k;l.Information=function(){this.MimeType="";this.Codecs=[];this.Timescale=1E3;this.BitRate=this.VideoDataRate=
this.AudioDataRate=this.CodecHeight=this.CodecWidth=this.Height=this.Width=this.FileSize=this.Duration=this.VideoTimestamp=this.AudioTimestamp=this.Timestamp=this.TimeBase=0;this.FrameRate=new k;this.Channels=this.SampleSize=this.SampleRate=0;this.Stereo=!1;this.Encoder=""};l.Packet=b;t.AV=l})(playease);
(function(t){var k=t.utils;t=t.AV;var b={},l=[];b.COL_PRI_RESERVED0=0;b.COL_PRI_BT709=1;b.COL_PRI_UNSPECIFIED=2;b.COL_PRI_RESERVED=3;b.COL_PRI_BT470M=4;b.COL_PRI_BT470BG=5;b.COL_PRI_SMPTE170M=6;b.COL_PRI_SMPTE240M=7;b.COL_PRI_FILM=8;b.COL_PRI_BT2020=9;b.COL_PRI_SMPTEST428_1=10;b.COL_PRI_NB=11;b.COL_TRC_RESERVED0=0;b.COL_TRC_BT709=1;b.COL_TRC_UNSPECIFIED=2;b.COL_TRC_RESERVED=3;b.COL_TRC_GAMMA22=4;b.COL_TRC_GAMMA28=5;b.COL_TRC_SMPTE170M=6;b.COL_TRC_SMPTE240M=7;b.COL_TRC_LINEAR=8;b.COL_TRC_LOG=9;b.COL_TRC_LOG_SQRT=
10;b.COL_TRC_IEC61966_2_4=11;b.COL_TRC_BT1361_ECG=12;b.COL_TRC_IEC61966_2_1=13;b.COL_TRC_BT2020_10=14;b.COL_TRC_BT2020_12=15;b.COL_TRC_SMPTEST2084=16;b.COL_TRC_SMPTEST428_1=17;b.COL_TRC_ARIB_STD_B67=18;b.COL_TRC_NB=19;b.COL_SPC_RGB=0;b.COL_SPC_BT709=1;b.COL_SPC_UNSPECIFIED=2;b.COL_SPC_RESERVED=3;b.COL_SPC_FCC=4;b.COL_SPC_BT470BG=5;b.COL_SPC_SMPTE170M=6;b.COL_SPC_SMPTE240M=7;b.COL_SPC_YCOCG=8;b.COL_SPC_YCGCO=8;b.COL_SPC_BT2020_NCL=9;b.COL_SPC_BT2020_CL=10;b.COL_SPC_NB=11;b.COL_RANGE_UNSPECIFIED=0;
b.COL_RANGE_MPEG=1;b.COL_RANGE_JPEG=2;b.COL_RANGE_NB=2;b.CHROMA_LOC_UNSPECIFIED=0;b.CHROMA_LOC_LEFT=1;b.CHROMA_LOC_CENTER=2;b.CHROMA_LOC_TOPLEFT=3;b.CHROMA_LOC_TOP=4;b.CHROMA_LOC_BOTTOMLEFT=5;b.CHROMA_LOC_BOTTOM=6;b.CHROMA_LOC_NB=7;b.register=function(h,a){try{l.splice(a||l.length,0,h),b[h.prototype.kind]=h}catch(c){k.error("Failed to register codec "+h.prototype.kind+", Error="+c.message)}};b.get=function(h){for(var a=0;a<l.length;a++){var c=l[a];if(c.prototype.kind===h)return c}return null};t.codec=
b.get;t.Codec=b})(playease);
(function(t){function k(x){a.call(this,"AAC",null,p,[c.ERROR]);var e=this,m;e.parse=function(y){if(1>y.left())e.dispatchEvent(c.ERROR,{name:"DataError",message:"Data not enough while parsing AAC packet."});else{w.Timestamp=Math.max(y.timestamp,w.VideoTimestamp);var D=new DataView(y.payload.buffer);y.set("DataType",D.getUint8(y.position++));y.set("CTS",0);switch(y.get("DataType")){case g.SPECIFIC_CONFIG:w.MimeType||(w.MimeType=e.MimeType);a:if(2>y.left())e.dispatchEvent(c.ERROR,{name:"DataError",message:"Data not enough while parsing AAC specific config."});
else{m=new l(y.payload.subarray(y.position));e.AudioObjectType=m.ReadBits(5);e.AudioObjectType===f.ESCAPE&&(e.AudioObjectType=32+m.ReadBits(6));e.SamplingFrequencyIndex=m.ReadBits(4);e.SamplingFrequency=15===e.SamplingFrequencyIndex?m.ReadBits(24):n[e.SamplingFrequencyIndex];e.ChannelConfiguration=m.ReadBits(4);16>e.ChannelConfiguration&&(e.Channels=v[e.ChannelConfiguration]);if(e.AudioObjectType===f.SBR||e.AudioObjectType===f.PS&&0===(m.ShowBits(3)&3)&&0===(m.ShowBits(9)&63))switch(e.ExtensionSamplingFrequencyIndex=
m.ReadBits(4),e.ExtensionSamplingFrequency=15===e.ExtensionSamplingFrequencyIndex?m.ReadBits(24):n[e.ExtensionSamplingFrequencyIndex],e.ExtensionAudioObjectType=m.ReadBits(5),e.ExtensionAudioObjectType){case f.ESCAPE:e.ExtensionAudioObjectType=32+m.ReadBits(6);break;case f.ER_BSAC:e.ExtensionChannelConfiguration=m.ReadBits(4)}else e.ExtensionAudioObjectType=f.NULL,e.ExtensionSamplingFrequency=0;if(e.AudioObjectType===f.ALS){m.ShowBits(5);4279379!==m.ShowBitsLong(24)&&m.SkipBits(24);try{if(112>m.Left())throw{name:"DataError",
message:"Data not enough while parsing ALS config."};if(1095521024!==m.ReadBitsLong(32))throw{name:"TypeError",message:"Not ALS\\0"};e.SamplingFrequency=m.ReadBitsLong(32);m.SkipBits(32);e.ChannelConfiguration=0;e.Channels=m.ReadBits(16)+1}catch(H){b.error("Failed to parse AAC config ALS.");e.dispatchEvent(c.ERROR,{name:H.name,message:H.message});break a}}e.RefSampleDuration=Math.floor(1024*w.Timescale/e.SamplingFrequency);e.AudioObjectType=f.SBR;e.ExtensionSamplingFrequencyIndex=e.SamplingFrequencyIndex;
6<=e.SamplingFrequencyIndex?e.ExtensionSamplingFrequencyIndex-=3:1===e.ChannelConfiguration&&(e.AudioObjectType=f.AAC_LC);e.Config=e.AudioObjectType===f.SBR?new Uint8Array([e.AudioObjectType<<3|e.SamplingFrequencyIndex>>1,e.SamplingFrequencyIndex<<7|e.ChannelConfiguration<<3|e.ExtensionSamplingFrequencyIndex>>1,e.ExtensionSamplingFrequencyIndex<<7|8,0]):new Uint8Array([e.AudioObjectType<<3|e.SamplingFrequencyIndex>>1,e.SamplingFrequencyIndex<<7|e.ChannelConfiguration<<3]);e.Codec="mp4a.40."+e.AudioObjectType;
w.Codecs.push(e.Codec);e.dispatchEvent(p.AAC_SPECIFIC_CONFIG)}break;case g.RAW_FRAME_DATA:w.AudioTimestamp=y.timestamp;D=Math.ceil((y.timestamp-w.AudioTimestamp)/e.RefSampleDuration);for(var I=0;I<D-1;I++){var K=new d.Packet;K.kind=u.KindAudio;K.codec=y.codec;K.timestamp=w.AudioTimestamp+e.RefSampleDuration;K.streamid=y.streamid;var R=K;a:switch(e.AudioObjectType){case AAC_LC:var S=q[e.Channels];break a;default:S=r[e.Channels]}R.payload=S;if(void 0===K.payload){b.warn("Failed to get silent frame: AudioObjectType="+
e.AudioObjectType+", Channels="+e.Channels);break}K.length=K.payload.byteLength;K.set("DTS",w.TimeBase+K.timestamp);K.set("PTS",K.get("DTS"));K.set("Data",K.payload);b.warn("Generates silent frame: "+K.timestamp);w.AudioTimestamp=K.timestamp;e.dispatchEvent(p.AAC_SAMPLE,{packet:K})}y.set("DTS",w.TimeBase+y.timestamp);y.set("PTS",y.get("DTS"));y.set("Data",y.payload.subarray(y.position));e.dispatchEvent(p.AAC_SAMPLE,{packet:y});break;default:e.dispatchEvent(c.ERROR,{name:"TypeError",message:"Unrecognized AAC packet type: "+
e.DataType})}}};var w=x;e.MimeType="audio/mp4";e.Codec="";e.RefSampleDuration=Math.floor(1024*w.Timescale/44100);e.AudioObjectType=0;e.SamplingFrequencyIndex=0;e.SamplingFrequency=0;e.ChannelConfiguration=0;e.Channels=0;e.ExtensionAudioObjectType=0;e.ExtensionSamplingFrequencyIndex=0;e.ExtensionSamplingFrequency=0;e.ExtensionChannelConfiguration=0;e.Config=null;e.ExpectedDts=0;e.Flags={IsLeading:0,SampleDependsOn:1,SampleIsDependedOn:0,SampleHasRedundancy:0,IsNonSync:0}}var b=t.utils,l=b.Golomb,h=
t.events,a=h.EventDispatcher,c=h.Event,p=h.MediaEvent,d=t.AV,u=d.Packet;t=d.Codec;var g={SPECIFIC_CONFIG:0,RAW_FRAME_DATA:1},f={NULL:0,AAC_MAIN:1,AAC_LC:2,AAC_SSR:3,AAC_LTP:4,SBR:5,AAC_SCALABLE:6,TWINVQ:7,CELP:8,HVXC:9,TTSI:12,MAINSYNTH:13,WAVESYNTH:14,MIDI:15,SAFX:16,ER_AAC_LC:17,ER_AAC_LTP:19,ER_AAC_SCALABLE:20,ER_TWINVQ:21,ER_BSAC:22,ER_AAC_LD:23,ER_CELP:24,ER_HVXC:25,ER_HILN:26,ER_PARAM:27,SSC:28,PS:29,SURROUND:30,ESCAPE:31,L1:32,L2:33,L3:34,DST:35,ALS:36,SLS:37,SLS_NON_CORE:38,ER_AAC_ELD:39,
SMR_SIMPLE:40,SMR_MAIN:41,USAC_NOSBR:42,SAOC:43,LD_SURROUND:44,USAC:45},n=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350],v=[0,1,2,3,4,5,6,8],q=[new Uint8Array([0,200,0,128,35,128]),new Uint8Array([33,0,73,144,2,25,0,35,128]),new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]),new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]),new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]),new Uint8Array([0,200,0,128,32,132,1,38,64,8,
100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])],r=[new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]),new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]),new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,
149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])];k.prototype=Object.create(a.prototype);k.prototype.constructor=k;k.prototype.kind="AAC";k.DataTypes=g;k.AOT=f;k.SamplingFrequencys=n;k.Channels=v;k.SilentFramesOfLC=q;k.SilentFramesOfSBR=r;t.register(k)})(playease);
(function(t){function k(u){h.call(this,"AVC",null,c,[a.ERROR]);var g=this;g.parse=function(n){if(4>n.left())g.dispatchEvent(a.ERROR,{name:"DataError",message:"Data not enough while parsing AVC packet."});else{f.Timestamp=Math.max(n.timestamp,f.AudioTimestamp);var v=new DataView(n.payload.buffer);n.set("DataType",v.getUint8(n.position++));n.set("CTS",v.getUint8(n.position++)<<16|v.getUint8(n.position++)<<8|v.getUint8(n.position++));switch(n.get("DataType")){case p.SEQUENCE_HEADER:f.MimeType=g.MimeType;
a:if(7>n.left())g.dispatchEvent(a.ERROR,{name:"DataError",message:"Data not enough while parsing AVC decoder configuration record."});else{g.AVCC=n.payload.subarray(n.position);v=0;var q=new DataView(n.payload.buffer,n.position);g.ConfigurationVersion=q.getUint8(v++);g.ProfileIndication=q.getUint8(v++);g.ProfileCompatibility=q.getUint8(v++);g.LevelIndication=q.getUint8(v++);if(1!==g.ConfigurationVersion||0===g.ProfileIndication)g.dispatchEvent(a.ERROR,{name:"DataError",message:"Invalid AVC configuration version or profile."});
else if(g.NalLengthSize=(q.getUint8(v++)&3)+1,3>g.NalLengthSize)g.dispatchEvent(a.ERROR,{name:"DataError",message:"Invalid NalLengthSize "+g.NalLengthSize});else{for(var r=q.getUint8(v++)&31,x=0;x<r;x++){var e=q.getUint16(v);v+=2;if(0!==e){var m=g.AVCC.subarray(v,v+e);try{g.SPS.parse(m),g.RefSampleDuration=Math.floor(f.Timescale*u.FrameRate.Den/u.FrameRate.Num)}catch(w){g.dispatchEvent(a.ERROR,{name:w.name,message:w.message});break a}v+=e}}r=q.getUint8(v++);for(x=0;x<r;x++)e=q.getUint16(v),v+=2,0!==
e&&(v+=e);g.Codec=g.SPS.Codec;f.Codecs.push(g.Codec);g.dispatchEvent(c.AVC_CONFIG_RECORD,{packet:n})}}break;case p.NALU:a:{f.VideoTimestamp=n.timestamp;v=0;q=new DataView(n.payload.buffer,n.position);x=n.payload.subarray(n.position);r=[];n.set("DTS",f.TimeBase+n.timestamp);n.set("PTS",n.get("CTS")+n.get("DTS"));n.set("Data",x);for(n.set("NALUs",r);v<q.byteLength;){if(v+4>=q.byteLength){g.dispatchEvent(l.ERROR,{name:"DataError",message:"Data not enough for next NALU."});break a}e=q.getUint32(v);3===
g.NalLengthSize&&(e>>=8);v+=g.NalLengthSize;if(e>q.byteLength-g.NalLengthSize){g.dispatchEvent(l.ERROR,{name:"DataError",message:"Malformed Nalus near timestamp "+n.get("DTS")+"."});break a}n.set("ForbiddenZeroBit",q.getUint8(v)>>7&1);n.set("NalRefIdc",q.getUint8(v)>>5&3);n.set("NalUnitType",q.getUint8(v)&31);n.get("NalUnitType")===d.IDR_SLICE&&n.set("Keyframe",!0);m=x.subarray(v,v+e);v+=e;r.push(m)}g.dispatchEvent(c.AVC_SAMPLE,{packet:n})}break;case p.END_OF_SEQUENCE:b.debug("AVC sequence end.");
g.dispatchEvent(c.END_OF_STREAM);break;default:g.dispatchEvent(a.ERROR,{name:"TypeError",message:"Unrecognized AVC packet type: "+n.get("DataType")})}}};var f=u;g.MimeType="video/mp4";g.Codec="";g.RefSampleDuration=Math.floor(f.Timescale*u.FrameRate.Den/u.FrameRate.Num);g.AVCC=null;g.ConfigurationVersion=0;g.ProfileIndication=0;g.ProfileCompatibility=0;g.LevelIndication=0;g.NalLengthSize=0;g.SPS=new k.SPS(f);g.PPS=new k.PPS(g.SPS);g.ExpectedDts=0;g.Flags={IsLeading:0,SampleDependsOn:0,SampleIsDependedOn:0,
SampleHasRedundancy:0,IsNonSync:0}}var b=t.utils,l=t.events,h=l.EventDispatcher,a=l.Event,c=l.MediaEvent;t=t.AV.Codec;var p={SEQUENCE_HEADER:0,NALU:1,END_OF_SEQUENCE:2},d={SLICE:1,DPA:2,DPB:3,DPC:4,IDR_SLICE:5,SEI:6,SPS:7,PPS:8,AUD:9,END_SEQUENCE:10,END_STREAM:11,FILLER_DATA:12,SPS_EXT:13,AUXILIARY_SLICE:19,FF_IGNORE:267448321};k.prototype=Object.create(h.prototype);k.prototype.constructor=k;k.prototype.kind="AVC";k.DataTypes=p;k.NAL=d;t.register(k)})(playease);
(function(t){function k(){var d=this,u;d.parse=function(g){u=g;d.CpbCnt=u.ReadUE()+1;if(32<d.CpbCnt)throw{name:"DataError",message:"Invalid HRD.CpbCnt "+d.CpbCnt+"."};d.BitRateScale=u.ReadBits(4);d.CpbSizeScale=u.ReadBits(4);for(g=0;g<d.CpbCnt;g++)d.BitRateValue[g]=u.ReadUE(),d.CpbSizeValue[g]=u.ReadUE(),d.CbrFlag|=u.ReadBits(1)<<g;d.InitialCpbRemovalDelayLength=_b.ReadBits(5)+1;d.CpbRemovalDelayLength=u.ReadBits(5)+1;d.DpbOutputDelayLength=u.ReadBits(5)+1;d.TimeOffsetLength=u.ReadBits(5)};d.CpbCnt=
0;d.BitRateScale=0;d.CpbSizeScale=0;d.BitRateValue=Array(32);d.CpbSizeValue=Array(32);d.CbrFlag=0;d.InitialCpbRemovalDelayLength=0;d.CpbRemovalDelayLength=0;d.DpbOutputDelayLength=0;d.TimeOffsetLength=0}function b(){var d=this,u;d.parse=function(g){u=g;d.AspectRatioInfoPresentFlag=u.ReadBits(1);if(0!==d.AspectRatioInfoPresentFlag)if(d.AspectRatioIdc=u.ReadBits(8),255===d.AspectRatioIdc)d.Sar.Num=u.ReadBits(16),d.Sar.Den=u.ReadBits(16);else if(d.AspectRatioIdc<p.length)d.Sar=p[d.AspectRatioIdc];else throw{name:"DataError",
message:"Illegal aspect ratio."};else d.Sar.Num=0,d.Sar.Den=0;d.OverscanInfoPresentFlag=u.ReadBits(1);0!==d.OverscanInfoPresentFlag&&(d.OverscanAppropriateFlag=u.ReadBits(1));d.VideoSignalTypePresentFlag=u.ReadBits(1);0!==d.VideoSignalTypePresentFlag&&(d.VideoFormat=u.ReadBits(3),d.VideoFullRangeFlag=u.ReadBits(1),d.ColourDescriptionPresentFlag=u.ReadBits(1),0!==d.ColourDescriptionPresentFlag&&(d.ColourPrimaries=u.ReadBits(8),d.TransferCharacteristics=u.ReadBits(8),d.MatrixCoefficients=u.ReadBits(8),
d.ColourPrimaries>=c.COL_PRI_NB&&(d.ColourPrimaries=c.COL_PRI_UNSPECIFIED),d.TransferCharacteristics>=c.COL_TRC_NB&&(d.TransferCharacteristics=c.COL_TRC_UNSPECIFIED),d.MatrixCoefficients>=c.COL_SPC_NB&&(d.MatrixCoefficients=c.COL_SPC_UNSPECIFIED)));d.ChromaLocInfoPresentFlag=u.ReadBits(1);0!==d.ChromaLocInfoPresentFlag&&(d.ChromaSampleLocTypeTopField=u.ReadUE(),d.ChromaSampleLocTypeBottomField=u.ReadUE());if(0!==u.ReadBits(1)&&10>u.Left())throw{name:"DataError",message:"Truncated VUI."};d.TimingInfoPresentFlag=
u.ReadBits(1);if(0!==d.TimingInfoPresentFlag){d.NumUnitsInTick=u.ReadBitsLong(32);d.TimeScale=u.ReadBitsLong(32);if(0===d.NumUnitsInTick||0===d.TimeScale)l.debug("time_scale/num_units_in_tick invalid or unsupported "+d.TimeScale+"/"+d.NumUnitsInTick),d.TimingInfoPresentFlag=0;d.FixedFrameRateFlag=u.ReadBits(1)}d.NalHrdParametersPresentFlag=u.ReadBits(1);0!==d.NalHrdParametersPresentFlag&&d.NalHrd.parse(u);d.VclHrdParametersPresentFlag=u.ReadBits(1);0!==d.VclHrdParametersPresentFlag&&d.VclHrd.parse(u);
if(0!==d.NalHrdParametersPresentFlag||0!==d.VclHrdParametersPresentFlag)d.LowDelayHrdFlag=u.ReadBits(1);d.PicStructPresentFlag=u.ReadBits(1);if(0!==u.Left()&&(d.BitstreamRestrictionFlag=u.ReadBits(1),0!==d.BitstreamRestrictionFlag&&(d.MotionVectorsOverPicBoundariesFlag=u.ReadBits(1),d.MaxBytesPerPicDenom=u.ReadUE(),d.MaxBitsPerMbDenom=u.ReadUE(),d.Log2MaxMvLengthHorizontal=u.ReadUE(),d.Log2MaxMvLengthVertical=u.ReadUE(),d.MaxNumReorderFrames=u.ReadUE(),d.MaxDecFrameBuffering=u.ReadUE(),0>u.Left()&&
(d.MaxNumReorderFrames=0,d.BitstreamRestrictionFlag=0),16<d.MaxNumReorderFrames)))throw d.MaxNumReorderFrames=16,{name:"DataError",message:"Clipping illegal MaxNumReorderFrames "+d.MaxNumReorderFrames+"."};};d.AspectRatioInfoPresentFlag=0;d.AspectRatioIdc=0;d.Sar=new a;d.OverscanInfoPresentFlag=0;d.OverscanAppropriateFlag=0;d.VideoSignalTypePresentFlag=0;d.VideoFormat=0;d.VideoFullRangeFlag=0;d.ColourDescriptionPresentFlag=0;d.ColourPrimaries=0;d.TransferCharacteristics=0;d.MatrixCoefficients=0;d.ChromaLocInfoPresentFlag=
0;d.ChromaSampleLocTypeTopField=0;d.ChromaSampleLocTypeBottomField=0;d.TimingInfoPresentFlag=0;d.NumUnitsInTick=0;d.TimeScale=0;d.FixedFrameRateFlag=0;d.NalHrdParametersPresentFlag=0;d.NalHrd=new k;d.VclHrdParametersPresentFlag=0;d.VclHrd=new k;d.LowDelayHrdFlag=0;d.PicStructPresentFlag=0;d.BitstreamRestrictionFlag;d.MotionVectorsOverPicBoundariesFlag=0;d.MaxBytesPerPicDenom=0;d.MaxBitsPerMbDenom=0;d.Log2MaxMvLengthHorizontal=0;d.Log2MaxMvLengthVertical=0;d.MaxNumReorderFrames=0;d.MaxDecFrameBuffering=
0}var l=t.utils,h=l.Golomb;t=t.AV;var a=t.Rational,c=t.Codec;t=c.AVC;var p=[new a(0,1),new a(1,1),new a(12,11),new a(10,11),new a(16,11),new a(40,33),new a(24,11),new a(20,11),new a(32,11),new a(80,33),new a(18,11),new a(15,11),new a(64,33),new a(160,99),new a(4,3),new a(3,2),new a(2,1)];t.SPS=function(d){function u(n,v){return 0!==n&&0!==v&&(n+128)*(v+128)<l.MAX_INT32/8}var g=this,f;g.parse=function(n){if(4>n.byteLength)throw{name:"DataError",message:"Data not enough while parsing SPS."};g.Codec=
"avc1.";l.forEach(n.subarray(1,4),function(y,D){y=l.padStart(D.toString(16),2,"0");g.Codec+=y});n=l.ebsp2rbsp(n);f=new h(n);g.Data=n;f.ReadBits(8);g.ProfileIdc=f.ReadBits(8);g.ConstraintSetFlags=f.ReadBits(1)<<0;g.ConstraintSetFlags|=f.ReadBits(1)<<1;g.ConstraintSetFlags|=f.ReadBits(1)<<2;g.ConstraintSetFlags|=f.ReadBits(1)<<3;g.ConstraintSetFlags|=f.ReadBits(1)<<4;g.ConstraintSetFlags|=f.ReadBits(1)<<5;g.ReservedZero2Bits=f.ReadBits(2);g.LevelIdc=f.ReadBits(8);g.ID=f.ReadUE();if(32<=g.ID)throw{name:"DataError",
message:"SPS ID(0x"+g.ID.toString(16)+") out of range."};g.SeqScalingMatrixPresentFlag=0;g.Vui.VideoFullRangeFlag=1;g.Vui.MatrixCoefficients=c.COL_SPC_UNSPECIFIED;if(100===g.ProfileIdc||110===g.ProfileIdc||122===g.ProfileIdc||244===g.ProfileIdc||44===g.ProfileIdc||83===g.ProfileIdc||86===g.ProfileIdc||118===g.ProfileIdc||128===g.ProfileIdc||138===g.ProfileIdc||144===g.ProfileIdc){g.ChromaFormatIdc=f.ReadUE();if(3<g.ChromaFormatIdc)throw{name:"DataError",message:"Bad ChromaFormatIdc "+g.ChromaFormatIdc+
"."};if(3===g.ChromaFormatIdc&&(g.SeparateColourPlaneFlag=f.ReadBits(1),0!==g.SeparateColourPlaneFlag))throw{name:"DataError",message:"Separate color planes are not supported."};g.BitDepthLuma=f.ReadUE()+8;g.BitDepthChroma=f.ReadUE()+8;if(g.BitDepthChroma!==g.BitDepthLuma)throw{name:"DataError",message:"Different chroma and luma bit depth."};if(8>g.BitDepthLuma||14<g.BitDepthLuma||8>g.BitDepthChroma||14<g.BitDepthChroma)throw{name:"DataError",message:"Illegal bit depth value "+g.BitDepthLuma+", "+
g.BitDepthChroma+"."};g.TransformBypass=f.ReadBits(1);g.SeqScalingMatrixPresentFlag=f.ReadBits(1);if(0!==g.SeqScalingMatrixPresentFlag){n=8;3===g.ChromaFormatIdc&&(n+=4);for(var v=0;v<n;v++)if(0!=f.ReadBits(1)){var q=16;6<=v&&(q=64);for(var r=8,x=8,e=0;e<q;e++)x=f.ReadSE(),x=(r+x+256)%256,0!==x&&(r=x)}}}else g.ChromaFormatIdc=1,g.BitDepthLuma=8,g.BitDepthChroma=8;g.Log2MaxFrameNum=f.ReadUE()+4;if(4>g.Log2MaxFrameNum||16<g.Log2MaxFrameNum)throw{name:"DataError",message:"log2_max_frame_num_minus4("+
(g.Log2MaxFrameNum-4)+") out of range, expect 0-12."};g.PocType=f.ReadUE();if(0===g.PocType){if(g.Log2MaxPocLsb=f.ReadUE()+4,16<g.Log2MaxPocLsb)throw{name:"DataError",message:"log2_max_poc_lsb("+g.Log2MaxPocLsb+") is out of range."};}else if(1===g.PocType){g.DeltaPicOrderAlwaysZeroFlag=f.ReadBits(1);g.OffsetForNonRefPic=f.ReadUE();g.OffsetForTopToBottomField=f.ReadUE();g.NumRefFramesInPocCycle=f.ReadUE();n=g.OffsetForRefFrame.length;if(g.NumRefFramesInPocCycle>=n)throw{name:"DataError",message:"poc_cycle_length("+
g.NumRefFramesInPocCycle+") overflow."};for(v=0;v<g.NumRefFramesInPocCycle;v++)g.OffsetForRefFrame[v]=f.ReadUE()}else if(2!==g.PocType)throw{name:"DataError",message:"Illegal POC type "+g.PocType+"."};g.MaxNumRefFrames=f.ReadUE();if(34<g.MaxNumRefFrames||16<g.MaxNumRefFrames)throw{name:"DataError",message:"Too many reference frames, "+g.MaxNumRefFrames+"."};g.GapsInFrameNumValueAllowedFlag=f.ReadBits(1);g.PicWidth=f.ReadUE()+1;g.PicHeight=f.ReadUE()+1;if(g.PicWidth>=l.MAX_INT32/16||g.PicHeight>=l.MAX_INT32/
16||!1===u(16*g.PicWidth,16*g.PicHeight))throw{name:"DataError",message:"pic_width or pic_height overflow."};g.FrameMbsOnlyFlag=f.ReadBits(1);g.MbAdaptiveFrameFieldFlag=0===g.FrameMbsOnlyFlag?f.ReadBits(1):0;d.CodecWidth=16*g.PicWidth;d.CodecHeight=16*g.PicHeight*(2-g.FrameMbsOnlyFlag);g.Direct8x8InferenceFlag=f.ReadBits(1);g.FrameCroppingFlag=f.ReadBits(1);if(0!==g.FrameCroppingFlag){var m;n=f.ReadUE();v=f.ReadUE();q=f.ReadUE();r=f.ReadUE();1===g.ChromaFormatIdc&&(m=1);if(1===g.ChromaFormatIdc||
2===g.ChromaFormatIdc)var w=1;w=1<<w;m=2-g.FrameMbsOnlyFlag<<m;if(n>l.MAX_INT32/4/w||v>l.MAX_INT32/4/w||q>l.MAX_INT32/4/m||r>l.MAX_INT32/4/m||(n+v)*w>=d.CodecWidth||(q+r)*m>=d.CodecHeight)throw{name:"DataError",message:"Invalid crop values, l="+n+", r="+v+", t="+q+", b="+r+", w="+d.CodecWidth+", h="+d.CodecHeight+"."};g.FrameCropLeftOffset=n*w;g.FrameCropRightOffset=v*w;g.FrameCropTopOffset=q*m;g.FrameCropBottomOffset=r*m}else g.FrameCropLeftOffset=0,g.FrameCropRightOffset=0,g.FrameCropTopOffset=
0,g.FrameCropBottomOffset=0;g.VuiParametersPresentFlag=f.ReadBits(1);0!==g.VuiParametersPresentFlag&&(g.Vui.parse(f),0!==g.Vui.TimingInfoPresentFlag&&(d.FrameRate.Num=g.Vui.TimeScale,d.FrameRate.Den=2*g.Vui.NumUnitsInTick));d.CodecWidth-=g.FrameCropLeftOffset+g.FrameCropRightOffset;d.CodecHeight-=g.FrameCropTopOffset+g.FrameCropBottomOffset;d.Width=d.CodecWidth;d.Height=d.CodecHeight;1<g.Vui.Sar.Den&&(d.Width*=g.Vui.Sar.Num/g.Vui.Sar.Den)};g.ProfileIdc=0;g.ConstraintSetFlags=0;g.ReservedZero2Bits=
0;g.LevelIdc=0;g.ID=0;g.ChromaFormatIdc=0;g.SeparateColourPlaneFlag=0;g.BitDepthLuma=0;g.BitDepthChroma=0;g.TransformBypass=0;g.SeqScalingMatrixPresentFlag=0;g.Log2MaxFrameNum=0;g.PocType=0;g.Log2MaxPocLsb=0;g.DeltaPicOrderAlwaysZeroFlag=0;g.OffsetForNonRefPic=0;g.OffsetForTopToBottomField=0;g.NumRefFramesInPocCycle=0;g.OffsetForRefFrame=Array(256);g.MaxNumRefFrames=0;g.GapsInFrameNumValueAllowedFlag=0;g.PicWidth=0;g.PicHeight=0;g.FrameMbsOnlyFlag=0;g.MbAdaptiveFrameFieldFlag=0;g.Direct8x8InferenceFlag=
0;g.FrameCroppingFlag=0;g.FrameCropLeftOffset=0;g.FrameCropRightOffset=0;g.FrameCropTopOffset=0;g.FrameCropBottomOffset=0;g.VuiParametersPresentFlag=0;g.Vui=new b}})(playease);
(function(t){var k=t.utils,b=k.Golomb;t.AV.Codec.AVC.PPS=function(l){var h=this,a;h.parse=function(p){p=k.ebsp2rbsp(p);a=new b(p);h.Data=p;h.ID=a.ReadUE();if(256<=h.ID)throw{name:"DataError",message:"PPS ID(0x"+h.ID.toString(16)+") out of range."};h.SpsID=a.ReadUE();if(32<=h.SpsID)throw{name:"DataError",message:"SPS ID(0x"+h.SpsID.toString(16)+") out of range."};if(14<c.BitDepthLuma)throw{name:"DataError",message:"Invalid BitDepthLuma "+c.BitDepthLuma+"."};if(11===c.BitDepthLuma||13===c.BitDepthLuma)throw{name:"DataError",
message:"Unimplemented BitDepthLuma "+c.BitDepthLuma+"."};h.EntropyCodingModeFlag=a.ReadBits(1);h.PicOrderPresentFlag=a.ReadBits(1);h.NumSliceGroups=a.ReadUE()+1;1<h.NumSliceGroups&&(h.SliceGroupMapType=a.ReadUE(),k.debug("FMO not supported!"));h.NumRefIdx[0]=a.ReadUE()+1;h.NumRefIdx[1]=a.ReadUE()+1;if(31<h.NumRefIdx[0]-1||31<h.NumRefIdx[1]-1)throw{name:"DataError",message:"PPS reference overflow."};p=6*(c.BitDepthLuma-8);h.WeightedPredFlag=a.ReadBits(1);h.WeightedBipredIdc=a.ReadBits(2);h.PicInitQp=
a.ReadSE()+26+p;h.PicInitQs=a.ReadSE()+26+p;h.ChromaQpIndexOffset[0]=a.ReadSE();h.DeblockingFilterControlPresentFlag=a.ReadBits(1);h.ConstrainedIntraPredFlag=a.ReadBits(1);h.RedundantPicCntPresentFlag=a.ReadBits(1);h.Transform8x8ModeFlag=0;if(p=0<a.Left())66!==c.ProfileIdc&&77!==c.ProfileIdc&&88!==c.ProfileIdc||0===(c.ConstraintSetFlags&7)?p=!0:(k.debug("Current profile doesn't provide more RBSP data in PPS, skipping..."),p=!1);p?(h.Transform8x8ModeFlag=a.ReadBits(1),h.PicScalingMatrixPresentFlag=
a.ReadBits(1),0!==h.PicScalingMatrixPresentFlag&&(p=2,3===c.ChromaFormatIdc&&(p=6),a.ReadBits(6+p*h.Transform8x8ModeFlag)),h.ChromaQpIndexOffset[1]=a.ReadSE()):h.ChromaQpIndexOffset[1]=h.ChromaQpIndexOffset[0];h.ChromaQpIndexOffset[0]!==h.ChromaQpIndexOffset[1]&&(h.ChromaQpDiff=1)};var c=l;h.ID=0;h.SpsID=0;h.EntropyCodingModeFlag=0;h.PicOrderPresentFlag=0;h.NumSliceGroups=0;h.SliceGroupMapType=0;h.NumRefIdx=Array(2);h.WeightedPredFlag=0;h.WeightedBipredIdc=0;h.PicInitQp=0;h.PicInitQs=0;h.ChromaQpIndexOffset=
Array(2);h.DeblockingFilterControlPresentFlag=0;h.ConstrainedIntraPredFlag=0;h.RedundantPicCntPresentFlag=0;h.Transform8x8ModeFlag=0;h.PicScalingMatrixPresentFlag=0;h.ChromaQpDiff=0}})(playease);
(function(t){function k(g,f){h.call(this,"MediaStreamTrack");var n=this;n.stop=function(){};n.clone=function(){return new k(n.kind,n.source)};n.id=0;n.sn=0;n.kind=g;n.source=f}var b=t.utils,l=t.events,h=l.EventDispatcher,a=l.Event,c=l.MediaStreamTrackEvent;t=t.AV;var p=t.Information,d={},u=[];d.register=function(g,f){try{u.splice(f||u.length,0,g),d[g.prototype.kind]=g}catch(n){b.error("Failed to register format "+g.prototype.kind+", Error="+n.message)}};d.get=function(g){for(var f=0;f<u.length;f++){var n=
u[f];if(n.prototype.kind===g)return n}return null};k.KindAudio="audio";k.KindVideo="video";d.MediaStreamTrack=k;d.MediaStream=function(){h.call(this,"MediaStream",null,c,[a.ERROR]);var g=this;g.addTrack=function(v){for(var q=0;q<n.length;q++)if(n[q]===v){b.warn("MediaStreamTrack already added.");return}v.id=f++;n.push(v);b.log("Added "+v.kind+" track("+v.id+") to "+g.kind+".");g.dispatchEvent(c.ADDTRACK,{track:v})};g.removeTrack=function(v){for(var q=0;q<n.length;q++)if(n[q]===v){n.splice(q,1);b.log("Removed "+
v.kind+" track("+v.id+") to "+g.kind+".");g.dispatchEvent(c.REMOVETRACK,{track:v});break}};g.getTrackById=function(v){for(var q=0;q<n.length;q++)if(n[q].id===v)return n[q];return null};g.getTracks=function(){var v=[];b.forEach(n,function(q,r){v.push(r)});return v};g.getAudioTracks=function(){var v=[];b.forEach(n,function(q,r){r.kind===k.KindAudio&&v.push(r)});return v};g.getVideoTracks=function(){var v=[];b.forEach(n,function(q,r){r.kind===k.KindVideo&&v.push(r)});return v};g.close=function(){b.forEach(n,
function(v,q){q.stop();g.dispatchEvent(c.REMOVETRACK,{track:q})});f=1;n=[];g.info=new p};var f=1;var n=[];g.info=new p};t.format=d.get;t.Format=d})(playease);
(function(t){function k(){function n(){q=f.f;v.hasAudio=!1;v.hasVideo=!1}d.call(this,"FLV");var v=this,q,r;v.append=function(x){x=new Uint8Array(x);for(var e=0;e<x.byteLength;e++)switch(q){case f.f:if(70!==x[e]){v.dispatchEvent(h.ERROR,{name:"DataError",message:'Not "F"'});return}q=f.l;break;case f.l:if(76!==x[e]){v.dispatchEvent(h.ERROR,{name:"DataError",message:'Not "L"'});return}q=f.v;break;case f.v:if(86!==x[e]){v.dispatchEvent(h.ERROR,{name:"DataError",message:'Not "V"'});return}q=f.version;
break;case f.version:q=f.flags;break;case f.flags:v.hasAudio=!!(x[e]&4);v.hasVideo=!!(x[e]&1);q=f.header0;break;case f.header0:q=f.header1;break;case f.header1:q=f.header2;break;case f.header2:q=f.header3;break;case f.header3:q=f.backpointer0;break;case f.backpointer0:q=f.backpointer1;break;case f.backpointer1:q=f.backpointer2;break;case f.backpointer2:q=f.backpointer3;break;case f.backpointer3:q=f.type;break;case f.type:r=new c.Packet;switch(x[e]){case u.AUDIO:r.kind=p.KindAudio;break;case u.VIDEO:r.kind=
p.KindVideo;break;case u.SCRIPT:r.kind=p.KindScript;break;default:v.dispatchEvent(h.ERROR,{name:"TypeError",message:"Unrecognized flv tag "+b.hex(x[e])+"."});return}q=f.length0;break;case f.length0:r.length=x[e]<<16;q=f.length1;break;case f.length1:r.length|=x[e]<<8;q=f.length2;break;case f.length2:r.length|=x[e];r.payload=new Uint8Array(r.length);r.position=0;q=f.timestamp0;break;case f.timestamp0:r.timestamp=x[e]<<16;q=f.timestamp1;break;case f.timestamp1:r.timestamp|=x[e]<<8;q=f.timestamp2;break;
case f.timestamp2:r.timestamp|=x[e];q=f.timestamp3;break;case f.timestamp3:r.timestamp|=x[e]<<24;q=f.streamid0;break;case f.streamid0:r.streamid=x[e]<<16;q=f.streamid1;break;case f.streamid1:r.streamid|=x[e]<<8;q=f.streamid2;break;case f.streamid2:r.streamid|=x[e];q=f.payload;break;case f.payload:var m=Math.min(r.length-r.position,x.byteLength-e);r.payload.set(x.subarray(e,e+m),r.position);r.position+=m;e+=m-1;if(r.position===r.length){switch(r.kind){case p.KindAudio:r.set("Format",r.payload[0]>>
4&15);r.set("SampleRate",r.payload[0]>>2&3);r.set("SampleSize",r.payload[0]>>1&1);r.set("SampleType",r.payload[0]&1);r.set("DataType",r.payload[1]);r.position=1;break;case p.KindVideo:r.set("FrameType",r.payload[0]>>4&15);r.set("Codec",r.payload[0]&15);r.set("DataType",r.payload[1]);r.set("Keyframe",r.get("FrameType")===g.KEYFRAME);r.position=1;break;case p.KindScript:r.position=0}v.dispatchEvent(a.PACKET,{packet:r});q=f.backpointer0}break;default:v.dispatchEvent(h.ERROR,{name:"InvalidStateError",
message:"Invalid state while parsing flv tag."});return}};v.reset=function(){n();v.close()};n()}var b=t.utils,l=t.events,h=l.Event,a=l.MediaEvent,c=t.AV,p=c.Packet;t=c.Format;var d=t.MediaStream,u={AUDIO:8,VIDEO:9,SCRIPT:18},g={KEYFRAME:1,INTER_FRAME:2,DISPOSABLE_INTER_FRAME:3,GENERATED_KEYFRAME:4,INFO_OR_COMMAND_FRAME:5},f={f:0,l:1,v:2,version:3,flags:4,header0:5,header1:6,header2:7,header3:8,backpointer0:9,backpointer1:10,backpointer2:11,backpointer3:12,type:13,length0:14,length1:15,length2:16,
timestamp0:17,timestamp1:18,timestamp2:19,timestamp3:20,streamid0:21,streamid1:22,streamid2:23,payload:24};k.prototype=Object.create(d.prototype);k.prototype.constructor=k;k.prototype.kind="FLV";k.Tags=u;k.Frames=g;k.Formats={LINEAR_PCM_PLATFORM_ENDIAN:0,ADPCM:1,MP3:2,LINEAR_PCM_LITTLE_ENDIAN:3,NELLYMOSER_16_kHz_MONO:4,NELLYMOSER_8_kHz_MONO:5,NELLYMOSER:6,G_711_A_LAW_LOGARITHMIC_PCM:7,G_711_MU_LAW_LOGARITHMIC_PCM:8,RESERVED:9,AAC:10,SPEEX:11,MP3_8_kHz:14,DEVICE_SPECIFIC_SOUND:15};k.Rates=[5500,11025,
22050,44100];k.Codecs={JPEG:1,H263:2,SCREEN_VIDEO:3,VP6:4,VP6_ALPHA:5,SCREEN_VIDEO_2:6,AVC:7};t.FLV=k})(playease);
(function(t){function k(){a.call(this,"FMP4");var e=this;e.append=function(m){e.dispatchEvent(l.ERROR,{name:"NotSupportedError",message:"The operation is not supported."})};e.getInitSegment=function(){var m=e.ftyp(),w=e.moov.apply(e,arguments);return k.merge(m,w)};e.getSegment=function(m,w){var y=m.source,D=w.get("DTS")-e.info.TimeBase-y.ExpectedDts;w.set("DTS",y.ExpectedDts);w.set("PTS",w.get("CTS")+w.get("DTS"));w.set("Duration",y.RefSampleDuration+D);y.ExpectedDts=w.get("DTS")+w.get("Duration");
m.kind===h.KindVideo&&(w.get("Keyframe")?(y.Flags.SampleDependsOn=2,y.Flags.SampleIsDependedOn=1):(y.Flags.SampleDependsOn=1,y.Flags.SampleIsDependedOn=0));m.sn++;m=e.moof(m,w);w=e.mdat(w.get("Data"));return k.merge(m,w)};e.box=function(m){for(var w=Array.prototype.slice.call(arguments,1),y=8,D=0;D<w.length;D++)y+=w[D].byteLength;var I=0,K=new Uint8Array(y);K[I++]=y>>>24&255;K[I++]=y>>>16&255;K[I++]=y>>>8&255;K[I++]=y&255;K.set(m,I);I+=4;for(D=0;D<w.length;D++)K.set(w[D],I),I+=w[D].byteLength;return K};
e.ftyp=function(){return e.box(c.ftyp,d)};e.moov=function(){for(var m=[],w=[],y=e.mvhd(),D=Array.prototype.slice.call(arguments,0),I=0;I<D.length;I++){var K=D[I],R=e.trak(K);K=e.trex(K);m.push(R);w.push(K)}w=e.box.apply(e,[c.mvex].concat(w));return e.box.apply(e,[c.moov].concat([y],m,[w]))};e.mvhd=function(){var m=e.info.Timescale,w=1E3*e.info.Duration;return e.box(c.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,m>>24&255,m>>16&255,m>>8&255,m&255,w>>24&255,w>>16&255,w>>8&255,w&255,0,1,0,0,1,0,0,0,
0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))};e.trak=function(m){var w=e.tkhd(m);m=e.mdia(m);return e.box(c.trak,w,m)};e.tkhd=function(m){m=m.id;var w=1E3*e.info.Duration,y=e.info.Width,D=e.info.Height;return e.box(c.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,m>>24&255,m>>16&255,m>>8&255,m&255,0,0,0,0,w>>24&255,w>>16&255,w>>8&255,w&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,y>>8&255,y&255,0,0,D>>8&255,D&255,0,0]))};e.mdia=function(m){var w=e.mdhd(),y=e.hdlr(m);m=e.minf(m);return e.box(c.mdia,w,y,m)};e.mdhd=function(){var m=e.info.Timescale,w=1E3*e.info.Duration;return e.box(c.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,m>>24&255,m>>16&255,m>>8&255,m&255,w>>24&255,w>>16&255,w>>8&255,w&255,85,196,0,0]))};e.hdlr=function(m){return e.box(c.hdlr,m.kind===h.KindAudio?g:u)};e.minf=function(m){var w=m.kind===h.KindAudio?
e.box(c.smhd,x):e.box(c.vmhd,r);var y=e.dinf();m=e.stbl(m);return e.box(c.minf,w,y,m)};e.dinf=function(){var m=e.box(c.dref,p);return e.box(c.dinf,m)};e.stbl=function(m){m=e.stsd(m);var w=e.box(c.stts,n),y=e.box(c.stsc,v),D=e.box(c.stsz,q),I=e.box(c.stco,STCO);return e.box(c.stbl,m,w,y,D,I)};e.stsd=function(m){return m.kind===h.KindAudio?e.box(c.stsd,f,e.mp4a(m)):e.box(c.stsd,f,e.avc1(m))};e.mp4a=function(m){var w=m.source.SamplingFrequency;w=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,m.source.ChannelConfiguration,
0,16,0,0,0,0,w>>>8&255,w&255,0,0]);m=e.esds(m);return e.box(c.mp4a,w,m)};e.esds=function(m){m=m.source.Config;var w=m.byteLength;w=new Uint8Array([0,0,0,0,3,23+w,0,1,0,4,15+w,64,21,0,0,0,0,0,0,0,0,0,0,0,5,w]);return e.box(c.esds,w,m,new Uint8Array([6,1,2]))};e.avc1=function(m){var w=e.info.CodecWidth,y=e.info.CodecHeight;w=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,w>>8&255,w&255,y>>8&255,y&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,112,108,97,121,101,97,115,101,46,106,115,32,45,32,
118,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);m=e.box(c.avcC,m.source.AVCC);return e.box(c.avc1,w,m)};e.trex=function(m){m=m.id;return e.box(c.trex,new Uint8Array([0,0,0,0,m>>24&255,m>>16&255,m>>8&255,m&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))};e.moof=function(m,w){var y=e.mfhd(m);m=e.traf(m,w);return e.box(c.moof,y,m)};e.mfhd=function(m){m=m.sn;m=new Uint8Array([0,0,0,0,m>>24&255,m>>16&255,m>>8&255,m&255]);return e.box(c.mfhd,m)};e.traf=function(m,w){var y=m.id,D=w.get("DTS");y=e.box(c.tfhd,
new Uint8Array([0,0,0,0,y>>24&255,y>>16&255,y>>8&255,y&255]));D=e.box(c.tfdt,new Uint8Array([0,0,0,0,D>>24&255,D>>16&255,D>>8&255,D&255]));w=e.trun(m,w);m=e.sdtp(m);return e.box(c.traf,y,D,w,m)};e.trun=function(m,w){var y=w.get("Duration"),D=w.get("Data").byteLength;m=m.source.Flags;w=w.get("CTS");return e.box(c.trun,new Uint8Array([0,0,15,1,0,0,0,1,0,0,0,121,y>>24,y>>16,y>>8,y,D>>24,D>>16,D>>8,D,m.IsLeading<<2|m.SampleDependsOn,m.SampleIsDependedOn<<6|m.SampleHasRedundancy<<4|m.IsNonSync,0,0,w>>
24,w>>16,w>>8,w]))};e.sdtp=function(m){m=m.source.Flags;return e.box(c.sdtp,new Uint8Array([0,0,0,0,m.IsLeading<<6|m.SampleDependsOn<<4|m.SampleIsDependedOn<<2|m.SampleHasRedundancy]))};e.mdat=function(m){return e.box(c.mdat,m)};e.reset=function(){e.close()}}var b=t.utils,l=t.events.Event;t=t.AV.Format;var h=t.MediaStreamTrack,a=t.MediaStream,c={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],
stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},p=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),d=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),u=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),g=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),f=
new Uint8Array([0,0,0,0,0,0,0,1]),n=new Uint8Array([0,0,0,0,0,0,0,0]),v=STCO=n,q=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),r=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),x=new Uint8Array([0,0,0,0,0,0,0,0]);b.forEach(c,function(e,m){m.push(e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3))});k.prototype=Object.create(a.prototype);k.prototype.constructor=k;k.prototype.kind="FMP4";k.merge=function(){for(var e=Array.prototype.slice.call(arguments,0),m=0,w=0;w<e.length;w++)m+=e[w].byteLength;
var y=0;m=new Uint8Array(m);for(w=0;w<e.length;w++)m.set(e[w],y),y+=e[w].byteLength;return m};k.parseDescriptor=function(e){e=new Uint8Array(e);for(var m=0,w={},y,D=0;D<e.byteLength;D++)switch(m){case 0:y={type:e[D],size:0,data:void 0};w[y.type]=y;m=1;break;case 1:case 2:case 3:case 4:var I=e[D];y&&(y.size=y.size<<7|I&127);I&128?m++:m=5;break;case 5:y&&(y.data=e.subarray(D,D+y.size),D+=y.size-1);m=0;break;default:throw{name:"InvalidStateError",message:"Invalid state while parsing fmp4 descriptor."};
}return w};t.FMP4=k})(playease);(function(t){var k=t.utils,b={},l=[];b.register=function(h,a){try{l.splice(a||l.length,0,h),b[h.prototype.kind]=h}catch(c){k.error("Failed to register module "+h.prototype.kind+", Error="+c.message)}};b.get=function(h,a){for(var c=0;c<l.length;c++){var p=l[c];if(p.prototype.isSupported(h,a))return p}return null};t.module=b.get;t.Module=b})(playease);
(function(t){function k(g){p.call(this,"SRC",null,d,u);var f=this,n;f.setup=function(){!1===v&&(v=!0,f.dispatchEvent(d.READY,{kind:f.kind}))};f.play=function(r,x){"string"===b.typeOf(r)&&r!==n&&r!==q.src&&(n=r,f.dispatchEvent(d.DURATIONCHANGE,{duration:NaN}),q.src=r);if(r=q.play())r["catch"](function(e){switch(e.name){case "AbortError":b.debug(e.name+": "+e.message);break;case "NotAllowedError":b.warn("Failed to play due to the autoplay policy, trying to play with muted.");q.muted=!0;q.play();break;
default:b.error("Unrecognized error occured, "+e.name+": "+e.message),f.dispatchEvent(d.STALLED,{name:e.name,message:e.message})}});q.controls=!1};f.pause=function(){q.pause();q.controls=!1};f.seek=function(r){q.currentTime=r};f.stop=function(){v=!1;n=void 0;q.removeAttribute("src");q.load();q.controls=!1};f.muted=function(r){"boolean"===b.typeOf(r)&&(q.muted=r);return q.muted};f.volume=function(r){"number"===b.typeOf(r)&&(q.volume=r);return q.volume};f.cleanup=function(){f.stop();v=!1};f.element=
function(){return q};f.config=g;var v=!1;var q=b.createElement("video");q.addEventListener("play",f.forward);q.addEventListener("loadstart",f.forward);q.addEventListener("waiting",f.forward);q.addEventListener("stalled",f.forward);q.addEventListener("abort",f.forward);q.addEventListener("timeout",f.forward);q.addEventListener("durationchange",function(r){f.dispatchEvent(d.DURATIONCHANGE,{duration:q.duration})});q.addEventListener("loadedmetadata",f.forward);q.addEventListener("loadeddata",f.forward);
q.addEventListener("progress",f.forward);q.addEventListener("canplay",f.forward);q.addEventListener("playing",f.forward);q.addEventListener("canplaythrough",f.forward);q.addEventListener("suspend",f.forward);q.addEventListener("pause",f.forward);q.addEventListener("seeking",f.forward);q.addEventListener("seeked",f.forward);q.addEventListener("ratechange",f.forward);q.addEventListener("timeupdate",function(r){r=q.buffered;f.dispatchEvent(d.TIMEUPDATE,{start:r.length?r.start(0):0,time:q.currentTime,
buffered:r.length?r.end(r.length-1):0,duration:q.duration})});q.addEventListener("volumechange",function(r){f.dispatchEvent(d.VOLUMECHANGE,{muted:q.muted,volume:q.volume})});q.addEventListener("load",f.forward);q.addEventListener("ended",f.forward);q.addEventListener("error",function(r){f.dispatchEvent(d.ERROR,{name:{1:"AbortError",2:"NetworkError",3:"EncodingError",4:"NotSupportedError"}[q.error.code],message:q.error.message})});f.config.objectfit&&l.style(q,{"object-fit":f.config.objectfit});f.config.airplay&&
q.setAttribute("x-webkit-airplay","allow");f.config.playsinline&&(q.setAttribute("playsinline","isiPhoneShowPlaysinline"),q.setAttribute("webkit-playsinline","isiPhoneShowPlaysinline"),q.setAttribute("x5-playsinline",""),q.setAttribute("x5-video-player-type","h5-page"),q.setAttribute("x5-video-player-fullscreen",!0),q.setAttribute("t7-video-player-type","inline"));f.config.preload&&(q.preload=f.config.preload);q.muted=f.config.muted;q.volume=f.config.volume}var b=t.utils,l=b.css,h=t.OS,a=t.Browser,
c=t.events,p=c.EventDispatcher,d=c.Event,u=c.IOEvent;t=t.Module;k.prototype=Object.create(p.prototype);k.prototype.constructor=k;k.prototype.kind="SRC";k.prototype.isSupported=function(g,f){if(a.isMSIE&&9>a.major)return!1;g=new b.URL(g);if("http:"!==g.protocol&&"https:"!==g.protocol)return!1;f="m3u8 m3u hls mp4 f4v m4v mov m4a f4a aac ogv ogg mp3 oga webm".split(" ");var n="mp4 f4v m4v mov m4a f4a aac ogv ogg mp3 oga webm".split(" ");f=h.isMobile||h.isMac?f:n;for(n=0;n<f.length;n++)if(g.filetype===
f[n])return!0;return!1};t.register(k)})(playease);
(function(t){function k(R){function S(z){b.log("MediaSource.onsourceopen");ya=new Date;na=oa=NaN;pa=za=0;Aa.start();Q.load(ea)}function H(z){b.log("MediaSource.onsourceended")}function U(z){b.log("MediaSource.onsourceclose")}function V(z){b.log("MediaSource.onsourceerror");B.dispatchEvent(d.ERROR,{name:err.name,message:err.message})}function ka(z){qa();var F;z.loader&&"auto"!==z.loader.name&&(F=v[z.loader.name]);null!=F&&F.prototype.isSupported(ea,B.config.mode)||(F=t.io(ea,B.config.mode));if(null==
F)throw{name:"NotSupportedError",message:"No supported io found."};Q=new F(z.loader);Q.addEventListener(u.LOADSTART,B.forward);Q.addEventListener(u.STALLED,B.forward);Q.addEventListener(u.ABORT,ra);Q.addEventListener(u.TIMEOUT,ia);Q.addEventListener(u.PROGRESS,sa);Q.addEventListener(u.SUSPEND,B.forward);Q.addEventListener(u.LOAD,B.forward);Q.addEventListener(u.LOADEND,Y);Q.addEventListener(d.ERROR,ia);b.log(Q.kind+" loader initialized.")}function qa(){Q&&(Q.removeEventListener(u.LOADSTART,B.forward),
Q.removeEventListener(u.STALLED,B.forward),Q.removeEventListener(u.ABORT,ra),Q.removeEventListener(u.TIMEOUT,ia),Q.removeEventListener(u.PROGRESS,sa),Q.removeEventListener(u.SUSPEND,B.forward),Q.removeEventListener(u.LOAD,B.forward),Q.removeEventListener(u.LOADEND,Y),Q.removeEventListener(d.ERROR,ia),Q.abort())}function sa(z){b.debug("progress: "+z.data.loaded+"/"+z.data.total);za+=z.data.loaded;pa+=z.data.loaded;B.dispatchEvent(f.STATSUPDATE,{stats:{LoadedBytes:b.formatBytes(za)}});N.append(z.data.buffer)}
function ra(z){z.type=d.ENDED;B.forward(z)}function ia(z){B.forward(z)}function ta(z){z=z.data.packet;switch(z.kind){case r.KindVideo:if(z.get("Codec")!==y.AVC){B.dispatchEvent(d.ERROR,{name:"NotSupportedError",message:"Video codec "+b.hex(z.get("Codec"))+" not supported."});break}var F=N.getVideoTracks()[0];if(z.get("DataType")===x.AVC.DataTypes.SEQUENCE_HEADER){if(F){b.warn("Video track already exists, ignored.");break}F=new x.AVC(N.info);F=new m(m.KindVideo,F);N.addTrack(F)}else if(0<z.timestamp&&
z.timestamp<N.info.VideoTimestamp){b.warn("Drops unordered video packet: "+z.timestamp);break}isNaN(na)&&(na=(new Date).getTime()-ya.getTime(),B.dispatchEvent(f.STATSUPDATE,{stats:{FirstVideoFrame:(na/1E3).toLocaleString()+" sec."}}));F.source.parse(z);break;case r.KindAudio:if(z.get("Format")!==w.AAC){B.dispatchEvent(d.ERROR,{name:"NotSupportedError",message:"Audio format "+b.hex(z.get("Format"))+" not supported."});break}F=N.getAudioTracks()[0];if(z.get("DataType")===x.AAC.DataTypes.SPECIFIC_CONFIG){if(F){b.warn("Audio track already exists, ignored.");
break}F=new x.AAC(N.info);F=new m(m.KindAudio,F);N.addTrack(F)}else if(0<z.timestamp&&z.timestamp<=N.info.AudioTimestamp){b.warn("Drops unordered audio packet: "+z.timestamp);break}isNaN(oa)&&(oa=(new Date).getTime()-ya.getTime(),B.dispatchEvent(f.STATSUPDATE,{stats:{FirstAudioFrame:(oa/1E3).toLocaleString()+" sec."}}));F.source.parse(z);break;case r.KindScript:F=new q.Value;var O=q.decode(F,z.payload.buffer,z.position);F.key=F.get();O+=q.decode(F,z.payload.buffer,z.position+O);var W={};b.forEach(F.get(),
function(ja,Ba){W[Ba.key]=Ba.get()});b.log(F.key+":",W);"onMetaData"===F.key&&ua(F);break;default:b.error("Unrecognized flv tag "+b.hex(z.kind)+".")}}function va(z){z=z.data.track.clone();z.source.addEventListener(f.AVC_CONFIG_RECORD,Z);z.source.addEventListener(f.AAC_SPECIFIC_CONFIG,E);z.source.addEventListener(f.AVC_SAMPLE,la);z.source.addEventListener(f.AAC_SAMPLE,M);z.source.addEventListener(f.END_OF_STREAM,Y);z.source.addEventListener(d.ERROR,B.forward);X.addTrack(z)}function ma(z){z=X.getTrackById(z.data.track.id);
z.source.removeEventListener(f.AVC_CONFIG_RECORD,Z);z.source.removeEventListener(f.AAC_SPECIFIC_CONFIG,E);z.source.removeEventListener(f.AVC_SAMPLE,la);z.source.removeEventListener(f.AAC_SAMPLE,M);z.source.removeEventListener(f.END_OF_STREAM,Y);z.source.removeEventListener(d.ERROR,B.forward);z.stop();X.removeTrack(z)}function ua(z){var F={MimeType:N.info.MimeType,Codecs:N.info.Codecs.join(", "),Timescale:N.info.Timescale},O={duration:"Duration",fileSize:"FileSize",width:"Width",height:"Height",framerate:"FrameRate",
audiodatarate:"AudioDataRate",videodatarate:"VideoDataRate",audiosamplerate:"SampleRate",audiosamplesize:"SampleSize",audiochannels:"Channels",stereo:"Stereo",encoder:"Encoder"};b.forEach(z.table,function(W,ja){if(ja=O[W]){switch(ja){case "FrameRate":N.info.FrameRate.Num=z.table[W].get();N.info.FrameRate.Den=1;break;default:N.info[ja]=z.table[W].get()}F[ja]=z.table[W].get()}});B.dispatchEvent(f.INFOCHANGE,{info:F})}function Z(z){z=X.getVideoTracks()[0];L(z);var F=X.getInitSegment(z);aa[z.kind].push(F);
P(z.kind)}function E(z){z=X.getAudioTracks()[0];L(z);var F=X.getInitSegment(z);aa[z.kind].push(F);P(z.kind)}function la(z){var F=X.getVideoTracks()[0];z=X.getSegment(F,z.data.packet);aa[F.kind].push(z);P(F.kind)}function M(z){var F=X.getAudioTracks()[0];z=X.getSegment(F,z.data.packet);aa[F.kind].push(z);P(F.kind)}function Y(z){wa=!0}function L(z){var F=z.source;F=F.MimeType+'; codecs="'+F.Codec+'"';if(!1===MediaSource.isTypeSupported(F))b.warn(F+" not supported!");else if("closed"===T.readyState)B.dispatchEvent(d.ERROR,
{name:"InvalidStateError",message:"MediaSource is already closed while adding SourceBuffer."});else{b.log("Adding SourceBuffer: "+F);try{var O=T.addSourceBuffer(F);O.addEventListener("updateend",ha);O.addEventListener("error",A);O.kind=z.kind;fa[z.kind]=O}catch(W){b.error(W.name+": "+W.message)}B.dispatchEvent(f.INFOCHANGE,{info:{MimeType:N.info.MimeType,Codecs:N.info.Codecs.join(", "),Timescale:N.info.Timescale}})}}function P(z){if(N.hasAudio||N.hasVideo)if(N.hasAudio&&!fa[m.KindAudio]||N.hasVideo&&
!fa[m.KindVideo])return;var F=fa[z];if(F&&!F.updating&&(z=aa[z].shift()))try{F.appendBuffer(z)}catch(O){b.error(O.name+": "+O.message),B.dispatchEvent(d.ERROR,{name:O.name,message:O.message})}}function ha(z){b.debug("SourceBuffer.onupdateend");z=z.target;if(!ba){var F=G.buffered;if(F.length){F=F.start(0);var O=h.isMac&&a.isSafari?.5:.001;G.currentTime<F&&(G.currentTime=F+O,ba=!0,b.warn("Seems stalled, seeking to the available time "+G.currentTime+"."))}}if(wa){if("open"!==T.readyState)return;if(!aa[m.KindAudio].length&&
!aa[m.KindVideo].length){T.endOfStream();return}}if(1.1*da[z.kind]>=B.config.maxPlaybackLength)try{z.remove(0,da[z.kind]-B.config.maxPlaybackLength/2),da[z.kind]=0}catch(ja){var W=G.buffered;F=W.length?W.start(0):0;O=G.currentTime;W=W.length?W.end(W.length-1):0;b.log("Failed to remove "+z.kind+" buffer: updating="+z.updating+", start="+F+", time="+O+", buffered="+W+", duration="+G.duration)}else P(z.kind)}function A(z){b.error("SourceBuffer.onerror");B.dispatchEvent(d.ERROR,{name:"DataError",message:"SourceBuffer error occurs."})}
function C(z){var F=G.currentTime;b.forEach(da,function(O,W){da[O]=F})}function J(z){for(var F=0;F<D.length;F++)if(D[F]===z)return!0;return!1}p.call(this,"FLV",null,d,u);var B=this,ca,ba,Q,ya,oa,na,za,pa;B.setup=function(){!1===ca&&(ca=!0,B.dispatchEvent(d.READY,{kind:B.kind}))};B.play=function(z,F){if("string"===b.typeOf(z)&&(new b.URL(z)).href!==ea.href){try{ea.parse(z)}catch(O){b.error('Failed to parse url "'+z+'".');B.dispatchEvent(d.ERROR,{name:O.name,message:O.message});return}if(!J(ea.hostname)){ea=
new b.URL;B.dispatchEvent(d.ERROR,{name:I,message:K});return}wa=!1;N.reset();X.reset();X.info=N.info;ka(F||{});B.dispatchEvent(d.DURATIONCHANGE,{duration:NaN});G.src=URL.createObjectURL(T);G.load()}if(z=G.play())z["catch"](function(O){switch(O.name){case "AbortError":b.debug(O.name+": "+O.message);break;case "NotAllowedError":b.warn("Failed to play due to the autoplay policy, trying to play with muted.");G.muted=!0;G.play();break;default:b.error("Unrecognized error occured, "+O.name+": "+O.message),
B.dispatchEvent(d.ERROR,{name:O.name,message:O.message})}});G.controls=!1};B.pause=function(){G.pause();G.controls=!1};B.seek=function(z){G.currentTime=z};B.stop=function(){xa.reset();Aa.reset();Q&&Q.abort();b.forEach(fa,function(z,F){F&&(F.removeEventListener("updateend",ha),F.removeEventListener("error",A),T.removeSourceBuffer(F));fa[z]=null});b.forEach(aa,function(z,F){aa[z]=[]});b.forEach(da,function(z,F){da[z]=0});wa=ba=ca=!1;ea=new b.URL;G.removeAttribute("src");G.load();G.controls=!1};B.muted=
function(z){"boolean"===b.typeOf(z)&&(G.muted=z);return G.muted};B.volume=function(z){"number"===b.typeOf(z)&&(G.volume=z);return G.volume};B.cleanup=function(){B.stop();xa.removeEventListener(g.TIMER,C);T.removeEventListener("sourceopen",S);T.removeEventListener("sourceended",H);T.removeEventListener("sourceclose",U);T.removeEventListener("error",V);T.removeEventListener("webkitsourceopen",S);T.removeEventListener("webkitsourceended",H);T.removeEventListener("webkitsourceclose",U);T.removeEventListener("webkiterror",
V);N.close();N.removeEventListener(f.PACKET,ta);N.removeEventListener(n.ADDTRACK,va);N.removeEventListener(n.REMOVETRACK,ma);N.removeEventListener(d.ERROR,B.forward);X.close();X.removeEventListener(d.ERROR,B.forward);qa()};B.element=function(){return G};B.config=R;var wa=ba=ca=!1;var ea=new b.URL;new b.FileKeeper;var fa={};fa[m.KindAudio]=null;fa[m.KindVideo]=null;var aa={};aa[m.KindAudio]=[];aa[m.KindVideo]=[];var da={};da[m.KindAudio]=0;da[m.KindVideo]=0;var xa=new b.Timer(500*B.config.maxPlaybackLength);
xa.addEventListener(g.TIMER,C);var Aa=new b.Timer(1E3);Aa.addEventListener(g.TIMER,function(z){B.dispatchEvent(f.STATSUPDATE,{stats:{LoadingSpeed:b.formatBytes(pa)+"/sec."}});pa=0});var T=new (window.MediaSource||window.WebKitMediaSource);T.addEventListener("sourceopen",S);T.addEventListener("sourceended",H);T.addEventListener("sourceclose",U);T.addEventListener("error",V);T.addEventListener("webkitsourceopen",S);T.addEventListener("webkitsourceended",H);T.addEventListener("webkitsourceclose",U);
T.addEventListener("webkiterror",V);var N=new e.FLV;N.addEventListener(f.PACKET,ta);N.addEventListener(n.ADDTRACK,va);N.addEventListener(n.REMOVETRACK,ma);N.addEventListener(d.ERROR,B.forward);var X=new e.FMP4;X.addEventListener(d.ERROR,B.forward);var G=b.createElement("video");G.addEventListener("play",B.forward);G.addEventListener("loadstart",B.forward);G.addEventListener("waiting",B.forward);G.addEventListener("stalled",B.forward);G.addEventListener("abort",B.forward);G.addEventListener("timeout",
B.forward);G.addEventListener("durationchange",function(z){"live"!==B.config.mode||isNaN(B.config.maxPlaybackLength)||xa.start();B.dispatchEvent(d.DURATIONCHANGE,{duration:G.duration});B.dispatchEvent(f.INFOCHANGE,{info:{Duration:G.duration}})});G.addEventListener("loadedmetadata",B.forward);G.addEventListener("loadeddata",B.forward);G.addEventListener("progress",B.forward);G.addEventListener("canplay",B.forward);G.addEventListener("playing",B.forward);G.addEventListener("canplaythrough",B.forward);
G.addEventListener("suspend",B.forward);G.addEventListener("pause",B.forward);G.addEventListener("seeking",B.forward);G.addEventListener("seeked",B.forward);G.addEventListener("ratechange",B.forward);G.addEventListener("timeupdate",function(z){z=G.buffered;B.dispatchEvent(d.TIMEUPDATE,{start:z.length?z.start(0):0,time:G.currentTime,buffered:z.length?z.end(z.length-1):0,duration:G.duration});z=G.getVideoPlaybackQuality();B.dispatchEvent(f.STATSUPDATE,{stats:{DroppedVideoFrames:z.droppedVideoFrames.toLocaleString(),
TotalVideoFrames:z.totalVideoFrames.toLocaleString()}})});G.addEventListener("volumechange",function(z){B.dispatchEvent(d.VOLUMECHANGE,{muted:G.muted,volume:G.volume})});G.addEventListener("load",B.forward);G.addEventListener("ended",B.forward);G.addEventListener("error",function(z){B.dispatchEvent(d.ERROR,{name:{1:"AbortError",2:"NetworkError",3:"EncodingError",4:"NotSupportedError"}[G.error.code],message:G.error.message})});B.config.objectfit&&l.style(G,{"object-fit":B.config.objectfit});B.config.airplay&&
G.setAttribute("x-webkit-airplay","allow");B.config.playsinline&&(G.setAttribute("playsinline","isiPhoneShowPlaysinline"),G.setAttribute("webkit-playsinline","isiPhoneShowPlaysinline"),G.setAttribute("x5-playsinline",""),G.setAttribute("x5-video-player-type","h5-page"),G.setAttribute("x5-video-player-fullscreen",!0),G.setAttribute("t7-video-player-type","inline"));G.muted=B.config.muted;G.volume=B.config.volume}var b=t.utils,l=b.css,h=t.OS,a=t.Browser,c=t.events,p=c.EventDispatcher,d=c.Event,u=c.IOEvent,
g=c.TimerEvent,f=c.MediaEvent,n=c.MediaStreamTrackEvent,v=t.IO,q=b.AMF;c=t.AV;var r=c.Packet,x=c.Codec,e=c.Format,m=e.MediaStreamTrack,w=e.FLV.Formats,y=e.FLV.Codecs;c=t.Module;var D=[String.fromCharCode(49,50,55,46,48,46,48,46,49),String.fromCharCode(115,116,117,100,101,97,115,101,46,99,110),String.fromCharCode(51,57,46,57,56,46,52,48,46,49,57,51),String.fromCharCode(119,119,119,46,99,97,114,45,101,121,101,46,99,110),String.fromCharCode(119,119,119,46,115,116,114,101,97,109,105,110,103,45,118,105,
112,46,99,111,109),String.fromCharCode(49,50,48,46,55,54,46,50,51,53,46,49,48,57),String.fromCharCode(49,50,48,46,55,57,46,54,55,46,49,48,50)],I=String.fromCharCode(83,101,99,117,114,105,116,121,69,114,114,111,114),K=String.fromCharCode(84,104,101,32,111,112,101,114,97,116,105,111,110,32,105,115,32,105,110,115,101,99,117,114,101,46);k.prototype=Object.create(p.prototype);k.prototype.constructor=k;k.prototype.kind="FLV";k.prototype.isSupported=function(R,S){if(a.isMSIE&&9>a.major||!window.MediaSource&&
!window.WebKitMediaSource)return!1;R=new b.URL(R);if("http:"!==R.protocol&&"https:"!==R.protocol&&"ws:"!==R.protocol&&"wss:"!==R.protocol)return!1;S=["flv","",void 0];for(var H=0;H<S.length;H++)if(R.filetype===S[H])return!0;return!1};c.register(k)})(playease);(function(t){t.core={}})(playease);
(function(t){var k=t.utils;t.core.Model=function(b){var l=this,h,a,c,p;l.definition=function(d){"number"===k.typeOf(d)&&d!==c&&d<l.config.sources.length&&(k.log("Model definition changed: "+d),c=d);return isNaN(c)?null:l.config.sources[c]};l.duration=function(d){"number"!==k.typeOf(d)||d===p||isNaN(p)&&isNaN(d)||(k.log("Model duration changed: "+d),isNaN(p)&&Infinity!==d?l.config.mode="vod":Infinity!==p&&isNaN(d)?l.config.mode=h:l.config.mode="live",p=d);return p};l.state=function(d){"string"===k.typeOf(d)&&
d!==a&&(k.log("playease("+l.config.id+") state changed: "+d),a=d);return a};(function(){l.config=b;h=l.config.mode;a="";p=NaN;"array"!==k.typeOf(l.config.sources)&&(l.config.sources=[]);l.config.file&&(l.config.sources=[{file:l.config.file,module:l.config.module,loader:l.config.loader}]);c=l.config.sources.length?0:NaN;for(var d=0;d<l.config.sources.length;d++){var u=l.config.sources[d];null==t.module(u.file,l.config.mode)?(k.warn("Ignored unsupported source url: "+u.file+"."),l.config.sources.splice(d--,
1)):u["default"]&&(c=d)}0===l.config.sources.length&&k.warn("No supported source url provided.")})()}})(playease);
(function(t){function k(u,g){a.call(this,"View",null,c,p);var f=this,n;f.setup=function(m){void 0!==n&&(n.cleanup(),n.removeGlobalListener(f.forward),v.innerHTML="");try{n=new d[m](q.config),v.appendChild(n.element()),n.addGlobalListener(f.forward),n.muted(q.config.muted),n.volume(q.config.volume),n.setup()}catch(w){b.error("Failed to init module "+m+". "+w.name+": "+w.message)}};f.play=function(m,w){if(void 0===m){if(void 0===n){f.dispatchEvent(c.ERROR,{name:"NotFoundError",message:"Module not found while the source url doesn't provided."});
return}}else if(void 0===n||!n.isSupported(m,q.config.mode)){m=t.module(m,q.config.mode);if(null==m){f.dispatchEvent(c.ERROR,{name:"NotSupportedError",message:"No supported module found."});return}f.setup(m.prototype.kind);return}n.play(m,w)};f.pause=function(){n&&n.pause()};f.seek=function(m){n&&(n.seek(m),"pause"!==q.state()&&n.play())};f.stop=function(){n&&n.stop()};f.capture=function(m,w,y){if(void 0===n)f.dispatchEvent(c.ERROR,{name:"InvalidStateError",message:"No module initialized yet."});
else{var D=n.element();r.width=m||D.videoWidth;r.height=w||D.videoHeight;x.drawImage(D,0,0,r.width,r.height);try{var I=r.toDataURL(y||"image/png")}catch(R){f.dispatchEvent(c.ERROR,{name:R.name,message:R.message});return}m=atob(I.split(",")[1]);w=new Uint8Array(m.length);for(D=0;D<m.length;D++)w[D]=m.charCodeAt(D);y=new Blob([w],{type:y||"image/png"});var K=URL.createObjectURL(y);y=document.createEvent("MouseEvents");y.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null);m=document.createElementNS("http://www.w3.org/1999/xhtml",
"a");m.href=K;m.download="capture-"+e++ +".png";m.dispatchEvent(y);setTimeout(function(){URL.revokeObjectURL(K)},l.isIOS?1E3:0)}};f.muted=function(m){"boolean"===b.typeOf(m)&&(n?q.config.muted=n.muted(m):q.config.muted!==m&&(q.config.muted=m,f.dispatchEvent(c.VOLUMECHANGE,{muted:q.config.muted,volume:q.config.volume})));return q.config.muted};f.volume=function(m){"number"===b.typeOf(m)&&(n?q.config.volume=n.volume(m):q.config.volume!==m&&(q.config.volume=m,f.dispatchEvent(c.VOLUMECHANGE,{muted:q.config.muted,
volume:q.config.volume})));return q.config.volume};f.definition=function(m){"number"===b.typeOf(m)&&m!==q.definition()&&(m<q.config.sources.length?(q.definition(m),f.dispatchEvent(c.SWITCHING,{index:m})):f.dispatchEvent(c.ERROR,{name:"IndexSizeError",message:"The index is not in the allowed range."}));return q.definition()};f.onSWFState=function(m){switch(m.state){case "buffering":f.dispatchEvent(c.WAITING);break;case "playing":f.dispatchEvent(c.PLAYING);break;case "paused":f.dispatchEvent(c.PAUSE);
break;case "stopped":f.dispatchEvent(c.ENDED);break;case "error":f.dispatchEvent(c.ERROR,{name:err.name,message:"Flash plugin error occured."});break;default:f.dispatchEvent(c.ERROR,{name:"InvalidStateError",message:"Invalid state "+m.state+"."})}};f.element=function(){return n?n.element():null};f.resize=function(m,w){};var v=u;var q=g;var r=b.createElement("canvas");var x=r.getContext("2d");var e=0}var b=t.utils,l=t.OS,h=t.events,a=h.EventDispatcher,c=h.Event,p=h.IOEvent,d=t.Module;h=t.core;k.prototype=
Object.create(a.prototype);k.prototype.constructor=k;h.View=k})(playease);
(function(t){function k(d,u){function g(x){x.type===a.ENDED&&r.stop();q.state(x.type);f.forward(x)}h.call(this,"Controller",null,a,c);var f=this,n,v;f.play=function(x,e){if(void 0===x){if("pause"===q.state()){r.play();return}e=q.definition();if(null==e||!e.file){f.dispatchEvent(a.ERROR,{name:"NotFoundError",message:"No supported source url found."});return}x=e.file}n=x;v=e;r.play(n,v)};f.reload=function(){r.stop();f.play(n,v)};var q=d;var r=u;r.addEventListener(a.READY,function(x){b.log("playease("+
d.config.id+') module "'+x.data.kind+'" is ready.');g(x);f.play(n,v)});r.addEventListener(a.PLAY,g);r.addEventListener(c.SUSPEND,f.forward);r.addEventListener(c.LOADSTART,f.forward);r.addEventListener(c.STALLED,f.forward);r.addEventListener(a.WAITING,g);r.addEventListener(c.ABORT,f.forward);r.addEventListener(c.TIMEOUT,f.forward);r.addEventListener(a.DURATIONCHANGE,function(x){q.duration(x.data.duration);f.forward(x)});r.addEventListener(a.LOADEDMETADATA,f.forward);r.addEventListener(a.LOADEDDATA,
f.forward);r.addEventListener(c.PROGRESS,f.forward);r.addEventListener(a.CANPLAY,f.forward);r.addEventListener(a.PLAYING,g);r.addEventListener(a.CANPLAYTHROUGH,f.forward);r.addEventListener(a.PAUSE,g);r.addEventListener(a.SEEKING,g);r.addEventListener(a.SEEKED,f.forward);r.addEventListener(a.SWITCHING,function(x){var e=q.definition();b.log("Switching definition "+x.data.index+": "+e.file);var m=0,w=r.element();w&&(m=w.currentTime);g(x);f.play(e.file,e);r.seek(m)});r.addEventListener(a.SWITCHED,f.forward);
r.addEventListener(a.RATECHANGE,f.forward);r.addEventListener(a.TIMEUPDATE,f.forward);r.addEventListener(a.VOLUMECHANGE,f.forward);r.addEventListener(c.LOAD,f.forward);r.addEventListener(p.INFOCHANGE,f.forward);r.addEventListener(p.STATSUPDATE,f.forward);r.addEventListener(a.ENDED,g);r.addEventListener(a.ERROR,function(x){b.error(x.data.name+": "+x.data.message);a:{switch(x.data.name){case "SecurityError":if(-1!==x.data.message.indexOf("toDataURL")){var e=!1;break a}}e=!0}e?(r.stop(),g(x)):f.forward(x)})}
var b=t.utils,l=t.events,h=l.EventDispatcher,a=l.Event,c=l.IOEvent,p=l.MediaEvent;t=t.core;k.prototype=Object.create(h.prototype);k.prototype.constructor=k;t.Controller=k})(playease);
(function(t){function k(v){function q(){r.play=m.play;r.pause=e.pause;r.seek=e.seek;r.stop=e.stop;r.reload=m.reload;r.capture=e.capture;r.muted=e.muted;r.volume=e.volume;r.definition=e.definition;r.element=e.element;r.duration=function(){return x.duration()};r.state=function(){return x.state()};r.dispatchEvent(d.BIND)}p.call(this,"API",{id:v},d,u);var r=this,x,e,m;r.setup=function(w,y){r.config=b.extendz({id:r.id},n,y);x=new g.Model(r.config);e=new g.View(w,x);m=new g.Controller(x,e);m.addGlobalListener(r.forward);
q();r.config.autoplay&&m.play()};r.id=v}var b=t.utils,l=t.OS,h=t.Kernel,a=t.Browser,c=t.events,p=c.EventDispatcher,d=c.Event,u=c.IOEvent,g=t.core,f={},n={airplay:"allow",autoplay:!1,dynamic:!1,bufferLength:.1,file:"",lowlatency:!0,loop:!1,maxBufferLength:30,maxPlaybackLength:10,mode:"live",module:"",muted:!1,objectfit:"contain",playsinline:!0,preload:"none",smooth:!1,volume:.8,loader:{name:"auto",mode:"cors",credentials:"omit"},sources:[]};b.log("Version: playease/"+t.VERSION);b.log("OS: "+l.name+
"/"+l.version+(l.model?"; "+l.model:""));b.log("Kernel: "+h.name+"/"+h.version);b.log("Browser: "+a.name+"/"+a.version);k.prototype=Object.create(p.prototype);k.prototype.constructor=k;k.prototype.CONF=n;k.get=function(v){void 0==v&&(v=0);var q=f[v];void 0==q&&(q=new k(v),f[v]=q);return q};t.API=k})(playease);
(function(t){function k(e){function m(){b.forEach(E.config.plugins,function(A,C){if("function"!==b.typeOf(k[C.kind]))b.error("Unrecognized plugin: index="+A+", kind="+C.kind+".");else if(!1===C.visibility)b.log("Component "+C.kind+" is disabled.");else{"Controlbar"!==C.kind||E.config.file||(C.sources=E.config.sources);try{var J=new k[C.kind](C);"function"===b.typeOf(J.addGlobalListener)&&J.addGlobalListener(I);M.appendChild(J.element());P[C.kind]=J}catch(B){b.error("Failed to initialize plugin: index="+
A+", kind="+C.kind+". Error="+B.message)}}})}function w(){M.setAttribute("mode",E.config.mode);M.setAttribute("state","");var A=P.Controlbar;A?(M.setAttribute("controls",A.config.autohide?"motion":"always"),A.config.autohide&&M.addEventListener("mousemove",H)):M.setAttribute("controls","never");(A=P.Danmu)&&M.setAttribute("danmu",A.config.enable?"on":"off");M.setAttribute("muted",E.config.muted);M.setAttribute("fullpage",!1);M.setAttribute("fullscreen",!1);P.ContextMenu&&(M.oncontextmenu=function(C){C=
C||window.event;C.preventDefault?C.preventDefault():C.returnValue=!1;return!1},document.addEventListener("mouseup",U),M.addEventListener("mouseup",U),document.addEventListener("mousedown",V),M.addEventListener("mousedown",V));document.addEventListener("fullscreenchange",D);document.addEventListener("webkitfullscreenchange",D);document.addEventListener("mozfullscreenchange",D);document.addEventListener("MSFullscreenChange",D)}function y(A){E.config=L.config;E.play=L.play;E.pause=L.pause;E.seek=L.seek;
E.stop=L.stop;E.reload=L.reload;E.capture=L.capture;E.muted=L.muted;E.volume=L.volume;E.definition=L.definition;E.element=L.element;E.duration=L.duration;E.state=L.state;E.forward(A)}function D(A){document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||E.fullscreen(!1)}function I(A){switch(A.type){case g.CHANGE:K(A);break;case f.CLICK:R(A);break;case f.DOUBLE_CLICK:S(A);break;default:E.forward(A)}}function K(A){var C={timebar:function(){var J=
L.duration();J&&L.seek(J*A.data.value/100)},volumebar:function(){L.volume(A.data.value/100)},definition:function(){L.definition(parseInt(A.data.value))}}[A.data.name];C?C():E.forward(A)}function R(A){var C={play:E.play,pause:E.pause,stop:E.stop,reload:E.reload,capture:E.capture,mute:function(){E.muted(!0)},unmute:function(){E.muted(!1)},danmuoff:function(){E.danmu(!1)},danmuon:function(){E.danmu(!0)},fullpage:function(){E.fullpage(!0)},exitfullpage:function(){E.fullpage(!1)},fullscreen:function(){E.fullscreen(!0)},
exitfullscreen:function(){E.fullscreen(!1)},info:function(){ma(A.data.name)},stats:function(){ma(A.data.name)}}[A.data.name];C?C():E.forward(A)}function S(A){var C={fullpage:function(){E.fullpage("true"!==M.getAttribute("fullpage"))},fullscreen:function(){E.fullscreen("true"!==M.getAttribute("fullscreen"))}}[A.data.name];C?C():E.forward(A)}function H(A){(A=P.Controlbar)&&h.style(A.element(),{visibility:"visible"});ha.stop();ha.start()}function U(A){var C=P.ContextMenu;if(void 0===A.currentTarget)for(var J=
A.srcElement;J;J=J.offsetParent)if(J===M){A.currentTarget=M;break}if(2===A.button&&A.currentTarget===M){var B=0,ca=0;for(J=A.srcElement||A.target;J&&J!==M;J=J.offsetParent)B+=J.offsetLeft,ca+=J.offsetTop;h.style(C.element(),{left:A.offsetX+B+"px",top:A.offsetY+ca+"px",display:"block"});A.preventDefault?A.preventDefault():A.returnValue=!1;A.stopPropagation?A.stopPropagation():A.cancelBubble=!0;return!1}}function V(A){h.style(P.ContextMenu.element(),{display:"none"})}function ka(A){Z(A)}function qa(A){M.setAttribute("mode",
E.config.mode);E.forward(A)}function sa(A){var C=P.Controlbar;C&&(C=C.components.definition)&&C.value(A.data.index);Z(A)}function ra(A){var C=P.Controlbar;if(C){var J=C.components.timebar;J&&(J.duration=A.data.duration,J.progress(isNaN(A.data.duration)?0:A.data.buffered/A.data.duration*100),J.position(isNaN(A.data.duration)?0:A.data.time/A.data.duration*100));if(C=C.components.time){J=b.time2string(A.data.time);var B=b.time2string(A.data.duration);C.text(J+"/"+B)}}(C=P.Display)&&C.update("stats",
{SeekableRange:A.data.start+"/"+A.data.buffered+" sec.",Buffer:(A.data.buffered-A.data.time).toFixed(3).toLocaleString()+" sec."});E.forward(A)}function ia(A){var C=100*A.data.volume|0;M.setAttribute("muted",A.data.muted||!C);var J=P.Controlbar;J&&(J.resize(Y.clientWidth,Y.clientHeight),J=J.components.volumebar)&&(J.position(C),J.thumb(C));E.forward(A)}function ta(A){var C=P.Display;C&&C.update("info",A.data.info);E.forward(A)}function va(A){var C=P.Display;C&&C.update("stats",A.data.stats);E.forward(A)}
function ma(A){var C=P.Display;C&&C.show(A)}function ua(A){a:{switch(A.data.name){case "SecurityError":if(-1!==A.data.message.indexOf("toDataURL")){var C=!1;break a}}C=!0}C?((C=P.Display)&&C.error(A.data),A.type=p.ERROR,Z(A),E.stop()):E.forward(A)}function Z(A){M.setAttribute("state",A.type);var C=P.Display;C&&C.state(A.type);E.resize();E.forward(A)}c.call(this,"UI",{id:e},b.extendz({},p,d,u));var E=this,la,M,Y,L;E.setup=function(A,C){la=A;"array"!==b.typeOf(C.plugins)&&(C.plugins=[]);A=[];for(var J=
0;J<x.plugins.length;J++){var B=x.plugins[J],ca=B.prototype.CONF;a:{for(var ba=0;ba<C.plugins.length;ba++){var Q=C.plugins[ba];if(Q.kind===B.prototype.kind){B=Q;break a}}B=null}A.push(b.extendz({},ca,B))}E.config=b.extendz({id:E.id},q.prototype.CONF,x,C);E.config.plugins=A;M=b.createElement("div","pe-wrapper pe-ui-"+E.config.skin);Y=b.createElement("div","pe-content");M.appendChild(Y);la.appendChild(M);L=q.get(E.id);L.addEventListener(p.BIND,y);L.addEventListener(p.READY,ka);L.addEventListener(p.PLAY,
Z);L.addEventListener(d.LOADSTART,E.forward);L.addEventListener(p.WAITING,Z);L.addEventListener(d.STALLED,E.forward);L.addEventListener(d.ABORT,E.forward);L.addEventListener(d.TIMEOUT,ua);L.addEventListener(p.DURATIONCHANGE,qa);L.addEventListener(p.LOADEDMETADATA,E.forward);L.addEventListener(p.LOADEDDATA,E.forward);L.addEventListener(d.PROGRESS,E.forward);L.addEventListener(p.CANPLAY,E.forward);L.addEventListener(p.PLAYING,Z);L.addEventListener(p.CANPLAYTHROUGH,E.forward);L.addEventListener(d.SUSPEND,
E.forward);L.addEventListener(p.PAUSE,Z);L.addEventListener(p.SEEKING,Z);L.addEventListener(p.SEEKED,E.forward);L.addEventListener(p.SWITCHING,sa);L.addEventListener(p.SWITCHED,E.forward);L.addEventListener(p.RATECHANGE,E.forward);L.addEventListener(p.TIMEUPDATE,ra);L.addEventListener(p.VOLUMECHANGE,ia);L.addEventListener(d.LOAD,E.forward);L.addEventListener(v.INFOCHANGE,ta);L.addEventListener(v.STATSUPDATE,va);L.addEventListener(p.ENDED,Z);L.addEventListener(p.ERROR,ua);L.setup(Y,E.config);m();w();
E.resize()};E.danmu=function(A){M.setAttribute("danmu",A?"on":"off");var C=P.Controlbar;C&&C.resize(Y.clientWidth,Y.clientHeight);return(C=P.Danmu)?C.enable(A):!1};E.shoot=function(A,C){var J=P.Danmu;J&&(J.shoot(A,C),E.dispatchEvent(u.SHOOTING,{text:A,data:C}))};E.displayAD=function(A){var C=P.AD;C&&C.display(A)};E.removeAD=function(){var A=P.AD;A&&A.remove()};E.fullpage=function(A){if(void 0===A)return"true"===M.getAttribute("fullpage");(document.fullscreenElement||document.webkitFullscreenElement||
document.mozFullScreenElement||document.msFullscreenElement)&&E.fullscreen(!1);M.setAttribute("fullpage",!!A);E.resize();E.dispatchEvent(u.FULLPAGE,{status:A})};E.fullscreen=function(A){if(void 0===A)return"true"===M.getAttribute("fullscreen");var C=L.element();if(A){var J=M.requestFullscreen||M.webkitRequestFullScreen||M.mozRequestFullScreen||M.msRequestFullscreen;if(l.isMobile){if(C&&C.webkitEnterFullscreen&&(C.setAttribute("x5-video-orientation","landscape"),C.webkitEnterFullscreen()),l.isIOS)return}else if(J){if(C=
J.call(M))C["catch"](function(B){b.debug(B.name+": "+B.message)})}else{E.fullpage(A);return}}else if(J=document.exitFullscreen||document.webkitCancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen){if(C&&C.setAttribute("x5-video-orientation","portraint"),C=J.call(document))C["catch"](function(B){b.debug(B.name+": "+B.message)})}else{E.fullpage(A);return}if(C=P.Controlbar)h.style(C.element(),{display:"block"}),A?C.config.autohide||(M.setAttribute("controls","motion"),M.addEventListener("mousemove",
H)):C.config.autohide||(M.setAttribute("controls","always"),M.removeEventListener("mousemove",H),ha.stop());M.setAttribute("fullscreen",!!A);E.resize();E.dispatchEvent(u.FULLSCREEN,{status:A})};E.resize=function(){var A=Y.clientWidth,C=Y.clientHeight;if(""!==E.config.aspectratio){var J=E.config.aspectratio.match(/(\d+):(\d+)/);if("array"===b.typeOf(J)&&2<J.length){var B=parseInt(J[1]);J=parseInt(J[2]);C=A*J/B;"always"===M.getAttribute("controls")&&(C-=40)}}b.forEach(P,function(ca,ba){ba.resize(A,
C)});E.dispatchEvent(u.RESIZE,{width:A,height:C})};E.id=e;var P={};var ha=new b.Timer(3E3,1);ha.addEventListener(n.TIMER,function(A){(A=P.Controlbar)&&h.style(A.element(),{visibility:"hidden"})})}var b=t.utils,l=t.OS,h=b.css,a=t.events,c=a.EventDispatcher,p=a.Event,d=a.IOEvent,u=a.UIEvent,g=a.GlobalEvent,f=a.MouseEvent,n=a.TimerEvent,v=a.MediaEvent,q=t.API,r={},x={aspectratio:"",skin:"classic",plugins:[]};k.prototype=Object.create(c.prototype);k.prototype.constructor=k;k.prototype.CONF=x;k.register=
function(e,m){try{x.plugins.splice(m||x.plugins.length,0,e),k[e.prototype.kind]=e}catch(w){b.error("Failed to register plugin "+e.prototype.kind+", Error="+w.message)}};k.get=function(e){null==e&&(e=0);var m=r[e];void 0===m&&(m=new k(e),r[e]=m);return m};t.ui=k.get;t.UI=k})(playease);(function(t){t.UI.components={}})(playease);
(function(t){function k(c,p){h.call(this,"Button",null,[a.CLICK]);var d=this;d.element=function(){return u};d.resize=function(g,f){};var u=b.createElement("span","pe-button "+c);u.addEventListener("click",function(g){d.dispatchEvent(a.CLICK,{name:c})})}var b=t.utils,l=t.events,h=l.EventDispatcher,a=l.MouseEvent;t=t.UI.components;k.prototype=Object.create(h.prototype);k.prototype.constructor=k;k.prototype.kind="Button";t.Button=k})(playease);
(function(t){function k(h,a){l.call(this,"Label");this.text=function(d){void 0!==d&&(p.innerHTML=d);return c};this.element=function(){return p};this.resize=function(d,u){};var c=a||"";var p=b.createElement("span","pe-label "+h);p.innerHTML=c}var b=t.utils,l=t.events.EventDispatcher;t=t.UI.components;k.prototype=Object.create(l.prototype);k.prototype.constructor=k;k.prototype.kind="Label";t.Label=k})(playease);
(function(t){function k(){h.call(this,"Preview",null,[a.CLICK]);this.append=function(d,u,g){var f=b.createElement("img");f.setAttribute("min",u);f.setAttribute("max",g||NaN);f.src=d;p.appendChild(f)};this.element=function(){return c};this.resize=function(d,u){};var c=b.createElement("div","pe-tooltip preview");var p=b.createElement("div");c.appendChild(p)}var b=t.utils,l=t.events,h=l.EventDispatcher,a=l.MouseEvent;t=t.UI.components;k.prototype=Object.create(h.prototype);k.prototype.constructor=k;
k.prototype.kind="Preview";t.Preview=k})(playease);
(function(t){function k(p,d){function u(e){e=e.target.getAttribute("value");e!==n&&g.dispatchEvent(c.CHANGE,{name:f,value:e});x.style.visibility="hidden"}a.call(this,"Select",null,[c.CHANGE]);var g=this,f,n,v,q,r,x;g.append=function(e,m){var w=b.createElement("span","pe-select-menu-option");w.addEventListener("click",u);w.setAttribute("value",m||v.length);w.innerHTML=e;v.push(w);x.appendChild(w);1===v.length&&g.value(w.getAttribute("value"))};g.remove=function(e){for(var m=0;m<v.length;m++){var w=
v[m];if(w.getAttribute("value")===e){w.removeEventListener("click",u);x.removeChild(w);v.splice(m,1);n===e&&(n=v.length||NaN,r.innerHTML=v.length?v[0].innerHTML:_placeholder);break}}};g.value=function(e){switch(typeof e){case "number":case "string":for(var m=0;m<v.length;m++){var w=v[m];if(w.getAttribute("value")==e){n=e;r.innerHTML=w.innerHTML;q.setAttribute("value",e);g.resize();break}}}return n};g.element=function(){return q};g.resize=function(e,m){l.style(x,{left:(q.clientWidth-x.clientWidth)/
2+"px"})};(function(){f=p;n=NaN;v=[];q=b.createElement("div","pe-select "+f);r=b.createElement("span","pe-select-text");x=b.createElement("div","pe-select-menu");x.style.visibility="hidden";q.appendChild(r);q.appendChild(x);r.addEventListener("click",function(e){x.style.visibility="hidden"===x.style.visibility?"visible":"hidden"})})()}var b=t.utils,l=b.css,h=t.events,a=h.EventDispatcher,c=h.GlobalEvent;t=t.UI.components;k.prototype=Object.create(a.prototype);k.prototype.constructor=k;k.prototype.kind=
"Select";t.Select=k})(playease);
(function(t){function k(u,g){function f(H){H.button===(l.isIE8?1:0)&&(H.target||(H.target=H.srcElement),y===H.target||y===H.target.parentNode||y===H.target.parentNode.parentNode)&&(H=q(H.clientX,H.clientY),H!==w.getAttribute("value")&&r.dispatchEvent(p.CHANGE,{name:x,value:H}),m=!0)}function n(H){var U=q(H.clientX,H.clientY);y!==H.target&&y!==H.target.parentNode&&y!==H.target.parentNode.parentNode||r.dispatchEvent(d.MOUSE_MOVE,{name:x,value:U});m&&U!==w.getAttribute("value")&&r.dispatchEvent(p.CHANGE,
{name:x,value:U})}function v(H){m&&(H=q(H.clientX,H.clientY),H!==w.getAttribute("value")&&r.dispatchEvent(p.CHANGE,{name:x,value:H}),m=!1)}function q(H,U){for(var V=y;V;V=V.offsetParent)H-=V.offsetLeft,U-=V.offsetTop;H="horizontal"===e?(H/y.clientWidth*100).toFixed(3):(U/y.clientHeight*100).toFixed(3);return H=Math.max(0,Math.min(H,100))}c.call(this,"Slider",null,[p.CHANGE,d.MOUSE_MOVE]);var r=this;r.value=function(H){void 0!==H&&(D.innerHTML=H);return D.innerHTML};r.progress=function(H){h.style(K,
{width:H+"%"})};r.position=function(H){w.setAttribute("value",H);h.style(R,{width:H+"%"})};r.thumb=function(H){h.style(S,{left:H+"%"})};r.element=function(){return w};r.nonius=function(){return D};r.resize=function(H,U){};var x=u;var e="horizontal";var m=!1;var w=b.createElement("div","pe-slider "+x);var y=b.createElement("div","pe-slider-content");var D=b.createElement("span","pe-tooltip value");var I=b.createElement("span","pe-slider-rail background");var K=b.createElement("span","pe-slider-rail progress");
var R=b.createElement("span","pe-slider-rail position");var S=b.createElement("span","pe-slider-thumb");S.innerHTML="<span></span>";y.appendChild(D);y.appendChild(I);y.appendChild(K);y.appendChild(R);y.appendChild(S);w.appendChild(y);switch(u){case "timebar":r.value("--:--");break;case "volumebar":r.value(g),r.position(g),r.thumb(g)}try{document.addEventListener("mousedown",f),document.addEventListener("mousemove",n),document.addEventListener("mouseup",v)}catch(H){document.attachEvent("onmousedown",
f),document.attachEvent("onmousemove",n),document.attachEvent("onmouseup",v)}}var b=t.utils,l=t.Browser,h=b.css,a=t.events,c=a.EventDispatcher,p=a.GlobalEvent,d=a.MouseEvent;t=t.UI.components;k.prototype=Object.create(c.prototype);k.prototype.constructor=k;k.prototype.kind="Slider";k.HORIZONTAL="horizontal";k.VERTICAL="vertical";t.Slider=k})(playease);
(function(t){function k(p,d){a.call(this,"Panel",null,[c.VISIBILITYCHANGE]);var u=this;u.update=function(q){f=b.extendz(f,q);var r="";b.forEach(f,function(x,e){r+=(r?"\n":"")+x+": "+e});v.innerHTML=r};u.clear=function(){f={};v.innerHTML=""};u.show=function(){"block"===n.style.display?u.hide():(l.style(n,{display:"block"}),u.dispatchEvent(c.VISIBILITYCHANGE,{name:g,state:"visible"}))};u.hide=function(){l.style(n,{display:"none"});u.dispatchEvent(c.VISIBILITYCHANGE,{name:g,state:"hidden"})};u.element=
function(){return n};u.resize=function(q,r){};var g=p;var f={};var n=b.createElement("div","pe-panel "+g);var v=b.createElement("div");n.appendChild(v)}var b=t.utils,l=b.css,h=t.events,a=h.EventDispatcher,c=h.GlobalEvent;t=t.UI.components;k.prototype=Object.create(a.prototype);k.prototype.constructor=k;k.prototype.kind="Panel";t.Panel=k})(playease);
(function(t){function k(a){function c(u){b.log('Failed to load poster "'+d.src+'".')}h.call(this,"Poster");this.element=function(){return p};this.resize=function(u,g){};this.config=a;var p=b.createElement("div","pe-poster");var d=new Image;d.onload=function(u){p.appendChild(d)};d.onabort=c;d.onerror=c;this.config.objectfit&&l.style(d,{"object-fit":this.config.objectfit});d.src=this.config.file}var b=t.utils,l=b.css,h=t.events.EventDispatcher;t=t.UI;k.prototype=Object.create(h.prototype);k.prototype.constructor=
k;k.prototype.kind="Poster";k.prototype.CONF={kind:"Poster",file:"image/poster.png",objectfit:"fill",visibility:!0};t.register(k)})(playease);
(function(t){function k(p){function d(n){f.removeChild(n.target)}a.call(this,"Danmu",null,[c.SHOOTING]);var u=this;u.enable=function(n){"boolean"===b.typeOf(n)&&(u.config.enable=n);return u.config.enable};u.shoot=function(n,v){if(u.config.enable){var q=b.createElement("div","pe-danmu-item");q.addEventListener("transitionend",d);q.innerHTML=n;f.appendChild(q);n=g.clientWidth+q.clientWidth;l.style(q,b.extendz({},v,{top:Math.floor(Math.random()*Math.floor(g.clientHeight/u.config.lineHeight))*u.config.lineHeight+
"px",left:g.clientWidth+"px",transform:"translateX(-"+n+"px)",transition:"transform "+n/u.config.speed+"s linear 0s"}))}};u.element=function(){return g};u.resize=function(n,v){};u.config=p;var g=b.createElement("div","pe-danmu");var f=b.createElement("div");g.appendChild(f)}var b=t.utils,l=b.css,h=t.events,a=h.EventDispatcher,c=h.UIEvent;t=t.UI;k.prototype=Object.create(a.prototype);k.prototype.constructor=k;k.prototype.kind="Danmu";k.prototype.CONF={kind:"Danmu",speed:100,lineHeight:32,enable:!0,
visibility:!0};t.register(k)})(playease);
(function(t){function k(f){a.call(this,"Display",null,[p.CLICK]);var n=this;n.state=function(e){switch(e){case c.WAITING:r.start();break;default:r.stop()}e!==c.ERROR&&n.error()};n.error=function(e){var m=n.components.error;m&&(e?(e.name=e.name||"UnknownError",e.message=e.message||"An unknown error occurred.",m.text(e.name+": "+e.message)):m.text(""))};n.update=function(e,m){(e=n.components[e])&&e.update(m)};n.clear=function(e){(e=n.components[e])&&e.clear()};n.show=function(e){b.forEach(n.components,
function(w,y){"Panel"===y.kind&&w!==e&&y.hide()});var m=n.components[e];m&&m.show()};n.hide=function(e){(e=n.components[e])&&e.hide()};n.element=function(){return v};n.resize=function(e,m){};n.config=f;n.components={};var v=b.createElement("div","pe-display");var q=b.createElement("div");q.addEventListener("click",function(e){e=(new Date).getTime();e<=x+700?(x=0,n.dispatchEvent(p.DOUBLE_CLICK,{name:n.config.ondoubleclick})):x=e});v.appendChild(q);(function(){for(var e;null!==(e=g.exec(n.config.layout));){var m=
void 0,w=void 0,y=q,D=e[1],I=e[2];try{w=new u[D](I,e[3]),"function"===b.typeOf(w.addGlobalListener)&&w.addGlobalListener(n.forward),m=w.element(),y.appendChild(m),n.components[I]=w}catch(K){b.error("Failed to initialize component: type="+D+", name="+I+", Error="+K.message)}}})();var r=new b.Timer(80);r.addEventListener(d.TIMER,function(e){e=30*r.currentCount()%360;var m=n.components.waiting;m&&l.style(m.element(),{filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation="+e*Math.PI/180+")",transform:"rotate("+
e+"deg)","-o-transform":"rotate("+e+"deg)","-ms-transform":"rotate("+e+"deg)","-moz-transform":"rotate("+e+"deg)","-webkit-transform":"rotate("+e+"deg)"})});var x=0}var b=t.utils,l=b.css,h=t.events,a=h.EventDispatcher,c=h.Event,p=h.MouseEvent,d=h.TimerEvent;t=t.UI;var u=t.components,g=/\[([a-z]+):([a-z]+)=([^\]]+)?\]/gi;k.prototype=Object.create(a.prototype);k.prototype.constructor=k;k.prototype.kind="Display";k.prototype.CONF={kind:"Display",layout:"[Button:play=][Button:waiting=][Label:error=][Panel:info=][Panel:stats=]",
ondoubleclick:"fullscreen",visibility:!0};t.register(k)})(playease);
(function(t){function k(h){l.call(this,"AD");this.display=function(c){a.innerHTML="";a.appendChild(c)};this.remove=function(){a.innerHTML=""};this.element=function(){return a};this.resize=function(c,p){};this.config=h;var a=b.createElement("div","pe-ad")}var b=t.utils,l=t.events.EventDispatcher;t=t.UI;k.prototype=Object.create(l.prototype);k.prototype.constructor=k;k.prototype.kind="AD";k.prototype.CONF={kind:"AD",visibility:!0};t.register(k)})(playease);
(function(t){function k(h){l.call(this,"Share");this.display=function(c){a.innerHTML="";a.appendChild(c)};this.element=function(){return a};this.resize=function(c,p){};this.config=h;var a=b.createElement("div","pe-share")}var b=t.utils,l=t.events.EventDispatcher;t=t.UI;k.prototype=Object.create(l.prototype);k.prototype.constructor=k;k.prototype.kind="Share";k.prototype.CONF={kind:"Share",visibility:!0};t.register(k)})(playease);
(function(t){function k(a){function c(f){b.log('Failed to load logo "'+g.src+'".')}h.call(this,"Logo");var p=this;p.element=function(){return d};p.resize=function(f,n){};p.config=a;var d=b.createElement("div","pe-logo");d.style=p.config.style;var u=b.createElement("a");var g=new Image;g.onload=function(f){l.style(d,{width:g.width+"px",height:g.height+"px"});l.style(u,{background:"url("+p.config.file+")"});u.href=p.config.link;u.target=p.config.target;d.appendChild(u)};g.onabort=c;g.onerror=c;g.src=
p.config.file}var b=t.utils,l=b.css,h=t.events.EventDispatcher;t=t.UI;k.prototype=Object.create(h.prototype);k.prototype.constructor=k;k.prototype.kind="Logo";k.prototype.CONF={kind:"Logo",file:"http://studease.cn/images/content/playease-logo.png",link:"https://github.com/studease/playease",target:"_blank",style:"margin: 3% 5%; width: 36px; height: 36px; top: 0px; right: 0px;",visibility:!0};t.register(k)})(playease);
(function(t){function k(n){function v(e){var m=e.target.element(),w=e.target.nonius(),y=m.clientWidth*e.data.value/100-w.clientWidth/2;switch(e.data.name){case "timebar":e.target.thumb(e.data.value);e.target.duration?e.target.value(b.time2string(e.target.duration*e.data.value/100)):e.target.value("--:--");break;case "volumebar":e.target.value(e.data.value|0)}e=y+m.offsetLeft;1>e&&m.offsetParent===x?l.style(w,{left:1-m.offsetLeft+"px",right:"auto"}):m.offsetParent.offsetLeft+e+w.clientWidth>x.clientWidth-
1?l.style(w,{left:"auto",right:m.offsetParent.offsetLeft+m.offsetLeft+m.clientWidth+1-x.clientWidth+"px"}):l.style(w,{left:y+"px",right:"auto"})}p.call(this,"Controlbar",null,[d.CHANGE,u.CLICK,u.MOUSE_MOVE]);var q=this;q.element=function(){return r};q.resize=function(e,m){b.forEach(q.components,function(w,y){y.resize(e,m);switch(w){case "timebar":break;default:if(void 0!==y.tooltip){w=y.element();y=y.tooltip;var D=(w.clientWidth-y.clientWidth)/2,I=D+w.offsetLeft;1>I&&w.offsetParent===x?l.style(y,
{left:1-w.offsetLeft+"px",right:"auto"}):null!==w.offsetParent&&(w.offsetParent.offsetLeft+I+y.clientWidth>x.clientWidth-1?l.style(y,{left:"auto",right:w.offsetParent.offsetLeft+w.offsetLeft+w.clientWidth+1-x.clientWidth+"px"}):l.style(y,{left:D+"px",right:"auto"}))}}})};q.config=n;q.components={};var r=b.createElement("div","pe-controlbar");var x=b.createElement("div");r.appendChild(x);(function(){var e=q.config.layout.split("|");if(4!==e.length)throw{name:"DataError",message:"Controlbar should have exactly 4 sections."};
var m=b.createElement("div","pe-left"),w=b.createElement("div","pe-center"),y=b.createElement("div","pe-right");b.forEach([x,m,w,y],function(D,I){for(var K;null!==(K=f.exec(e[D]));)a:{var R=void 0,S=void 0;var H=I;var U=K[1],V=K[2];K=K[3];switch(V){case "capture":if(h.isIOS&&!a.isSafari)break a;break;case "mute":case "unmute":case "volumebar":if(h.isMobile)break a;break;case "definition":if(!q.config.sources||2>q.config.sources.length)break a}try{S=new g[U](V,K),"function"===b.typeOf(S.addGlobalListener)&&
(S.addGlobalListener(q.forward),"Slider"===U&&S.addEventListener(u.MOUSE_MOVE,v)),R=S.element(),H.appendChild(R),q.components[V]=S}catch(ka){b.error("Failed to initialize component: type="+U+", name="+V+", Error="+ka.message);break a}switch(V){case "quote":case "time":case "volumebar":break;default:void 0!==K&&("function"===b.typeOf(g[K])?(H=new g[K],R.insertAdjacentElement("afterbegin",H.element())):(H=b.createElement("span","pe-tooltip"),H.innerHTML=K,R.insertAdjacentElement("afterbegin",H)),S.tooltip=
H)}}});x.appendChild(m);x.appendChild(w);x.appendChild(y)})();(function(){var e=q.components.definition;e&&b.forEach(q.config.sources,function(m,w){e.append(w.label);w["default"]&&e.value(m)})})()}var b=t.utils,l=b.css,h=t.OS,a=t.Browser,c=t.events,p=c.EventDispatcher,d=c.GlobalEvent,u=c.MouseEvent;t=t.UI;var g=t.components,f=/\[([a-z]+):([a-z]+)=([^\]]+)?\]/gi;k.prototype=Object.create(p.prototype);k.prototype.constructor=k;k.prototype.kind="Controlbar";k.prototype.CONF={kind:"Controlbar",layout:"[Slider:timebar=Preview]|[Button:play=Play][Button:pause=Pause][Button:reload=Reload][Button:stop=Stop][Label:quote=Live broadcast][Label:time=00:00/00:00]||[Button:report=Report][Button:capture=Capture][Button:mute=Mute][Button:unmute=Unmute][Slider:volumebar=80][Select:definition=Definition][Button:danmuoff=Danmu Off][Button:danmuon=Danmu On][Button:fullpage=Fullpage][Button:exitfullpage=Exit Fullpage][Button:fullscreen=Fullscreen][Button:exitfullscreen=Exit Fullscreen]",
autohide:!1,visibility:!0};t.register(k)})(playease);
(function(t){function k(p){a.call(this,"ContextMenu",null,[c.CLICK]);var d=this,u,g;d.element=function(){return u};d.resize=function(f,n){};(function(){d.config=p;d.config.items=[{id:0,mode:"featured",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAA2UExURebm5ubm5ubm5ubm5ubm5ubm5ubm5kxpcebm5ubm5ubm5ubm5ubm5ubm5ubm5ubm5ubm5ubm5rnvS8UAAAASdFJOU/9GGpAEVa0AOw0vovB5tnDaudiwhIIAAACiSURBVBjTXZHbAsQQDERDkQS97P//7GaibLfzgJxgIoiHVHIWvQPysRZylbpg2mhpSwOmgx46kkPf10KMoflewGqLLsNBugXVIDxuZhRuTGrJZmHIXhBuUEIuMC7pJ3I4R9nGyHzCY2eONmWHesMyoQyI3BXncRgZ1M+16zJCSbMRqyT4LriKt2calP9nWkMM7q+GcEo/OFvnGrDIo/Ov7/gCDPoHpWEsixcAAAAASUVORK5CYII=",text:"playease/"+
t.VERSION,shortcut:"",handler:function(){window.open("https://github.com/studease/playease")}}].concat("array"===b.typeOf(p.items)?p.items:[]);l.flash&&d.config.items.push({mode:"",icon:"",text:"Flash Version "+l.flash,shortcut:"",handler:function(){window.open("http://get.adobe.com/cn/flashplayer/about/")}});d.config.items.push({mode:"",icon:"",text:"Show Media Info",shortcut:"",handler:function(){d.dispatchEvent(c.CLICK,{name:"info"})}});d.config.items.push({mode:"",icon:"",text:"Show Media Stats",
shortcut:"",handler:function(){d.dispatchEvent(c.CLICK,{name:"stats"})}});u=b.createElement("div","pe-contextmenu");g=b.createElement("table");u.appendChild(g);for(var f=0;f<d.config.items.length;f++){var n=d.config.items[f],v=b.createElement("tr","pe-contextmenu-item"+(n.mode?" "+n.mode:""));v.onmousedown=n.handler;var q=b.createElement("td");if(n.icon){var r=b.createElement("span","pe-contextmenu-item-icon");r.innerHTML='<a style="background-image: url('+n.icon+');"></a>';q.appendChild(r)}var x=
b.createElement("td");n.text&&(r=b.createElement("span","pe-contextmenu-item-text"),r.innerHTML=n.text,x.appendChild(r));var e=b.createElement("td");n.shortcut&&(r=b.createElement("span","pe-contextmenu-item-shortcut"),r.innerHTML=n.shortcut,e.appendChild(r));v.appendChild(q);v.appendChild(x);v.appendChild(e);g.appendChild(v)}})()}var b=t.utils,l=t.Browser,h=t.events,a=h.EventDispatcher,c=h.MouseEvent;h=t.UI;k.prototype=Object.create(a.prototype);k.prototype.constructor=k;k.prototype.kind="ContextMenu";
k.prototype.CONF={kind:"ContextMenu",items:[],visibility:!0};h.register(k)})(playease);