playease=function(){if(playease.API)return playease.API.get.apply(this,arguments)};playease.VERSION="2.1.17";playease.DEBUG=!1;
(function(q){var k={extendz:function(){var l=Array.prototype.slice.call(arguments,0),h=l[0];switch(k.typeOf(h)){case "null":case "number":case "string":throw{name:"TypeError",message:"Could not extend to type "+k.typeOf(h)+"."};}for(var a=1;a<l.length;a++){var f=l[a];switch(k.typeOf(f)){case "null":case "number":case "string":q.DEBUG&&k.warn("Could not extend from type "+k.typeOf(f));break;case "array":k.forEach(f,function(m,c){switch(k.typeOf(c)){case "object":h.push(k.extendz({},c));break;case "array":h.push(k.extendz([],
c));break;default:"array"===k.typeOf(h)?h.push(c):h[m]=c}});break;default:k.forEach(f,function(m,c){switch(k.typeOf(c)){case "object":switch(k.typeOf(h[m])){case "null":case "number":case "string":h[m]={}}h[m]=k.extendz(h[m],c);break;case "array":h[m]=k.extendz([],c);break;default:h[m]=c}})}}return h},forEach:function(l,h){for(var a in l)l.hasOwnProperty&&"function"===k.typeOf(l.hasOwnProperty)?l.hasOwnProperty(a)&&h(a,l[a]):h(a,l[a])},getCookie:function(l){var h;return(h=document.cookie.match(new RegExp("(^| )"+
l+"=([^;]*)(;|$)")))?unescape(h[2]):null},padStart:function(l,h,a){for(l+="";l.length<h;)l=a+l;return l},padEnd:function(l,h,a){for(l+="";l.length<h;)l+=a;return l},hex:function(l){return"0x"+k.padStart(l.toString(16),2,"0")},time2string:function(l){var h="",a=l/3600|0,f=l%3600/60|0;l=l%60|0;a&&(h+=k.padStart(a,2,"0")+":");return h+=k.padStart(f,2,"0")+":"+k.padStart(l,2,"0")},formatBytes:function(l){for(var h=["B","KB","MB","GB","TB"],a=0;a<h.length;a++){if(1024>l||a===h.length-1)return l.toFixed(3)+
" "+h[a];l/=1024}return l+" B"},typeOf:function(l){if(null===l||void 0===l)return"null";var h=typeof l;if("object"===h)try{var a=Object.prototype.toString.call(l).match(/^\[object ([a-z]+)\]$/i);if(a&&1<a.length&&a[1])return a[1].toLowerCase()}catch(f){}return h},trim:function(l){return l.replace(/^\s+|\s+$/g,"")},indexOf:function(l,h){if("array"===k.typeOf(l))for(var a=0;a<l.length;a++)if(l[a]===h)return a;return-1},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var h=
16*Math.random()|0;return("x"===l?h:h&3|8).toString(16)})}};void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52));void 0===Number.MAX_SAFE_INTEGER&&(Number.MAX_SAFE_INTEGER=Math.pow(2,53)-1);void 0===Number.MIN_SAFE_INTEGER&&(Number.MIN_SAFE_INTEGER=-1*Number.MAX_SAFE_INTEGER);k.equal=function(l,h){return Math.abs(l-h)<Number.EPSILON};k.createElement=function(l,h){l=document.createElement(l);h&&(l.className=h);return l};k.addClass=function(l,h){var a="string"===k.typeOf(l.className)?l.className.split(" "):
[];h="array"===k.typeOf(h)?h:h.split(" ");k.forEach(h,function(f,m){-1===k.indexOf(a,m)&&a.push(m)});l.className=k.trim(a.join(" "))};k.hasClass=function(l,h){l=l.className||"";h="array"===k.typeOf(h)?h:h.split(" ");for(var a=0;a<h.length;a++)if(-1===l.search(new RegExp("\\b"+h[a]+"\\b","i")))return!1;return!0};k.removeClass=function(l,h){var a="string"===k.typeOf(l.className)?l.className.split(" "):[];h="array"===k.typeOf(h)?h:h.split(" ");k.foreach(h,function(f,m){f=k.indexOf(a,m);0<=f&&a.splice(f,
1)});l.className=k.trim(a.join(" "))};k.emptyElement=function(l){for(;l.firstChild;)l.removeChild(l.firstChild)};var b=window.console||{log:function(){},warn:function(){},error:function(){}};k.debug=function(){q.DEBUG&&k.log.apply(k,arguments)};k.log=function(){var l=Array.prototype.slice.call(arguments,0);"object"===typeof b?b.log.apply(b,l):b.log(l)};k.warn=function(){var l=Array.prototype.slice.call(arguments,0);"object"===typeof b?b.warn.apply(b,l):b.warn(l)};k.error=function(){var l=Array.prototype.slice.call(arguments,
0);"object"===typeof b?b.error.apply(b,l):b.error(l)};q.utils=k})(playease);
(function(q){function k(a){var f=this;f.set=function(m,c,v){switch(f.type){case h.DOUBLE:if("number"!==l.typeOf(c))throw{name:"TypeError",message:"Value should be number."};break;case h.BOOLEAN:if("boolean"!==l.typeOf(c))throw{name:"TypeError",message:"Value should be boolean."};case h.STRING:case h.LONG_STRING:if("string"!==l.typeOf(c))throw{name:"TypeError",message:"Value should be string."};break;case h.OBJECT:case h.ECMA_ARRAY:if("array"!==l.typeOf(c))throw{name:"TypeError",message:"Value should be array."};
for(v=0;v<c.length;v++){var d=c[v];f.table[d.key]=d}break;case h.STRICT_ARRAY:if("array"!==l.typeOf(c))throw{name:"TypeError",message:"Value should be array."};break;case h.DATE:if("number"!==l.typeOf(c))throw{name:"TypeError",message:"Value should be number."};if("number"!==l.typeOf(v))throw{name:"TypeError",message:"Offset not presented."};f.offset=v;break;case h.NULL:case h.UNDEFINED:if("null"!==l.typeOf(c))throw{name:"TypeError",message:"Value should be null."};break;default:throw{name:"TypeError",
message:"Unrecognized amf type "+f.type+"."};}f.key=m;f.value=c;return f};f.get=function(){switch(f.type){case h.DATE:return new Date(f.value+6E4*f.offset);default:return f.value}};f.type=a;f.key="";f.value=null;f.table={};f.offset=0;f.ended=!1}function b(a,f){for(var m=0,c=0;c<f.value.length;c++){var v=f.value[c];v.key&&(v=crypt.stringToByteArray(v.key),a.WriteUint16(v.length,!1),a.Write(v),m+=2+v.length);m+=h.encode(a,f)}return m}var l=q.utils,h={DOUBLE:0,BOOLEAN:1,STRING:2,OBJECT:3,MOVIE_CLIP:4,
NULL:5,UNDEFINED:6,REFERENCE:7,ECMA_ARRAY:8,END_OF_OBJECT:9,STRICT_ARRAY:10,DATE:11,LONG_STRING:12,UNSUPPORTED:13,RECORD_SET:14,XML:15,TYPED_OBJECT:16,AMF3_DATA:17,decode:function(a,f,m){if(1>f.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf Value."};var c=0,v=new DataView(f,m);a.type=v.getUint8(c);c+=1;v={0:h.decodeDouble,1:h.decodeBoolean,2:h.decodeString,3:h.decodeObject,5:h.decodeNull,6:h.decodeUndefined,8:h.decodeECMAArray,9:h.decodeEndOfObject,10:h.decodeStrictArray,
11:h.decodeDate,12:h.decodeLongString}[a.type];if(!v)throw{name:"TypeError",message:"Unrecognized amf type "+a.type+"."};return c+=v(a,f,m+c)},decodeDouble:function(a,f,m){if(8>f.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf double."};f=new DataView(f,m);a.value=f.getFloat64(0);return 8},decodeBoolean:function(a,f,m){if(1>f.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf boolean."};f=new DataView(f,m);a.value=!!f.getUint8(0);return 1},
decodeString:function(a,f,m){if(2>f.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf string."};var c=0,v=(new DataView(f,m)).getUint16(c);c+=2;0<v?(a.value=String.fromCharCode.apply(String,new Uint8Array(f,m+c,v)),c+=v):a.value="";return c},decodeObject:function(a,f,m){if(3>f.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf object."};var c=0,v=f.byteLength-m;for(a.value=[];c<v;){var d=new k;c+=h.decodeString(d,f,m+c);d.key=d.get();c+=h.decode(d,
f,m+c);if(d.type===h.END_OF_OBJECT)break;a.value.push(d);a.table[d.key]=d}return c},decodeNull:function(a,f,m){a.value=null;return 0},decodeUndefined:function(a,f,m){a.value=void 0;return 0},decodeECMAArray:function(a,f,m){if(4>f.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf ecma array."};var c=4;return c+=h.decodeObject(a,f,m+c)},decodeEndOfObject:function(a,f,m){a.ended=!0;return 0},decodeStrictArray:function(a,f,m){if(4>f.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf strict array."};
var c=0,v=new DataView(f,m),d=v.getUint32(c);c+=4;var g=f.byteLength-m;a.value=[];for(var t=0;t<d&&c<g;t++){var u=new k;c+=h.decode(u,f,m+c);a.value.push(u)}c+3<=g&&0===v.getUint8(c)&&0===v.getUint8(c+1)&&v.getUint8(c+2)===h.END_OF_OBJECT&&(a.ended=!0,c+=3);return c},decodeDate:function(a,f,m){if(10>f.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf date."};var c=0;f=new DataView(f,m);a.Timestamp=f.getFloat64(c);c+=8;a.Timeoffset=f.getInt16(c);return c+2},decodeLongString:function(a,
f,m){if(4>f.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf long string."};var c=0,v=(new DataView(f,m)).getUint32(c);c+=4;0<v&&(a.value=String.fromCharCode.apply(String,new Uint8Array(f,m+c,v)),c+=v);return c},appendBytes:function(a,f){a.Write(f)},appendInt8:function(a,f){a.writeInt8(f)},appendInt16:function(a,f,m){a.WriteInt16(f,m)},appendInt32:function(a,f,m){a.WriteInt32(f,m)},appendUint8:function(a,f){a.writeUint8(f)},appendUint16:function(a,f,m){a.WriteUint16(f,
m)},appendUint32:function(a,f,m){a.WriteUint32(f,m)},encode:function(a,f){var m={0:h.encodeDouble,1:h.encodeBoolean,2:h.encodeString,3:h.encodeObject,5:h.encodeNull,6:h.encodeUndefined,8:h.encodeECMAArray,10:h.encodeStrictArray,11:h.encodeDate,12:h.encodeLongString}[f.type];if(!m)throw{name:"TypeError",message:"Unrecognized amf type "+f.type+"."};return m(a,f)},encodeNumber:function(a,f){a.WriteUint8(h.DOUBLE);a.WriteFloat64(f.value,!1);return 9},encodeBoolean:function(a,f){a.WriteUint8(h.BOOLEAN);
a.WriteUint8(f.value?1:0);return 2},encodeString:function(a,f){if(!f.value)return 0;if(65535<=f.value.length)return h.encodeLongString(a,f);f=crypt.stringToByteArray(f.value);a.WriteUint8(h.STRING);a.WriteUint16(f.length,!1);a.Write(f);return 3+f.length},encodeObject:function(a,f){var m=1;a.WriteUint8(h.OBJECT);m+=b(f);f.ended&&(a.WriteUint16(0),a.WriteUint8(h.END_OF_OBJECT),m+=3);return m},encodeNull:function(a,f){a.WriteUint8(h.NULL);return 1},encodeUndefined:function(a,f){a.WriteUint8(h.UNDEFINED);
return 1},encodeECMAArray:function(a,f){var m=3;a.WriteUint8(h.ECMA_ARRAY);a.WriteUint32(f.value.length,!1);return m+=b(a,f)},encodeStrictArray:function(a,f){var m=3;a.WriteUint8(h.STRICT_ARRAY);a.WriteUint32(f.value.length,!1);return m+=b(a,f)},encodeDate:function(a,f){a.WriteUint8(h.DATE);a.WriteFloat64(f.value,!1);a.WriteUint16(f.offset,!1);return 11},encodeLongString:function(a,f){if(!f.value)return 0;f=crypt.stringToByteArray(f.value);a.WriteUint8(h.LONG_STRING);a.WriteUint32(f.length,!1);a.Write(f);
return 5+f.length}};h.Value=k;l.AMF=h})(playease);
(function(q){q=q.utils;q.MIN_UINT32=0;q.MAX_UINT32=4294967295;q.MAX_INT32=2147483647;q.MIN_INT32=-2147483648;q.MIN_CACHE_BITS=25;q.BitStream=function(k){var b=this;b.ShowBits=function(f){if(0===f)return 0;var m=a>>>3,c=0;a<h&&(c=l.getUint8(m)<<24);a+8<h&&(c|=l.getUint8(m+1)<<16);a+16<h&&(c|=l.getUint8(m+2)<<8);a+24<h&&(c|=l.getUint8(m+3));return c<<(a&7)>>>32-f};b.ShowBitsLong=function(f){return 25>=f?b.ShowBits(f):b.ShowBits(16)<<f-16|b.ShowBits(f-16)};b.ReadBits=function(f){var m=b.ShowBits(f);
a+=f;return m};b.ReadBitsLong=function(f){var m=b.ShowBitsLong(f);a+=f;return m};b.SkipBits=function(f){a+=f};b.Left=function(){return h-a};var l=new DataView(k.buffer,k.byteOffset,k.byteLength);var h=8*k.byteLength;var a=0}})(playease);
(function(q){var k=new function(){function b(){return f.match(/(Chrome|CriOS)\/((\d+)\.(\d+)(?:\.\d+)*)/)}function l(){if(!a.isWindows)return 0;var m=navigator.plugins;if(m){var c=m["Shockwave Flash"];if(c&&c.description){var v=c.description.replace(/\D+(\d+\.?\d*).*/,"$1");return parseFloat(v)}}if("undefined"!==typeof window.ActiveXObject)try{return c=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"),v=c.GetVariable("$version").split(" ")[1].replace(/\s*,\s*/,"."),parseFloat(v)}catch(d){}return 0}
function h(){return void 0!==window.orientation?90===window.orientation||-90===window.orientation:window.innerWidth>window.innerHeight}var a=this;var f=navigator.userAgent;a.OS={name:"",version:"",major:NaN,minor:NaN};a.Kernel={name:"",version:"",major:NaN,minor:NaN};a.Browser={name:"",version:"",major:NaN,minor:NaN};(function(){var m=f.match(/(Windows)\sNT\s((\d+)\.(\d+))/);if(m)switch(m[2]){case "6.3":m=["Windows 8.1","Windows","8.1","8","1"];break;case "6.2":m=["Windows 8.0","Windows","8.0","8",
"0"];break;case "6.1":m=["Windows 7.0","Windows","7.0","7","0"]}if(m=m||f.match(/(Mac)\sOS\sX\s((\d+)[\._](\d+)(?:[\._]\d+)*)/)||f.match(/(Android)(?:\s((\d+)(?:\.(\d+))?(?:\.(\d+))*))?/)||f.match(/(iP(?:hone|ad|od)).*\s((\d+)_(\d+)(?:_\d+)*)/)||f.match(/(Windows\sPhone)(?:\sOS)?\s((\d+)\.(\d+)(?:\.\d+)*)/))a.OS.name=m[1]||"",a.OS.version=(m[2]||"").replace(/_/g,"."),a.OS.major=parseInt(m[3]),a.OS.minor=parseInt(m[4]);a.OS.isWindows="Windows"===a.OS.name;a.OS.isMac="Mac"===a.OS.name;a.OS.isAndroid=
"Android"===a.OS.name;a.OS.isIOS="iPhone"===a.OS.name||"iPad"===a.OS.name||"iPod"===a.OS.name;a.OS.isWindowsPhone="Windows Phone"===a.OS.name;a.OS.isMobile=a.OS.isAndroid||a.OS.isIOS||a.OS.isWindowsPhone;a.OS.isHorizontal=h})();(function(){var m=a.OS.isAndroid&&f.match(/;\s(([-a-z\d\s]+)(?:\sBuild\/([-a-z\d\.\s]+))?)(?:;\swv|\))/i);m&&(a.OS.model=m[1],a.OS.brand=m[2],a.OS.build=m[3])})();(function(){var m=!a.OS.isIOS&&b()||f.match(/(AppleWebKit)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(Gecko)\/((\d+)(?:\.(\d+))?(?:\d+)*)/)||
f.match(/(Presto)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(Trident)\/((\d+)\.(\d+)(?:\.\d+)*)/);m&&(a.Kernel.name=m[1]||"",a.Kernel.version=m[2]||"",a.Kernel.major=parseInt(m[3]),a.Kernel.minor=parseInt(m[4]));a.Kernel.isChrome="Chrome"===a.Kernel.name;a.Kernel.isAppleWebKit="AppleWebKit"===a.Kernel.name;a.Kernel.isGecko="Gecko"===a.Kernel.name;a.Kernel.isPresto="Presto"===a.Kernel.name;a.Kernel.isTrident="Trident"===a.Kernel.name})();(function(){var m;(m=f.match(/(MSIE)\s((\d+)\.(\d+))/)||f.match(/(Trident)\/.+rv:((11)\.(\d+))/i)||
f.match(/(Firefox)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(OPR|OPiOS|Opera\sMini)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(UCBrowser)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(MicroMessenger)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(QQ)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/([M]?QQBrowser)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(MetaSr|SogouMobileBrowser)[\s\/]((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(QihooBrowser|360browser)(?:\/((\d+)\.(\d+)(?:\.\d+)*))?/)||f.match(/(Electron)(?:\/((\d+)\.(\d+)(?:\.\d+)*))?/)||
f.match(/(Edg|Edge|EdgA)\/((\d+)\.(\d+)(?:\.\d+)*)/)||b())||(m=a.OS.isAndroid||b()||!f.match(/Safari/)?null:(m=f.match(/Version\/((\d+)\.(\d+)(?:\.\d+)*)/))?["Safari/"+m[1],"Safari"].concat(m.slice(1)):null);if(m=m||f.match(/\s([a-z\d]+Browser)\/((\d+)\.(\d+)(?:\.\d+)*)/i)||f.match(/\s([a-z\d]+)\/((\d+)\.(\d+)(?:\.\d+)*)$/i))a.Browser.name=m[1]||"",a.Browser.version=m[2]||"",a.Browser.major=parseInt(m[3]),a.Browser.minor=parseInt(m[4]);a.Browser.isMSIE="MSIE"===a.Browser.name;a.Browser.isIE8="MSIE"===
a.Browser.name&&8===a.Browser.major;a.Browser.isIE9="MSIE"===a.Browser.name&&9===a.Browser.major;a.Browser.isIE10="MSIE"===a.Browser.name&&10===a.Browser.major;a.Browser.isIE11="Trident"===a.Browser.name;a.Browser.isIE=a.Browser.isMSIE||a.Browser.isIE11;a.Browser.isFirefox="Firefox"===a.Browser.name;a.Browser.isOpera="OPR"===a.Browser.name||"OPiOS"===a.Browser.name||"Opera Mini"===a.Browser.name;a.Browser.isUCBrowser="UCBrowser"===a.Browser.name;a.Browser.isWeChat="MicroMessenger"===a.Browser.name;
a.Browser.isQQ="QQ"===a.Browser.name;a.Browser.isQQBrowser="QQBrowser"===a.Browser.name||"MQQBrowser"===a.Browser.name;a.Browser.isSogou="MetaSr"===a.Browser.name||"SogouMobileBrowser"===a.Browser.name;a.Browser.is360="QihooBrowser"===a.Browser.name;a.Browser.isElectron="Electron"===a.Browser.name;a.Browser.isEdg="Edg"===a.Browser.name;a.Browser.isEdge="Edge"===a.Browser.name;a.Browser.isEdgA="EdgA"===a.Browser.name;a.Browser.isChrome="Chrome"===a.Browser.name;a.Browser.isCriOS="CriOS"===a.Browser.name;
a.Browser.isSafari="Safari"===a.Browser.name;a.Browser.flash=l()})()};q.OS=k.OS;q.Kernel=k.Kernel;q.Browser=k.Browser})(playease);
(function(q){var k=q.utils;k.crypt={stringToByteArray:function(b){for(var l=[],h=0,a=0;a<b.length;a++){for(var f=b.charCodeAt(a);255<f;)l[h++]=f&255,f>>=8;l[h++]=f}return l},byteArrayToString:function(b){if(8192>=b.length)return String.fromCharCode.apply(null,b);for(var l="",h=0;h<b.length;h+=8192){var a=Array.slice(b,h,h+8192);l+=String.fromCharCode.apply(null,a)}return l},byteArrayToHex:function(b){return Array.map(b,function(l){return k.padStart(l.toString(16),2,0)}).join("")},hexToByteArray:function(b){if(0!==
b.length%2)return k.error("Key string length must be multiple of 2."),null;for(var l=[],h=0;h<b.length;h+=2)l.push(parseInt(b.substring(h,h+2),16));return l},stringToUTF8ByteArray:function(b){for(var l=[],h=0,a=0;a<b.length;a++){var f=b.charCodeAt(a);128>f?l[h++]=f:(2048>f?l[h++]=f>>6|192:(55296===(f&64512)&&a+1<b.length&&56320===(b.charCodeAt(a+1)&64512)?(f=65536+((f&1023)<<10)+(b.charCodeAt(++a)&1023),l[h++]=f>>18|240,l[h++]=f>>12&63|128):l[h++]=f>>12|224,l[h++]=f>>6&63|128),l[h++]=f&63|128)}return l},
UTF8ByteArrayToString:function(b){for(var l=[],h=0,a=0;h<b.length;){var f=b[h++];if(128>f)l[a++]=String.fromCharCode(f);else if(191<f&&224>f){var m=b[h++];l[a++]=String.fromCharCode((f&31)<<6|m&63)}else if(239<f&&365>f){m=b[h++];var c=b[h++],v=b[h++];f=((f&7)<<18|(m&63)<<12|(c&63)<<6|v&63)-65536;l[a++]=String.fromCharCode(55296+(f>>10));l[a++]=String.fromCharCode(56320+(f&1023))}else m=b[h++],c=b[h++],l[a++]=String.fromCharCode((f&15)<<12|(m&63)<<6|c&63)}return l.join("")},XORByteArray:function(b,
l){if(b.length!==l.length)k.error("XOR array lengths must match.");else{for(var h=[],a=0;a<b.length;a++)h.push(b[a]^l[a]);return h}}}})(playease);
(function(q){function k(a,f){h||(h=b());var m="";l.foreach(f,function(c,v){m+=c+": "+v+"; "});try{h.insertRule?h.insertRule(a+" { "+m+"}",h.cssRules.length):h.addRule(a,m,h.rules.length)}catch(c){l.error("Failed to insert css rule: "+a)}}function b(){var a=document.createElement("style");a.type="text/css";document.getElementsByTagName("head")[0].appendChild(a);return a.sheet||a.styleSheet}var l=q.utils,h;k.style=function(a,f,m){if(void 0!==a&&null!==a)for(void 0===a.length&&(a=[a]),f=l.extendz({},
f),m=0;m<a.length;m++){var c=a[m];void 0!==c&&null!==c&&l.forEach(f,function(v,d){v=v.split("-");for(var g=1;g<v.length;g++)v[g]=v[g].charAt(0).toUpperCase()+v[g].slice(1);v=v.join("");c.style[v]!==d&&(c.style[v]=d)})}};l.css=k})(playease);
(function(q){q=q.utils;q.LITTLE_ENDIAN=function(){try{var k=new ArrayBuffer(2);(new DataView(k)).setInt16(0,256,!0);var b=new Int16Array(k)}catch(l){}return b&&256===b[0]}();q.getUint32=function(k,b,l){void 0===b&&(b=0);return l?k[b+0]|k[b+1]>>>8|k[b+2]>>>16|k[b+3]>>>24:k[b+0]<<24|k[b+1]<<16|k[b+2]<<8|k[b+3]}})(playease);
(function(q){function k(h){var a=this,f,m,c,v;a.append=function(g){d.push(g)};a.save=function(g){g||(g=a.config.filename);f=new Blob(d,{type:a.config.type});m=URL.createObjectURL(f);c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null);v=document.createElementNS("http://www.w3.org/1999/xhtml","a");v.href=m;v.download=g;v.dispatchEvent(c);d=[];URL.revokeObjectURL(m)};a.config=b.extendz({},l,h);var d=[]}var b=q.utils,l={filename:"sample.fragmented.mp4",
type:"video/mpeg"};k.prototype.CONF=l;b.FileKeeper=k})(playease);
(function(q){function k(l){b.call(this,l);var h=this;h.ReadUE=function(){for(var a=-1,f=0;0===f&&0<h.Left();a++)f=h.ReadBits(1);return(1<<a>>>0)-1+h.ReadBitsLong(a)};h.ReadSE=function(){var a=h.ReadUE();return 0===(a&1)?-(a>>>1):a+1>>>1}}q=q.utils;var b=q.BitStream;k.prototype=Object.create(b.prototype);k.prototype.constructor=k;q.ebsp2rbsp=function(l){var h=2,a=l.byteLength,f=new Uint8Array(a);f[0]=l[0];f[1]=l[1];for(var m=2;m<a;m++)if(3!==l[m]||0!==l[m-1]||0!==l[m-2])f[h]=l[m],h++;return f.subarray(0,
h)};q.Golomb=k})(playease);
(function(q){var k=/^(([a-z]+:)\/\/(([-a-z\d\.]+)(?::(\d+))?))((?:\/[-_a-z\d\s\.]*)*)([?#][-_=%&a-z\d\s\.]+)?$/i;q.utils.URL=function(b){var l=this;l.parse=function(h){l.href=h;!1===/^([a-z]+):\/\//.test(h)&&(l.href=window.location.origin+("/"===h.substr(0,1)?"":"/")+h);var a=l.href.match(k);if(null===a)throw{name:"SyntaxError",message:"The URL did not match the expected pattern, url="+h+"."};l.origin=a[1];l.protocol=a[2];l.host=a[3];l.hostname=a[4];l.port=a[5]||"";l.pathname=a[6]||"";if(h=l.pathname.match(/\/([-_a-z\d\s\(\)\[\]\{\}]+)(?:\.([a-z\d]+))?$/))l.filename=
h[1],l.filetype=h[2];a[7]&&("?"===a[7].substr(0,1)?l.search=a[7]:l.hash=a[7])};l.href="";l.origin="";l.protocol="";l.host="";l.hostname="";l.port="";l.pathname="";l.filename="";l.filetype="";l.search="";l.hash="";b&&l.parse(b)}})(playease);
(function(q){function k(a){function f(c,v){var d={};if(c.nodeType===l.DOCUMENT_NODE){for(var g=0;g<c.childNodes.length;g++){var t=c.childNodes[g],u=t.localName||t.baseName||t.nodeName;t.nodeType===l.ELEMENT_NODE&&(t=f(t),t.parent=d,m.config.ignoreRoot?(delete t.parent,d=t):d[u]=t)}return d}if(c.nodeType===l.ELEMENT_NODE){for(g=0;g<c.childNodes.length;g++)if(t=c.childNodes[g],u=t.localName||t.baseName||t.nodeName,t.nodeType!==l.COMMENT_NODE)if(t=f(t,v+"."+u),t.parent=d,d.hasOwnProperty(u))"array"!=
b.typeOf(d[u])&&(d[u]=[d[u]]),d[u].push(t);else if("#text"!=u||/[^\s]/.test(t))d[u]=t;u=c.localName||c.baseName||c.nodeName;null!=c.prefix&&""!=c.prefix&&(u=c.prefix+":"+u);for(g=0;g<c.attributes.length;g++){v=c.attributes[g];t=v.value;for(var p=0;p<m.config.matchers.length;p++){var n=m.config.matchers[p];n.test(v,u)&&(t=n.exec(v.value));d[m.config.attributePrefix+v.name]=t}}null!=d["#text"]&&m.config.trimWhitespaces&&(d["#text"]=d["#text"].trim());d.toString=function(){return(null==d["#text"]?"":
d["#text"])+(null==d["#cdata-section"]?"":d["#cdata-section"])};return d}if(c.nodeType===l.TEXT_NODE||c.nodeType===l.CDATA_SECTION_NODE)return c.nodeValue}var m=this;m.parse=function(c){if(window.DOMParser){var v=new DOMParser;try{var d=v.parseFromString(c,"text/xml")}catch(g){return b.error("Failed to parse XML structure."),null}}else 0===c.indexOf("<?")&&(c=c.substr(c.indexOf("?>")+2)),d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c);return f(d)};m.config=b.extendz({},h,a)}var b=
q.utils,l={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9},h={ignoreRoot:!0,trimWhitespaces:!1,attributePrefix:"@",matchers:[]};k.prototype.CONF=h;b.XML2JSON=k})(playease);
(function(q){var k=q.utils;k.MPD=function(b){function l(c,v){if(c)for(var d=0;d<c.AdaptationSet.length;d++){var g=c.AdaptationSet[d];if(g.hasOwnProperty("@id")){if(g["@id"]===v["@id"])return g}else if(g.hasOwnProperty("@contentType")){if(g["@contentType"]===v["@contentType"])return g}else if(g.hasOwnProperty("@mimeType")){if(g["@mimeType"]===v["@mimeType"])return g}else if(g.hasOwnProperty("@codecs")){if(g["@codecs"]===v["@codecs"])return g}else break}}var h,a,f;this.update=function(c){a=m;c.Location&&
c.Location["#text"]&&(a=c.Location["#text"]);f=c.BaseURL||a.substring(0,a.lastIndexOf("/")+1);if("dynamic"===c["@type"]){var v=h,d=0,g=NaN;"array"!=k.typeOf(c.Period)&&(c.Period=[c.Period]);for(var t=0;t<c.Period.length;t++){var u=c.Period[t];u.hasOwnProperty("@start")?d=u["@start"]:isNaN(g)?0===t&&"dynamic"!==c["@type"]&&(d=0):d+=g;u.hasOwnProperty("@duration")&&(g=u["@duration"]);u["@start"]=d;u["@duration"]=g;a:{var p=v;var n=u;if(p)for(var w=0;w<p.Period.length;w++){var e=p.Period[w];if(e.hasOwnProperty("@id")){if(e["@id"]===
n["@id"]){p=e;break a}}else if(e.hasOwnProperty("@start")){if(e["@start"]===n["@start"]){p=e;break a}}else{p=e;break a}}p=void 0}"array"!=k.typeOf(u.AdaptationSet)&&(u.AdaptationSet=[u.AdaptationSet]);for(n=0;n<u.AdaptationSet.length;n++){w=u.AdaptationSet[n];e=l(p,w);var r=e,x=e=0,z=[];if(!1!==w.SegmentTemplate.hasOwnProperty("SegmentTimeline")){if(r){var E=r.SegmentTemplate.SegmentTimeline;"array"!=k.typeOf(E.S)&&(E.S=[E.S]);for(r=0;r<E.S.length;r++){var H=E.S[r];0===r&&H.hasOwnProperty("@t")&&
(e=H["@t"]);e+=H["@d"];H["@r"]&&(e+=H["@d"]*H["@r"]);z.push(k.extendz({},H))}}w=w.SegmentTemplate.SegmentTimeline;"array"!=k.typeOf(w.S)&&(w.S=w.S?[w.S]:[]);for(r=0;r<w.S.length;r++)H=w.S[r],0===r&&H.hasOwnProperty("@t")&&(x=H["@t"]),x>=e&&z.push(H),x+=H["@d"],H["@r"]&&(x+=H["@d"]*H["@r"])}}}}h=c};this.getSegmentInfo=function(c,v,d,g,t,u){for(var p=h.Period[0],n=0;n<h.Period.length;n++){var w=h.Period[n];if(w.hasOwnProperty("@start"))w["@start"]>p["@start"]&&w["@start"]<=c&&(p=w);else break}c=p;a:{for(p=
0;p<c.AdaptationSet.length;p++)if(n=c.AdaptationSet[p],n.hasOwnProperty("@contentType")){if(n["@contentType"]===v){v=n;break a}}else if(n.hasOwnProperty("@mimeType")&&(w=n["@mimeType"].match(/^([a-z]+)\/[a-z0-9]+/i))&&1<w.length&&w[1]===v){v=n;break a}v=void 0}if(v){p=v;"array"!=k.typeOf(p.Representation)&&(p.Representation=[p.Representation]);n=p.Representation[0];for(w=0;w<p.Representation.length;w++){var e=p.Representation[w];e["@bandwidth"]>n["@bandwidth"]&&(!u||e["@bandwidth"]<=u)&&(n=e)}if(u=
n){w=v.SegmentTemplate;p=w[d?"@initialization":"@media"];n=w["@timescale"]||1;var r=w["@duration"]||0;p=p.replace(/\$RepresentationID\$/,u["@id"]);if(w["@media"].search(/\$Time\$/))if(e=w.SegmentTimeline,d)if(0<g||0===g&&!1===h.hasOwnProperty("@suggestedPresentationDelay"))e.S.length&&(g=e.S[0]["@t"]);else{var x=Math.abs(x)||h["@suggestedPresentationDelay"];a:{var z=x*n;for(x=e.S.length-1;0<=x;x--){var E=e.S[x];z-=E["@d"]*(E["@r"]||1);if(0>=z){z=e.S[0]["@t"];for(var H=0;H<x;H++)z+=e.S[H]["@d"],E["@r"]&&
(z+=E["@d"]*E["@r"]);E["@t"]=z;x=E;break a}}x=e.S[0]}x&&(g=x["@t"],r=x["@d"])}else{a:{for(x=NaN;e.S.length;){r=e.S.shift();isNaN(x)&&(x=r["@t"]||0);if(x+r["@d"]*(r["@r"]||0)>=g){r["@t"]=x;e.S.length&&(e.S[0]["@t"]=r["@t"]+r["@d"]);x=r;break a}x+=r["@d"];r["@r"]&&(x+=r["@d"]*r["@r"])}x=void 0}if(void 0===x)return;g=x["@t"];r=x["@d"];p=p.replace(/\$Time\$/,g)}w["@media"].search(/\$Number\$/)&&(d?t=w["@startNumber"]:p=p.replace(/\$Number\$/,t));d=u.baseURL||v.baseURL||c.baseURL;p=(d?d["#text"]:f)+p;
return{mimeType:u["@mimeType"]||v["@mimeType"],codecs:u["@codecs"]||v["@codecs"],index:t,start:g,duration:r,timescale:n,url:p}}}};this.getLocation=function(){return a};var m=b||""}})(playease);(function(q){q.utils.MPD.matchers={}})(playease);
(function(q){var k=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;q.utils.MPD.matchers.datetime=function(){this.test=function(b){return k.test(b.value)};this.exec=function(b){b=k.exec(b);var l=Date.UTC(parseInt(b[1],10),parseInt(b[2],10)-1,parseInt(b[3],10),parseInt(b[4],10),parseInt(b[5],10),b[6]&&parseInt(b[6],10)||0,b[7]&&1E3*parseFloat(b[7])||0);if(b[9]&&b[10]){var h=60*parseInt(b[9],10)+parseInt(b[10],10);l+=("+"===b[8]?
-1:1)*h*6E4}return new Date(l)}}})(playease);
(function(q){var k=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,b="minBufferTime mediaPresentationDuration minimumUpdatePeriod timeShiftBufferDepth maxSegmentDuration maxSubsegmentDuration suggestedPresentationDelay start starttime duration".split(" ");q.utils.MPD.matchers.duration=function(){this.test=function(l){for(var h=0;h<b.length;h++)if((l.localName||l.baseName||l.nodeName)===b[h])return k.test(l.value);return!1};this.exec=function(l){l=k.exec(l);var h=
31536E3*parseFloat(l[2]||0)+2592E3*parseFloat(l[4]||0)+86400*parseFloat(l[6]||0)+3600*parseFloat(l[8]||0)+60*parseFloat(l[10]||0)+parseFloat(l[12]||0);void 0!==l[1]&&(h*=-1);return h}}})(playease);(function(q){var k=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;q.utils.MPD.matchers.numeric=function(){this.test=function(b){return k.test(b.value)};this.exec=function(b){return parseFloat(b)}}})(playease);
(function(q){var k={MPD:["id","profiles"],Period:["id"],BaseURL:["serviceLocation","byteRange"],SegmentBase:["indexRange"],Initialization:["range"],RepresentationIndex:["range"],SegmentList:["indexRange"],BitstreamSwitching:["range"],SegmentURL:["mediaRange","indexRange"],SegmentTemplate:["indexRange","media","index","initialization","bitstreamSwitching"],AssetIdentifier:["value","id"],EventStream:["value"],AdaptationSet:["profiles","mimeType","segmentProfiles","codecs","contentType"],FramePacking:["value",
"id"],AudioChannelConfiguration:["value","id"],ContentProtection:["value","id"],EssentialProperty:["value","id"],SupplementalProperty:["value","id"],InbandEventStream:["value","id"],Accessibility:["value","id"],Role:["value","id"],Rating:["value","id"],Viewpoint:["value","id"],ContentComponent:["contentType"],Representation:["id","dependencyId","mediaStreamStructureId"],Subset:["id"],Metrics:["metrics"],Reporting:["value","id"]};q.utils.MPD.matchers.string=function(){this.test=function(b,l){return k.hasOwnProperty(l)&&
(l=k[l],void 0!==l)?0<=l.indexOf(b.name):!1};this.exec=function(b){return String(b)}}})(playease);
(function(q){q.events={Event:{BIND:"bind",READY:"ready",PLAY:"play",WAITING:"waiting",DURATIONCHANGE:"durationchange",LOADEDMETADATA:"loadedmetadata",LOADEDDATA:"loadeddata",CANPLAY:"canplay",PLAYING:"playing",CANPLAYTHROUGH:"canplaythrough",PAUSE:"pause",SEEKING:"seeking",SEEKED:"seeked",SWITCHING:"switching",SWITCHED:"switched",RATECHANGE:"ratechange",TIMEUPDATE:"timeupdate",VOLUMECHANGE:"volumechange",ENDED:"ended",ERROR:"error"},IOEvent:{LOADSTART:"loadstart",STALLED:"stalled",ABORT:"abort",TIMEOUT:"timeout",
PROGRESS:"progress",SUSPEND:"suspend",LOAD:"load",LOADEND:"loadend"},UIEvent:{SHOOTING:"shooting",FULLPAGE:"fullpage",FULLSCREEN:"fullscreen",RESIZE:"resize"},GlobalEvent:{CHANGE:"change",VISIBILITYCHANGE:"visibilitychange"},MouseEvent:{CLICK:"click",DOUBLE_CLICK:"doubleclick",MOUSE_MOVE:"mousemove"},KeyboardEvent:{KEY_DOWN:"key-down",KEY_UP:"key-up"},TimerEvent:{TIMER:"timer",COMPLETE:"complete"},MediaEvent:{PACKET:"packet",INFOCHANGE:"infochange",STATSUPDATE:"statsupdate",AAC_SPECIFIC_CONFIG:"aac-specific-config",
AAC_SAMPLE:"aac-sample",AVC_CONFIG_RECORD:"avc-config-record",AVC_SAMPLE:"avc-sample",END_OF_STREAM:"end-of-stream"},MediaStreamTrackEvent:{ADDTRACK:"addtrack",REMOVETRACK:"removetrack"}}})(playease);
(function(q){var k=q.utils;q.events.EventDispatcher=function(b,l){function h(g,t){if(g)for(var u=g.slice(0),p=0;p<u.length;p++){var n=u[p];if(n){isNaN(n.count)||0!==--n.count||g.splice(p,1);try{if(n.listener(t),t.stopPropagation)break}catch(w){k.error(f+" failed to dispatch event:",t,w.toString())}}}}var a=this,f=b,m=l,c=Array.prototype.slice.call(arguments,2);a.bind=function(){var g=Array.prototype.slice.call(arguments,0);k.forEach(g,function(t,u){k.forEach(u,function(p,n){p="on"+n.replace(/-/g,
"");a[p]=void 0})})};a.addEventListener=function(g,t,u){try{v[g]||(v[g]=[]),"string"===k.typeOf(t)&&(t=(new Function("return "+t))()),v[g].push({listener:t,count:u||NaN})}catch(p){k.error(f+" failed to addEventListener("+g+"):",p)}};a.removeEventListener=function(g,t){if(v[g])try{if(void 0===t)delete v[g];else for(var u=0;u<v[g].length;u++)if(v[g][u].listener.toString()===t.toString()){v[g].splice(u,1);break}}catch(p){k.error(f+" failed to removeEventListener("+g+"):",p)}};a.hasEventListener=function(g){return v.hasOwnProperty(g)&&
0<v[g].length};a.addGlobalListener=function(g,t){try{"string"===k.typeOf(g)&&(g=(new Function("return "+g))()),d.push({listener:g,count:t||NaN})}catch(u){k.error(f+" failed to addGlobalListener():",u)}};a.removeGlobalListener=function(g){if(g)try{for(var t=0;t<d.length;t++)if(d[t].listener.toString()===g.toString()){d.splice(t,1);break}}catch(u){k.error(f+" failed to removeGlobalListener():",u)}};a.dispatchEvent=function(g,t){a.forward({type:g,data:t||{},srcElement:a,version:q.VERSION})};a.forward=
function(g){g.target=a;g.stopPropagation=!1;g.api=!m||"string"!==typeof m.id&&"number"!==typeof m.id?void 0:m.id;q.DEBUG&&k.log(f,g);var t="on"+g.type.replace(/-/g,"");if("function"===k.typeOf(a[t]))a[t](g);else h(v[g.type],g),h(d,g)};var v={};var d=[];a.bind.apply(a,c)}})(playease);
(function(q){function k(a,f){function m(){d++;c.dispatchEvent(h.TIMER);0<c.repeatCount&&d>=c.repeatCount&&(c.stop(),c.dispatchEvent(h.COMPLETE))}l.call(this,"Timer",null,[h.TIMER,h.COMPLETE]);var c=this,v,d=0,g=!1;c.start=function(){!1===g&&(v=setInterval(m,c.delay),g=!0)};c.stop=function(){g&&(clearInterval(v),v=0,g=!1)};c.reset=function(){c.stop();d=0};c.currentCount=function(){return d};c.running=function(){return g};c.delay=a||50;c.repeatCount=f||0}var b=q.utils;q=q.events;var l=q.EventDispatcher,
h=q.TimerEvent;k.prototype=Object.create(l.prototype);k.prototype.constructor=k;b.Timer=k})(playease);
(function(q){var k=q.utils,b={},l=[];b.register=function(h,a){try{l.splice(a||l.length,0,h),b[h.prototype.kind]=h}catch(f){k.error("Failed to register loader "+h.prototype.kind+", Error="+f.message)}};b.get=function(h,a){for(var f=0;f<l.length;f++){var m=l[f];if(m.prototype.isSupported(h,a))return m}return null};b.Mode={CORS:"cors",NO_CORS:"no-cors",SAME_ORIGIN:"same-origin"};b.Credentials={OMIT:"omit",INCLUDE:"include",SAME_ORIGIN:"same-origin"};b.Cache={DEFAULT:"default",NO_STAORE:"no-store",RELOAD:"reload",
NO_CACHE:"no-cache",FORCE_CACHE:"force-cache",ONLY_IF_CACHED:"only-if-cached"};b.Redirect={FOLLOW:"follow",MANUAL:"manual",ERROR:"error"};b.ResponseType={ARRAYBUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};b.ReadyState={UNINITIALIZED:0,OPEN:1,SENT:2,LOADING:3,DONE:4};q.io=b.get;q.IO=b})(playease);
(function(q){function k(v){function d(w){return w.read().then(function(e){if(e.done)return b.debug("Loader load"),u=m.DONE,t.dispatchEvent(f.LOAD),t.dispatchEvent(f.LOADEND),Promise.resolve("load");switch(u){case m.SENT:u=m.LOADING;break;case m.DONE:return b.warn("Loader state error, probably aborted already."),w.cancel()}b.debug("Loader progress: "+e.value.buffer.byteLength+"/"+p);t.dispatchEvent(f.PROGRESS,{buffer:e.value.buffer,loaded:e.value.buffer.byteLength,total:p});return d(w)})["catch"](g)}
function g(w){u=m.DONE;b.error("Loader "+w.name+": "+w.message);switch(w.name){case "AbortError":t.dispatchEvent(f.ABORT,{name:w.name,message:w.message});break;case "TimeoutError":t.dispatchEvent(f.TIMEOUT,{name:w.name,message:w.message});break;default:t.dispatchEvent(a.ERROR,{name:w.name,message:w.message})}t.dispatchEvent(f.LOADEND)}h.call(this,"Fetch",null,[a.ERROR],f);var t=this,u;t.load=function(w,e,r){u=m.UNINITIALIZED;t.isSupported(w)?(b.debug("Loader loadstart"),t.dispatchEvent(f.LOADSTART),
u=m.OPEN,void 0!==e&&b.extendz(t.config.headers,{Range:"bytes="+e+"-"+(r||"")}),e=b.extendz({},t.config,{headers:new Headers(t.config.headers),signal:n.signal}),fetch(w.href,e).then(function(x){switch(u){case m.OPEN:u=m.SENT;break;default:b.warn("Loader state error, probably aborted already.")}if(!x.ok||200>x.status||299<x.status)return Promise.reject(Error(x.status+" "+x.statusText));var z=x.headers.get("Content-Length");z&&(z=parseInt(z));if(206===x.status){var E=x.headers.get("Content-Range");
E&&(E=E.match(/bytes (\d*)\-(\d*)\/(\d+)/i))&&(z=parseInt(E[3]))}p!==z&&(p=z||Infinity,b.log("File size changed: "+p));return d(x.body.getReader())})["catch"](g)):(b.error("Loader NotSupportedError: Not supportped."),u=m.DONE,t.dispatchEvent(a.ERROR,{name:"NotSupportedError",message:"Not supportped."}),t.dispatchEvent(f.LOADEND))};t.abort=function(){n.abort()};t.state=function(){return u};t.config=b.extendz({},c,v);var p=NaN;var n=new AbortController}var b=q.utils,l=q.events,h=l.EventDispatcher,a=
l.Event,f=l.IOEvent;q=q.IO;var m=q.ReadyState,c={method:"GET",headers:{},mode:q.Mode.CORS,credentials:q.Credentials.OMIT,cache:q.Cache.DEFAULT,redirect:q.Redirect.FOLLOW};k.prototype=Object.create(h.prototype);k.prototype.constructor=k;k.prototype.kind="Fetch";k.prototype.CONF=c;k.prototype.isSupported=function(v,d){return d&&"live"!==d?!1:!!fetch&&("http:"===v.protocol||"https:"===v.protocol)};q.register(k)})(playease);
(function(q){function k(g){a.call(this,"MozStream",null,[f.ERROR],m);var t=this,u;t.load=function(w,e,r){u=v.UNINITIALIZED;if(t.isSupported(w)){b.debug("Loader loadstart");t.dispatchEvent(m.LOADSTART);n.open(t.config.method,w.href,!0);void 0!==e&&b.extendz(t.config.headers,{Range:"bytes="+e+"-"+(r||"")});b.forEach(t.config.headers,function(x,z){n.setRequestHeader(x,z)});switch(t.config.credentials){case c.INCLUDE:n.withCredentials=!0;break;case c.SAME_ORIGIN:n.withCredentials=window.location.host===
w.host;break;default:n.withCredentials=!1}n.send()}else b.error("Loader NotSupportedError: Not supportped."),u=v.DONE,t.dispatchEvent(f.ERROR,{name:"NotSupportedError",message:"Not supportped."}),t.dispatchEvent(m.LOADEND)};t.abort=function(){n.abort()};t.state=function(){return u};t.config=b.extendz({},d,g);var p=NaN;var n=new XMLHttpRequest;n.onreadystatechange=function(w){u=n.readyState;switch(u){case v.SENT:if(200>n.status||299<n.status)b.error("Loader NetworkError: "+n.status+" "+n.statusText),
t.dispatchEvent(f.ERROR,{name:"NetworkError",message:n.status+" "+n.statusText});else{(w=n.getResponseHeader("Content-Length"))&&(w=parseInt(w));if(206===n.status){var e=n.getResponseHeader("Content-Range");e&&(e=e.match(/bytes (\d*)\-(\d*)\/(\d+)/i))&&(w=parseInt(e[3]))}p!==w&&(p=w||Infinity,b.log("File size changed: "+p))}}};n.onabort=function(w){b.warn("Loader AbortError: The operation was aborted.");t.dispatchEvent(m.ABORT,{name:"AbortError",message:"The operation was aborted."})};n.onprogress=
function(w){b.debug("Loader progress: "+n.response.byteLength+"/"+p);t.dispatchEvent(m.PROGRESS,{buffer:n.response,loaded:n.response.byteLength,total:p})};n.onload=function(w){b.debug("Loader load.");t.dispatchEvent(m.LOAD)};n.onerror=function(w){b.error("Loader "+w.name+": "+w.message);switch(w.name){case "TimeoutError":t.dispatchEvent(m.TIMEOUT,{name:w.name,message:w.message});break;default:t.dispatchEvent(f.ERROR,{name:w.name,message:w.message})}};n.onloadend=function(w){t.dispatchEvent(m.LOADEND)};
n.responseType="moz-chunked-arraybuffer"}var b=q.utils,l=q.Browser,h=q.events,a=h.EventDispatcher,f=h.Event,m=h.IOEvent;q=q.IO;var c=q.Credentials,v=q.ReadyState,d={method:"GET",headers:{},mode:q.Mode.CORS,credentials:c.OMIT,cache:q.Cache.DEFAULT,redirect:q.Redirect.FOLLOW};k.prototype=Object.create(a.prototype);k.prototype.constructor=k;k.prototype.kind="MozStream";k.prototype.CONF=d;k.prototype.isSupported=function(g,t){return t&&"live"!==t||l.isFirefox&&(14>l.major||67<l.major)?!1:"http:"===g.protocol||
"https:"===g.protocol};q.register(k)})(playease);
(function(q){function k(g){function t(r){b.error("Loader "+r.name+": "+r.message);switch(r.name){case "TimeoutError":u.dispatchEvent(m.TIMEOUT,{name:r.name,message:r.message});break;default:u.dispatchEvent(f.ERROR,{name:r.name,message:r.message})}}a.call(this,"MSStream",null,[f.ERROR],m);var u=this,p;u.load=function(r,x,z){p=v.UNINITIALIZED;e.position=0;if(u.isSupported(r)){b.debug("Loader loadstart");u.dispatchEvent(m.LOADSTART);w.open(u.config.method,r.href,!0);void 0!==x&&b.extendz(u.config.headers,
{Range:"bytes="+x+"-"+(z||"")});b.forEach(u.config.headers,function(E,H){w.setRequestHeader(E,H)});switch(u.config.credentials){case c.INCLUDE:w.withCredentials=!0;break;case c.SAME_ORIGIN:w.withCredentials=window.location.host===r.host;break;default:w.withCredentials=!1}w.send()}else b.error("Loader NotSupportedError: Not supportped."),p=v.DONE,u.dispatchEvent(f.ERROR,{name:"NotSupportedError",message:"Not supportped."}),u.dispatchEvent(m.LOADEND)};u.abort=function(){w.abort()};u.state=function(){return p};
u.config=b.extendz({},d,g);var n=NaN;var w=new XMLHttpRequest;w.onreadystatechange=function(r){p=w.readyState;switch(p){case v.SENT:if(200>w.status||299<w.status){b.error("Loader NetworkError: "+w.status+" "+w.statusText);u.dispatchEvent(f.ERROR,{name:"NetworkError",message:w.status+" "+w.statusText});break}(r=w.getResponseHeader("Content-Length"))&&(r=parseInt(r));if(206===w.status){var x=w.getResponseHeader("Content-Range");x&&(x=x.match(/bytes (\d*)\-(\d*)\/(\d+)/i))&&(r=parseInt(x[3]))}n!==r&&
(n=r||Infinity,b.log("File size changed: "+n));break;case v.LOADING:e.readAsArrayBuffer(w.response)}};w.onabort=function(r){b.warn("Loader AbortError: The operation was aborted.");u.dispatchEvent(m.ABORT,{name:"AbortError",message:"The operation was aborted."})};w.onerror=t;w.onloadend=function(r){u.dispatchEvent(m.LOADEND)};w.responseType="ms-stream";var e=new MSStreamReader;e.onprogress=function(r){r=e.result.slice(e.position);null==r?b.warn("What happend???"):(b.debug("Loader progress: "+r.byteLength+
"/"+n),u.dispatchEvent(m.PROGRESS,{buffer:r,loaded:r.byteLength,total:n}),e.position=e.result.byteLength)};e.onload=function(r){b.debug("Loader load.");u.dispatchEvent(m.LOAD)};e.onerror=t}var b=q.utils,l=q.Browser,h=q.events,a=h.EventDispatcher,f=h.Event,m=h.IOEvent;q=q.IO;var c=q.Credentials,v=q.ReadyState,d={method:"GET",headers:{},mode:q.Mode.CORS,credentials:c.OMIT,cache:q.Cache.DEFAULT,redirect:q.Redirect.FOLLOW};k.prototype=Object.create(a.prototype);k.prototype.constructor=k;k.prototype.kind=
"MSStream";k.prototype.CONF=d;k.prototype.isSupported=function(g,t){return t&&"live"!==t||!l.isIE10&&!l.isIE11&&!l.isEdge?!1:"http:"===g.protocol||"https:"===g.protocol};q.register(k)})(playease);
(function(q){function k(v){function d(e){n=m.SENT;b.log("File size changed: Infinity")}function g(e){b.debug("Loader progress: "+e.data.byteLength+"/Infinity");n===m.SENT&&(n=m.LOADING);p.dispatchEvent(f.PROGRESS,{buffer:e.data,loaded:e.data.byteLength,total:Infinity})}function t(e){b.error("Loader NetworkError: A network error occurred.");p.dispatchEvent(a.ERROR,{name:"NetworkError",message:"A network error occurred."})}function u(e){b.debug("Loader load.");n=m.DONE;p.dispatchEvent(f.LOAD);p.dispatchEvent(f.LOADEND)}
h.call(this,"Websocket",null,[a.ERROR],f);var p=this,n,w;p.load=function(e,r,x){n=m.UNINITIALIZED;p.isSupported(e)?(b.debug("Loader loadstart"),p.dispatchEvent(f.LOADSTART),n=m.OPEN,w=new (window.WebSocket||window.MozWebSocket)(e.href),w.onopen=d,w.onmessage=g,w.onerror=t,w.onclose=u,w.binaryType="arraybuffer"):(b.error("Loader NotSupportedError: Not supportped."),n=m.DONE,p.dispatchEvent(a.ERROR,{name:"NotSupportedError",message:"Not supportped."}),p.dispatchEvent(f.LOADEND))};p.abort=function(){!w||
w.readyState!=WebSocket.CONNECTING&&w.readyState!=WebSocket.OPEN||(w.close(),b.warn("Loader AbortError: The operation was aborted."),p.dispatchEvent(f.ABORT,{name:"AbortError",message:"The operation was aborted."}))};p.state=function(){return n};p.config=b.extendz({},c,v)}var b=q.utils,l=q.events,h=l.EventDispatcher,a=l.Event,f=l.IOEvent;q=q.IO;var m=q.ReadyState,c={method:"GET",headers:{},mode:q.Mode.CORS,credentials:q.Credentials.OMIT,cache:q.Cache.DEFAULT,redirect:q.Redirect.FOLLOW};k.prototype=
Object.create(h.prototype);k.prototype.constructor=k;k.prototype.kind="Websocket";k.prototype.CONF=c;k.prototype.isSupported=function(v,d){return d&&"live"!==d?!1:!(!window.WebSocket&&!window.MozWebSocket)&&("ws:"===v.protocol||"wss:"===v.protocol)};q.register(k)})(playease);
(function(q){function k(d){h.call(this,"XHR",null,[a.ERROR],f);var g=this,t;g.load=function(n,w,e){t=c.UNINITIALIZED;if(g.isSupported(n)){b.debug("Loader loadstart");g.dispatchEvent(f.LOADSTART);p.open(g.config.method,n.href,!0);void 0!==w&&b.extendz(g.config.headers,{Range:"bytes="+w+"-"+(e||"")});b.forEach(g.config.headers,function(r,x){p.setRequestHeader(r,x)});switch(g.config.credentials){case m.INCLUDE:p.withCredentials=!0;break;case m.SAME_ORIGIN:p.withCredentials=window.location.host===n.host;
break;default:p.withCredentials=!1}p.send()}else b.error("Loader NotSupportedError: Not supportped."),t=c.DONE,g.dispatchEvent(a.ERROR,{name:"NotSupportedError",message:"Not supportped."}),g.dispatchEvent(f.LOADEND)};g.abort=function(){p.abort()};g.state=function(){return t};g.config=b.extendz({},v,d);var u=NaN;var p=new XMLHttpRequest;p.onreadystatechange=function(n){t=p.readyState;switch(t){case c.SENT:if(416!==p.status&&(200>p.status||299<p.status))b.error("Loader NetworkError: "+p.status+" "+
p.statusText),g.dispatchEvent(a.ERROR,{name:"NetworkError",message:p.status+" "+p.statusText});else{(n=p.getResponseHeader("Content-Length"))&&(n=parseInt(n));if(206===p.status){var w=p.getResponseHeader("Content-Range");w&&(w=w.match(/bytes (\d*)\-(\d*)\/(\d+)/i))&&(n=parseInt(w[3]))}u!==n&&(u=n||Infinity,b.log("File size changed: "+u))}}};p.onabort=function(n){b.warn("Loader AbortError: The operation was aborted.");g.dispatchEvent(f.ABORT,{name:"AbortError",message:"The operation was aborted."})};
p.onprogress=function(n){b.debug("Loader progress: "+p.loaded+"/"+u)};p.onload=function(n){b.debug("Loader load.");g.dispatchEvent(f.PROGRESS,{buffer:p.response,loaded:p.response.byteLength,total:u});g.dispatchEvent(f.LOAD)};p.onerror=function(n){b.error("Loader "+n.name+": "+n.message);switch(n.name){case "TimeoutError":g.dispatchEvent(f.TIMEOUT,{name:n.name,message:n.message});break;default:g.dispatchEvent(a.ERROR,{name:n.name,message:n.message})}};p.onloadend=function(n){g.dispatchEvent(f.LOADEND)};
p.responseType=g.config.responseType}var b=q.utils,l=q.events,h=l.EventDispatcher,a=l.Event,f=l.IOEvent;q=q.IO;var m=q.Credentials,c=q.ReadyState,v={method:"GET",headers:{},mode:q.Mode.CORS,credentials:m.OMIT,cache:q.Cache.DEFAULT,redirect:q.Redirect.FOLLOW,responseType:q.ResponseType.ARRAYBUFFER};k.prototype=Object.create(h.prototype);k.prototype.constructor=k;k.prototype.kind="XHR";k.prototype.CONF=v;k.prototype.isSupported=function(d,g){if(g&&"live"===g){g=["flv","",void 0,"mp4","m4s","f4v","m4v",
"mov"];for(var t=0;t<g.length;t++)if(d.filetype===g[t])return!1}return"http:"===d.protocol||"https:"===d.protocol};q.register(k)})(playease);
(function(q){function k(h,a){this.Num=h||30;this.Den=a||1}function b(){var h=this;h.left=function(){return null==h.payload?0:h.payload.byteLength-h.position};h.set=function(f,m){a[f]=m};h.get=function(f){return a[f]};var a={};h.kind="";h.codec="";h.length=0;h.timestamp=0;h.streamid=0;h.payload=null;h.position=0}var l={};b.KindAudio="audio";b.KindVideo="video";b.KindScript="script";l.Rational=k;l.Information=function(){this.MimeType="";this.Codecs=[];this.Timescale=1E3;this.BitRate=this.VideoDataRate=
this.AudioDataRate=this.CodecHeight=this.CodecWidth=this.Height=this.Width=this.FileSize=this.Duration=this.VideoTimestamp=this.AudioTimestamp=this.Timestamp=this.TimeBase=0;this.FrameRate=new k;this.Channels=this.SampleSize=this.SampleRate=0;this.Stereo=!1;this.Encoder=""};l.Packet=b;q.AV=l})(playease);
(function(q){var k=q.utils;q=q.AV;var b={},l=[];b.COL_PRI_RESERVED0=0;b.COL_PRI_BT709=1;b.COL_PRI_UNSPECIFIED=2;b.COL_PRI_RESERVED=3;b.COL_PRI_BT470M=4;b.COL_PRI_BT470BG=5;b.COL_PRI_SMPTE170M=6;b.COL_PRI_SMPTE240M=7;b.COL_PRI_FILM=8;b.COL_PRI_BT2020=9;b.COL_PRI_SMPTEST428_1=10;b.COL_PRI_NB=11;b.COL_TRC_RESERVED0=0;b.COL_TRC_BT709=1;b.COL_TRC_UNSPECIFIED=2;b.COL_TRC_RESERVED=3;b.COL_TRC_GAMMA22=4;b.COL_TRC_GAMMA28=5;b.COL_TRC_SMPTE170M=6;b.COL_TRC_SMPTE240M=7;b.COL_TRC_LINEAR=8;b.COL_TRC_LOG=9;b.COL_TRC_LOG_SQRT=
10;b.COL_TRC_IEC61966_2_4=11;b.COL_TRC_BT1361_ECG=12;b.COL_TRC_IEC61966_2_1=13;b.COL_TRC_BT2020_10=14;b.COL_TRC_BT2020_12=15;b.COL_TRC_SMPTEST2084=16;b.COL_TRC_SMPTEST428_1=17;b.COL_TRC_ARIB_STD_B67=18;b.COL_TRC_NB=19;b.COL_SPC_RGB=0;b.COL_SPC_BT709=1;b.COL_SPC_UNSPECIFIED=2;b.COL_SPC_RESERVED=3;b.COL_SPC_FCC=4;b.COL_SPC_BT470BG=5;b.COL_SPC_SMPTE170M=6;b.COL_SPC_SMPTE240M=7;b.COL_SPC_YCOCG=8;b.COL_SPC_YCGCO=8;b.COL_SPC_BT2020_NCL=9;b.COL_SPC_BT2020_CL=10;b.COL_SPC_NB=11;b.COL_RANGE_UNSPECIFIED=0;
b.COL_RANGE_MPEG=1;b.COL_RANGE_JPEG=2;b.COL_RANGE_NB=2;b.CHROMA_LOC_UNSPECIFIED=0;b.CHROMA_LOC_LEFT=1;b.CHROMA_LOC_CENTER=2;b.CHROMA_LOC_TOPLEFT=3;b.CHROMA_LOC_TOP=4;b.CHROMA_LOC_BOTTOMLEFT=5;b.CHROMA_LOC_BOTTOM=6;b.CHROMA_LOC_NB=7;b.register=function(h,a){try{l.splice(a||l.length,0,h),b[h.prototype.kind]=h}catch(f){k.error("Failed to register codec "+h.prototype.kind+", Error="+f.message)}};b.get=function(h){for(var a=0;a<l.length;a++){var f=l[a];if(f.prototype.kind===h)return f}return null};q.codec=
b.get;q.Codec=b})(playease);
(function(q){function k(w){a.call(this,"AAC",null,m,[f.ERROR]);var e=this,r;e.parse=function(z){if(1>z.left())e.dispatchEvent(f.ERROR,{name:"DataError",message:"Data not enough while parsing AAC packet."});else{x.Timestamp=Math.max(z.timestamp,x.VideoTimestamp);var E=new DataView(z.payload.buffer);z.set("DataType",E.getUint8(z.position++));z.set("CTS",0);switch(z.get("DataType")){case d.SPECIFIC_CONFIG:x.MimeType||(x.MimeType=e.MimeType);a:if(2>z.left())e.dispatchEvent(f.ERROR,{name:"DataError",message:"Data not enough while parsing AAC specific config."});
else{r=new l(z.payload.subarray(z.position));e.AudioObjectType=r.ReadBits(5);e.AudioObjectType===g.ESCAPE&&(e.AudioObjectType=32+r.ReadBits(6));e.SamplingFrequencyIndex=r.ReadBits(4);e.SamplingFrequency=15===e.SamplingFrequencyIndex?r.ReadBits(24):t[e.SamplingFrequencyIndex];e.ChannelConfiguration=r.ReadBits(4);16>e.ChannelConfiguration&&(e.Channels=u[e.ChannelConfiguration]);if(e.AudioObjectType===g.SBR||e.AudioObjectType===g.PS&&0===(r.ShowBits(3)&3)&&0===(r.ShowBits(9)&63))switch(e.ExtensionSamplingFrequencyIndex=
r.ReadBits(4),e.ExtensionSamplingFrequency=15===e.ExtensionSamplingFrequencyIndex?r.ReadBits(24):t[e.ExtensionSamplingFrequencyIndex],e.ExtensionAudioObjectType=r.ReadBits(5),e.ExtensionAudioObjectType){case g.ESCAPE:e.ExtensionAudioObjectType=32+r.ReadBits(6);break;case g.ER_BSAC:e.ExtensionChannelConfiguration=r.ReadBits(4)}else e.ExtensionAudioObjectType=g.NULL,e.ExtensionSamplingFrequency=0;if(e.AudioObjectType===g.ALS){r.ShowBits(5);4279379!==r.ShowBitsLong(24)&&r.SkipBits(24);try{if(112>r.Left())throw{name:"DataError",
message:"Data not enough while parsing ALS config."};if(1095521024!==r.ReadBitsLong(32))throw{name:"TypeError",message:"Not ALS\\0"};e.SamplingFrequency=r.ReadBitsLong(32);r.SkipBits(32);e.ChannelConfiguration=0;e.Channels=r.ReadBits(16)+1}catch(I){b.error("Failed to parse AAC config ALS.");e.dispatchEvent(f.ERROR,{name:I.name,message:I.message});break a}}e.RefSampleDuration=Math.floor(1024*x.Timescale/e.SamplingFrequency);e.AudioObjectType=g.SBR;e.ExtensionSamplingFrequencyIndex=e.SamplingFrequencyIndex;
6<=e.SamplingFrequencyIndex?e.ExtensionSamplingFrequencyIndex-=3:1===e.ChannelConfiguration&&(e.AudioObjectType=g.AAC_LC);e.Config=e.AudioObjectType===g.SBR?new Uint8Array([e.AudioObjectType<<3|e.SamplingFrequencyIndex>>1,e.SamplingFrequencyIndex<<7|e.ChannelConfiguration<<3|e.ExtensionSamplingFrequencyIndex>>1,e.ExtensionSamplingFrequencyIndex<<7|8,0]):new Uint8Array([e.AudioObjectType<<3|e.SamplingFrequencyIndex>>1,e.SamplingFrequencyIndex<<7|e.ChannelConfiguration<<3]);e.Codec="mp4a.40."+e.AudioObjectType;
x.Codecs.push(e.Codec);e.dispatchEvent(m.AAC_SPECIFIC_CONFIG)}break;case d.RAW_FRAME_DATA:x.AudioTimestamp=z.timestamp;E=Math.ceil((z.timestamp-x.AudioTimestamp)/e.RefSampleDuration);for(var H=0;H<E-1;H++){var K=new c.Packet;K.kind=v.KindAudio;K.codec=z.codec;K.timestamp=x.AudioTimestamp+e.RefSampleDuration;K.streamid=z.streamid;var Q=K;a:switch(e.AudioObjectType){case AAC_LC:var R=p[e.Channels];break a;default:R=n[e.Channels]}Q.payload=R;if(void 0===K.payload){b.warn("Failed to get silent frame: AudioObjectType="+
e.AudioObjectType+", Channels="+e.Channels);break}K.length=K.payload.byteLength;K.set("DTS",x.TimeBase+K.timestamp);K.set("PTS",K.get("DTS"));K.set("Data",K.payload);b.warn("Generates silent frame: "+K.timestamp);x.AudioTimestamp=K.timestamp;e.dispatchEvent(m.AAC_SAMPLE,{packet:K})}z.set("DTS",x.TimeBase+z.timestamp);z.set("PTS",z.get("DTS"));z.set("Data",z.payload.subarray(z.position));e.dispatchEvent(m.AAC_SAMPLE,{packet:z});break;default:e.dispatchEvent(f.ERROR,{name:"TypeError",message:"Unrecognized AAC packet type: "+
e.DataType})}}};var x=w;e.MimeType="audio/mp4";e.Codec="";e.RefSampleDuration=Math.floor(1024*x.Timescale/44100);e.AudioObjectType=0;e.SamplingFrequencyIndex=0;e.SamplingFrequency=0;e.ChannelConfiguration=0;e.Channels=0;e.ExtensionAudioObjectType=0;e.ExtensionSamplingFrequencyIndex=0;e.ExtensionSamplingFrequency=0;e.ExtensionChannelConfiguration=0;e.Config=null;e.ExpectedDts=0;e.Flags={IsLeading:0,SampleDependsOn:1,SampleIsDependedOn:0,SampleHasRedundancy:0,IsNonSync:0}}var b=q.utils,l=b.Golomb,h=
q.events,a=h.EventDispatcher,f=h.Event,m=h.MediaEvent,c=q.AV,v=c.Packet;q=c.Codec;var d={SPECIFIC_CONFIG:0,RAW_FRAME_DATA:1},g={NULL:0,AAC_MAIN:1,AAC_LC:2,AAC_SSR:3,AAC_LTP:4,SBR:5,AAC_SCALABLE:6,TWINVQ:7,CELP:8,HVXC:9,TTSI:12,MAINSYNTH:13,WAVESYNTH:14,MIDI:15,SAFX:16,ER_AAC_LC:17,ER_AAC_LTP:19,ER_AAC_SCALABLE:20,ER_TWINVQ:21,ER_BSAC:22,ER_AAC_LD:23,ER_CELP:24,ER_HVXC:25,ER_HILN:26,ER_PARAM:27,SSC:28,PS:29,SURROUND:30,ESCAPE:31,L1:32,L2:33,L3:34,DST:35,ALS:36,SLS:37,SLS_NON_CORE:38,ER_AAC_ELD:39,
SMR_SIMPLE:40,SMR_MAIN:41,USAC_NOSBR:42,SAOC:43,LD_SURROUND:44,USAC:45},t=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350],u=[0,1,2,3,4,5,6,8],p=[new Uint8Array([0,200,0,128,35,128]),new Uint8Array([33,0,73,144,2,25,0,35,128]),new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]),new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]),new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]),new Uint8Array([0,200,0,128,32,132,1,38,64,8,
100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])],n=[new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]),new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]),new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,
149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])];k.prototype=Object.create(a.prototype);k.prototype.constructor=k;k.prototype.kind="AAC";k.DataTypes=d;k.AOT=g;k.SamplingFrequencys=t;k.Channels=u;k.SilentFramesOfLC=p;k.SilentFramesOfSBR=n;q.register(k)})(playease);
(function(q){function k(v){h.call(this,"AVC",null,f,[a.ERROR]);var d=this;d.parse=function(t){if(4>t.left())d.dispatchEvent(a.ERROR,{name:"DataError",message:"Data not enough while parsing AVC packet."});else{g.Timestamp=Math.max(t.timestamp,g.AudioTimestamp);var u=new DataView(t.payload.buffer);t.set("DataType",u.getUint8(t.position++));t.set("CTS",u.getUint8(t.position++)<<16|u.getUint8(t.position++)<<8|u.getUint8(t.position++));switch(t.get("DataType")){case m.SEQUENCE_HEADER:g.MimeType=d.MimeType;
a:if(7>t.left())d.dispatchEvent(a.ERROR,{name:"DataError",message:"Data not enough while parsing AVC decoder configuration record."});else{d.AVCC=t.payload.subarray(t.position);u=0;var p=new DataView(t.payload.buffer,t.position);d.ConfigurationVersion=p.getUint8(u++);d.ProfileIndication=p.getUint8(u++);d.ProfileCompatibility=p.getUint8(u++);d.LevelIndication=p.getUint8(u++);if(1!==d.ConfigurationVersion||0===d.ProfileIndication)d.dispatchEvent(a.ERROR,{name:"DataError",message:"Invalid AVC configuration version or profile."});
else if(d.NalLengthSize=(p.getUint8(u++)&3)+1,3>d.NalLengthSize)d.dispatchEvent(a.ERROR,{name:"DataError",message:"Invalid NalLengthSize "+d.NalLengthSize});else{for(var n=p.getUint8(u++)&31,w=0;w<n;w++){var e=p.getUint16(u);u+=2;if(0!==e){var r=d.AVCC.subarray(u,u+e);try{d.SPS.parse(r),d.RefSampleDuration=Math.floor(g.Timescale*v.FrameRate.Den/v.FrameRate.Num)}catch(x){d.dispatchEvent(a.ERROR,{name:x.name,message:x.message});break a}u+=e}}n=p.getUint8(u++);for(w=0;w<n;w++)e=p.getUint16(u),u+=2,0!==
e&&(u+=e);d.Codec=d.SPS.Codec;g.Codecs.push(d.Codec);d.dispatchEvent(f.AVC_CONFIG_RECORD,{packet:t})}}break;case m.NALU:a:{g.VideoTimestamp=t.timestamp;u=0;p=new DataView(t.payload.buffer,t.position);w=t.payload.subarray(t.position);n=[];t.set("DTS",g.TimeBase+t.timestamp);t.set("PTS",t.get("CTS")+t.get("DTS"));t.set("Data",w);for(t.set("NALUs",n);u<p.byteLength;){if(u+4>=p.byteLength){d.dispatchEvent(l.ERROR,{name:"DataError",message:"Data not enough for next NALU."});break a}e=p.getUint32(u);3===
d.NalLengthSize&&(e>>=8);u+=d.NalLengthSize;if(e>p.byteLength-d.NalLengthSize){d.dispatchEvent(l.ERROR,{name:"DataError",message:"Malformed Nalus near timestamp "+t.get("DTS")+"."});break a}t.set("ForbiddenZeroBit",p.getUint8(u)>>7&1);t.set("NalRefIdc",p.getUint8(u)>>5&3);t.set("NalUnitType",p.getUint8(u)&31);t.get("NalUnitType")===c.IDR_SLICE&&t.set("Keyframe",!0);r=w.subarray(u,u+e);u+=e;n.push(r)}d.dispatchEvent(f.AVC_SAMPLE,{packet:t})}break;case m.END_OF_SEQUENCE:b.debug("AVC sequence end.");
d.dispatchEvent(f.END_OF_STREAM);break;default:d.dispatchEvent(a.ERROR,{name:"TypeError",message:"Unrecognized AVC packet type: "+t.get("DataType")})}}};var g=v;d.MimeType="video/mp4";d.Codec="";d.RefSampleDuration=Math.floor(g.Timescale*v.FrameRate.Den/v.FrameRate.Num);d.AVCC=null;d.ConfigurationVersion=0;d.ProfileIndication=0;d.ProfileCompatibility=0;d.LevelIndication=0;d.NalLengthSize=0;d.SPS=new k.SPS(g);d.PPS=new k.PPS(d.SPS);d.ExpectedDts=0;d.Flags={IsLeading:0,SampleDependsOn:0,SampleIsDependedOn:0,
SampleHasRedundancy:0,IsNonSync:0}}var b=q.utils,l=q.events,h=l.EventDispatcher,a=l.Event,f=l.MediaEvent;q=q.AV.Codec;var m={SEQUENCE_HEADER:0,NALU:1,END_OF_SEQUENCE:2},c={SLICE:1,DPA:2,DPB:3,DPC:4,IDR_SLICE:5,SEI:6,SPS:7,PPS:8,AUD:9,END_SEQUENCE:10,END_STREAM:11,FILLER_DATA:12,SPS_EXT:13,AUXILIARY_SLICE:19,FF_IGNORE:267448321};k.prototype=Object.create(h.prototype);k.prototype.constructor=k;k.prototype.kind="AVC";k.DataTypes=m;k.NAL=c;q.register(k)})(playease);
(function(q){function k(){var c=this,v;c.parse=function(d){v=d;c.CpbCnt=v.ReadUE()+1;if(32<c.CpbCnt)throw{name:"DataError",message:"Invalid HRD.CpbCnt "+c.CpbCnt+"."};c.BitRateScale=v.ReadBits(4);c.CpbSizeScale=v.ReadBits(4);for(d=0;d<c.CpbCnt;d++)c.BitRateValue[d]=v.ReadUE(),c.CpbSizeValue[d]=v.ReadUE(),c.CbrFlag|=v.ReadBits(1)<<d;c.InitialCpbRemovalDelayLength=_b.ReadBits(5)+1;c.CpbRemovalDelayLength=v.ReadBits(5)+1;c.DpbOutputDelayLength=v.ReadBits(5)+1;c.TimeOffsetLength=v.ReadBits(5)};c.CpbCnt=
0;c.BitRateScale=0;c.CpbSizeScale=0;c.BitRateValue=Array(32);c.CpbSizeValue=Array(32);c.CbrFlag=0;c.InitialCpbRemovalDelayLength=0;c.CpbRemovalDelayLength=0;c.DpbOutputDelayLength=0;c.TimeOffsetLength=0}function b(){var c=this,v;c.parse=function(d){v=d;c.AspectRatioInfoPresentFlag=v.ReadBits(1);if(0!==c.AspectRatioInfoPresentFlag)if(c.AspectRatioIdc=v.ReadBits(8),255===c.AspectRatioIdc)c.Sar.Num=v.ReadBits(16),c.Sar.Den=v.ReadBits(16);else if(c.AspectRatioIdc<m.length)c.Sar=m[c.AspectRatioIdc];else throw{name:"DataError",
message:"Illegal aspect ratio."};else c.Sar.Num=0,c.Sar.Den=0;c.OverscanInfoPresentFlag=v.ReadBits(1);0!==c.OverscanInfoPresentFlag&&(c.OverscanAppropriateFlag=v.ReadBits(1));c.VideoSignalTypePresentFlag=v.ReadBits(1);0!==c.VideoSignalTypePresentFlag&&(c.VideoFormat=v.ReadBits(3),c.VideoFullRangeFlag=v.ReadBits(1),c.ColourDescriptionPresentFlag=v.ReadBits(1),0!==c.ColourDescriptionPresentFlag&&(c.ColourPrimaries=v.ReadBits(8),c.TransferCharacteristics=v.ReadBits(8),c.MatrixCoefficients=v.ReadBits(8),
c.ColourPrimaries>=f.COL_PRI_NB&&(c.ColourPrimaries=f.COL_PRI_UNSPECIFIED),c.TransferCharacteristics>=f.COL_TRC_NB&&(c.TransferCharacteristics=f.COL_TRC_UNSPECIFIED),c.MatrixCoefficients>=f.COL_SPC_NB&&(c.MatrixCoefficients=f.COL_SPC_UNSPECIFIED)));c.ChromaLocInfoPresentFlag=v.ReadBits(1);0!==c.ChromaLocInfoPresentFlag&&(c.ChromaSampleLocTypeTopField=v.ReadUE(),c.ChromaSampleLocTypeBottomField=v.ReadUE());if(0!==v.ReadBits(1)&&10>v.Left())throw{name:"DataError",message:"Truncated VUI."};c.TimingInfoPresentFlag=
v.ReadBits(1);if(0!==c.TimingInfoPresentFlag){c.NumUnitsInTick=v.ReadBitsLong(32);c.TimeScale=v.ReadBitsLong(32);if(0===c.NumUnitsInTick||0===c.TimeScale)l.debug("time_scale/num_units_in_tick invalid or unsupported "+c.TimeScale+"/"+c.NumUnitsInTick),c.TimingInfoPresentFlag=0;c.FixedFrameRateFlag=v.ReadBits(1)}c.NalHrdParametersPresentFlag=v.ReadBits(1);0!==c.NalHrdParametersPresentFlag&&c.NalHrd.parse(v);c.VclHrdParametersPresentFlag=v.ReadBits(1);0!==c.VclHrdParametersPresentFlag&&c.VclHrd.parse(v);
if(0!==c.NalHrdParametersPresentFlag||0!==c.VclHrdParametersPresentFlag)c.LowDelayHrdFlag=v.ReadBits(1);c.PicStructPresentFlag=v.ReadBits(1);if(0!==v.Left()&&(c.BitstreamRestrictionFlag=v.ReadBits(1),0!==c.BitstreamRestrictionFlag&&(c.MotionVectorsOverPicBoundariesFlag=v.ReadBits(1),c.MaxBytesPerPicDenom=v.ReadUE(),c.MaxBitsPerMbDenom=v.ReadUE(),c.Log2MaxMvLengthHorizontal=v.ReadUE(),c.Log2MaxMvLengthVertical=v.ReadUE(),c.MaxNumReorderFrames=v.ReadUE(),c.MaxDecFrameBuffering=v.ReadUE(),0>v.Left()&&
(c.MaxNumReorderFrames=0,c.BitstreamRestrictionFlag=0),16<c.MaxNumReorderFrames)))throw c.MaxNumReorderFrames=16,{name:"DataError",message:"Clipping illegal MaxNumReorderFrames "+c.MaxNumReorderFrames+"."};};c.AspectRatioInfoPresentFlag=0;c.AspectRatioIdc=0;c.Sar=new a;c.OverscanInfoPresentFlag=0;c.OverscanAppropriateFlag=0;c.VideoSignalTypePresentFlag=0;c.VideoFormat=0;c.VideoFullRangeFlag=0;c.ColourDescriptionPresentFlag=0;c.ColourPrimaries=0;c.TransferCharacteristics=0;c.MatrixCoefficients=0;c.ChromaLocInfoPresentFlag=
0;c.ChromaSampleLocTypeTopField=0;c.ChromaSampleLocTypeBottomField=0;c.TimingInfoPresentFlag=0;c.NumUnitsInTick=0;c.TimeScale=0;c.FixedFrameRateFlag=0;c.NalHrdParametersPresentFlag=0;c.NalHrd=new k;c.VclHrdParametersPresentFlag=0;c.VclHrd=new k;c.LowDelayHrdFlag=0;c.PicStructPresentFlag=0;c.BitstreamRestrictionFlag;c.MotionVectorsOverPicBoundariesFlag=0;c.MaxBytesPerPicDenom=0;c.MaxBitsPerMbDenom=0;c.Log2MaxMvLengthHorizontal=0;c.Log2MaxMvLengthVertical=0;c.MaxNumReorderFrames=0;c.MaxDecFrameBuffering=
0}var l=q.utils,h=l.Golomb;q=q.AV;var a=q.Rational,f=q.Codec;q=f.AVC;var m=[new a(0,1),new a(1,1),new a(12,11),new a(10,11),new a(16,11),new a(40,33),new a(24,11),new a(20,11),new a(32,11),new a(80,33),new a(18,11),new a(15,11),new a(64,33),new a(160,99),new a(4,3),new a(3,2),new a(2,1)];q.SPS=function(c){function v(t,u){return 0!==t&&0!==u&&(t+128)*(u+128)<l.MAX_INT32/8}var d=this,g;d.parse=function(t){if(4>t.byteLength)throw{name:"DataError",message:"Data not enough while parsing SPS."};d.Codec=
"avc1.";l.forEach(t.subarray(1,4),function(z,E){z=l.padStart(E.toString(16),2,"0");d.Codec+=z});t=l.ebsp2rbsp(t);g=new h(t);d.Data=t;g.ReadBits(8);d.ProfileIdc=g.ReadBits(8);d.ConstraintSetFlags=g.ReadBits(1)<<0;d.ConstraintSetFlags|=g.ReadBits(1)<<1;d.ConstraintSetFlags|=g.ReadBits(1)<<2;d.ConstraintSetFlags|=g.ReadBits(1)<<3;d.ConstraintSetFlags|=g.ReadBits(1)<<4;d.ConstraintSetFlags|=g.ReadBits(1)<<5;d.ReservedZero2Bits=g.ReadBits(2);d.LevelIdc=g.ReadBits(8);d.ID=g.ReadUE();if(32<=d.ID)throw{name:"DataError",
message:"SPS ID(0x"+d.ID.toString(16)+") out of range."};d.SeqScalingMatrixPresentFlag=0;d.Vui.VideoFullRangeFlag=1;d.Vui.MatrixCoefficients=f.COL_SPC_UNSPECIFIED;if(100===d.ProfileIdc||110===d.ProfileIdc||122===d.ProfileIdc||244===d.ProfileIdc||44===d.ProfileIdc||83===d.ProfileIdc||86===d.ProfileIdc||118===d.ProfileIdc||128===d.ProfileIdc||138===d.ProfileIdc||144===d.ProfileIdc){d.ChromaFormatIdc=g.ReadUE();if(3<d.ChromaFormatIdc)throw{name:"DataError",message:"Bad ChromaFormatIdc "+d.ChromaFormatIdc+
"."};if(3===d.ChromaFormatIdc&&(d.SeparateColourPlaneFlag=g.ReadBits(1),0!==d.SeparateColourPlaneFlag))throw{name:"DataError",message:"Separate color planes are not supported."};d.BitDepthLuma=g.ReadUE()+8;d.BitDepthChroma=g.ReadUE()+8;if(d.BitDepthChroma!==d.BitDepthLuma)throw{name:"DataError",message:"Different chroma and luma bit depth."};if(8>d.BitDepthLuma||14<d.BitDepthLuma||8>d.BitDepthChroma||14<d.BitDepthChroma)throw{name:"DataError",message:"Illegal bit depth value "+d.BitDepthLuma+", "+
d.BitDepthChroma+"."};d.TransformBypass=g.ReadBits(1);d.SeqScalingMatrixPresentFlag=g.ReadBits(1);if(0!==d.SeqScalingMatrixPresentFlag){t=8;3===d.ChromaFormatIdc&&(t+=4);for(var u=0;u<t;u++)if(0!=g.ReadBits(1)){var p=16;6<=u&&(p=64);for(var n=8,w=8,e=0;e<p;e++)w=g.ReadSE(),w=(n+w+256)%256,0!==w&&(n=w)}}}else d.ChromaFormatIdc=1,d.BitDepthLuma=8,d.BitDepthChroma=8;d.Log2MaxFrameNum=g.ReadUE()+4;if(4>d.Log2MaxFrameNum||16<d.Log2MaxFrameNum)throw{name:"DataError",message:"log2_max_frame_num_minus4("+
(d.Log2MaxFrameNum-4)+") out of range, expect 0-12."};d.PocType=g.ReadUE();if(0===d.PocType){if(d.Log2MaxPocLsb=g.ReadUE()+4,16<d.Log2MaxPocLsb)throw{name:"DataError",message:"log2_max_poc_lsb("+d.Log2MaxPocLsb+") is out of range."};}else if(1===d.PocType){d.DeltaPicOrderAlwaysZeroFlag=g.ReadBits(1);d.OffsetForNonRefPic=g.ReadUE();d.OffsetForTopToBottomField=g.ReadUE();d.NumRefFramesInPocCycle=g.ReadUE();t=d.OffsetForRefFrame.length;if(d.NumRefFramesInPocCycle>=t)throw{name:"DataError",message:"poc_cycle_length("+
d.NumRefFramesInPocCycle+") overflow."};for(u=0;u<d.NumRefFramesInPocCycle;u++)d.OffsetForRefFrame[u]=g.ReadUE()}else if(2!==d.PocType)throw{name:"DataError",message:"Illegal POC type "+d.PocType+"."};d.MaxNumRefFrames=g.ReadUE();if(34<d.MaxNumRefFrames||16<d.MaxNumRefFrames)throw{name:"DataError",message:"Too many reference frames, "+d.MaxNumRefFrames+"."};d.GapsInFrameNumValueAllowedFlag=g.ReadBits(1);d.PicWidth=g.ReadUE()+1;d.PicHeight=g.ReadUE()+1;if(d.PicWidth>=l.MAX_INT32/16||d.PicHeight>=l.MAX_INT32/
16||!1===v(16*d.PicWidth,16*d.PicHeight))throw{name:"DataError",message:"pic_width or pic_height overflow."};d.FrameMbsOnlyFlag=g.ReadBits(1);d.MbAdaptiveFrameFieldFlag=0===d.FrameMbsOnlyFlag?g.ReadBits(1):0;c.CodecWidth=16*d.PicWidth;c.CodecHeight=16*d.PicHeight*(2-d.FrameMbsOnlyFlag);d.Direct8x8InferenceFlag=g.ReadBits(1);d.FrameCroppingFlag=g.ReadBits(1);if(0!==d.FrameCroppingFlag){var r;t=g.ReadUE();u=g.ReadUE();p=g.ReadUE();n=g.ReadUE();1===d.ChromaFormatIdc&&(r=1);if(1===d.ChromaFormatIdc||
2===d.ChromaFormatIdc)var x=1;x=1<<x;r=2-d.FrameMbsOnlyFlag<<r;if(t>l.MAX_INT32/4/x||u>l.MAX_INT32/4/x||p>l.MAX_INT32/4/r||n>l.MAX_INT32/4/r||(t+u)*x>=c.CodecWidth||(p+n)*r>=c.CodecHeight)throw{name:"DataError",message:"Invalid crop values, l="+t+", r="+u+", t="+p+", b="+n+", w="+c.CodecWidth+", h="+c.CodecHeight+"."};d.FrameCropLeftOffset=t*x;d.FrameCropRightOffset=u*x;d.FrameCropTopOffset=p*r;d.FrameCropBottomOffset=n*r}else d.FrameCropLeftOffset=0,d.FrameCropRightOffset=0,d.FrameCropTopOffset=
0,d.FrameCropBottomOffset=0;d.VuiParametersPresentFlag=g.ReadBits(1);0!==d.VuiParametersPresentFlag&&(d.Vui.parse(g),0!==d.Vui.TimingInfoPresentFlag&&(c.FrameRate.Num=d.Vui.TimeScale,c.FrameRate.Den=2*d.Vui.NumUnitsInTick));c.CodecWidth-=d.FrameCropLeftOffset+d.FrameCropRightOffset;c.CodecHeight-=d.FrameCropTopOffset+d.FrameCropBottomOffset;c.Width=c.CodecWidth;c.Height=c.CodecHeight;1<d.Vui.Sar.Den&&(c.Width*=d.Vui.Sar.Num/d.Vui.Sar.Den)};d.ProfileIdc=0;d.ConstraintSetFlags=0;d.ReservedZero2Bits=
0;d.LevelIdc=0;d.ID=0;d.ChromaFormatIdc=0;d.SeparateColourPlaneFlag=0;d.BitDepthLuma=0;d.BitDepthChroma=0;d.TransformBypass=0;d.SeqScalingMatrixPresentFlag=0;d.Log2MaxFrameNum=0;d.PocType=0;d.Log2MaxPocLsb=0;d.DeltaPicOrderAlwaysZeroFlag=0;d.OffsetForNonRefPic=0;d.OffsetForTopToBottomField=0;d.NumRefFramesInPocCycle=0;d.OffsetForRefFrame=Array(256);d.MaxNumRefFrames=0;d.GapsInFrameNumValueAllowedFlag=0;d.PicWidth=0;d.PicHeight=0;d.FrameMbsOnlyFlag=0;d.MbAdaptiveFrameFieldFlag=0;d.Direct8x8InferenceFlag=
0;d.FrameCroppingFlag=0;d.FrameCropLeftOffset=0;d.FrameCropRightOffset=0;d.FrameCropTopOffset=0;d.FrameCropBottomOffset=0;d.VuiParametersPresentFlag=0;d.Vui=new b}})(playease);
(function(q){var k=q.utils,b=k.Golomb;q.AV.Codec.AVC.PPS=function(l){var h=this,a;h.parse=function(m){m=k.ebsp2rbsp(m);a=new b(m);h.Data=m;h.ID=a.ReadUE();if(256<=h.ID)throw{name:"DataError",message:"PPS ID(0x"+h.ID.toString(16)+") out of range."};h.SpsID=a.ReadUE();if(32<=h.SpsID)throw{name:"DataError",message:"SPS ID(0x"+h.SpsID.toString(16)+") out of range."};if(14<f.BitDepthLuma)throw{name:"DataError",message:"Invalid BitDepthLuma "+f.BitDepthLuma+"."};if(11===f.BitDepthLuma||13===f.BitDepthLuma)throw{name:"DataError",
message:"Unimplemented BitDepthLuma "+f.BitDepthLuma+"."};h.EntropyCodingModeFlag=a.ReadBits(1);h.PicOrderPresentFlag=a.ReadBits(1);h.NumSliceGroups=a.ReadUE()+1;1<h.NumSliceGroups&&(h.SliceGroupMapType=a.ReadUE(),k.debug("FMO not supported!"));h.NumRefIdx[0]=a.ReadUE()+1;h.NumRefIdx[1]=a.ReadUE()+1;if(31<h.NumRefIdx[0]-1||31<h.NumRefIdx[1]-1)throw{name:"DataError",message:"PPS reference overflow."};m=6*(f.BitDepthLuma-8);h.WeightedPredFlag=a.ReadBits(1);h.WeightedBipredIdc=a.ReadBits(2);h.PicInitQp=
a.ReadSE()+26+m;h.PicInitQs=a.ReadSE()+26+m;h.ChromaQpIndexOffset[0]=a.ReadSE();h.DeblockingFilterControlPresentFlag=a.ReadBits(1);h.ConstrainedIntraPredFlag=a.ReadBits(1);h.RedundantPicCntPresentFlag=a.ReadBits(1);h.Transform8x8ModeFlag=0;if(m=0<a.Left())66!==f.ProfileIdc&&77!==f.ProfileIdc&&88!==f.ProfileIdc||0===(f.ConstraintSetFlags&7)?m=!0:(k.debug("Current profile doesn't provide more RBSP data in PPS, skipping..."),m=!1);m?(h.Transform8x8ModeFlag=a.ReadBits(1),h.PicScalingMatrixPresentFlag=
a.ReadBits(1),0!==h.PicScalingMatrixPresentFlag&&(m=2,3===f.ChromaFormatIdc&&(m=6),a.ReadBits(6+m*h.Transform8x8ModeFlag)),h.ChromaQpIndexOffset[1]=a.ReadSE()):h.ChromaQpIndexOffset[1]=h.ChromaQpIndexOffset[0];h.ChromaQpIndexOffset[0]!==h.ChromaQpIndexOffset[1]&&(h.ChromaQpDiff=1)};var f=l;h.ID=0;h.SpsID=0;h.EntropyCodingModeFlag=0;h.PicOrderPresentFlag=0;h.NumSliceGroups=0;h.SliceGroupMapType=0;h.NumRefIdx=Array(2);h.WeightedPredFlag=0;h.WeightedBipredIdc=0;h.PicInitQp=0;h.PicInitQs=0;h.ChromaQpIndexOffset=
Array(2);h.DeblockingFilterControlPresentFlag=0;h.ConstrainedIntraPredFlag=0;h.RedundantPicCntPresentFlag=0;h.Transform8x8ModeFlag=0;h.PicScalingMatrixPresentFlag=0;h.ChromaQpDiff=0}})(playease);
(function(q){function k(d,g){h.call(this,"MediaStreamTrack");var t=this;t.stop=function(){};t.clone=function(){return new k(t.kind,t.source)};t.id=0;t.sn=0;t.kind=d;t.source=g}var b=q.utils,l=q.events,h=l.EventDispatcher,a=l.Event,f=l.MediaStreamTrackEvent;q=q.AV;var m=q.Information,c={},v=[];c.register=function(d,g){try{v.splice(g||v.length,0,d),c[d.prototype.kind]=d}catch(t){b.error("Failed to register format "+d.prototype.kind+", Error="+t.message)}};c.get=function(d){for(var g=0;g<v.length;g++){var t=
v[g];if(t.prototype.kind===d)return t}return null};k.KindAudio="audio";k.KindVideo="video";c.MediaStreamTrack=k;c.MediaStream=function(){h.call(this,"MediaStream",null,f,[a.ERROR]);var d=this;d.addTrack=function(u){for(var p=0;p<t.length;p++)if(t[p]===u){b.warn("MediaStreamTrack already added.");return}u.id=g++;t.push(u);b.log("Added "+u.kind+" track("+u.id+") to "+d.kind+".");d.dispatchEvent(f.ADDTRACK,{track:u})};d.removeTrack=function(u){for(var p=0;p<t.length;p++)if(t[p]===u){t.splice(p,1);b.log("Removed "+
u.kind+" track("+u.id+") to "+d.kind+".");d.dispatchEvent(f.REMOVETRACK,{track:u});break}};d.getTrackById=function(u){for(var p=0;p<t.length;p++)if(t[p].id===u)return t[p];return null};d.getTracks=function(){var u=[];b.forEach(t,function(p,n){u.push(n)});return u};d.getAudioTracks=function(){var u=[];b.forEach(t,function(p,n){n.kind===k.KindAudio&&u.push(n)});return u};d.getVideoTracks=function(){var u=[];b.forEach(t,function(p,n){n.kind===k.KindVideo&&u.push(n)});return u};d.close=function(){b.forEach(t,
function(u,p){p.stop();d.dispatchEvent(f.REMOVETRACK,{track:p})});g=1;t=[];d.info=new m};var g=1;var t=[];d.info=new m};q.format=c.get;q.Format=c})(playease);
(function(q){function k(){function t(){p=g.f;u.hasAudio=!1;u.hasVideo=!1}c.call(this,"FLV");var u=this,p,n;u.append=function(w){w=new Uint8Array(w);for(var e=0;e<w.byteLength;e++)switch(p){case g.f:if(70!==w[e]){u.dispatchEvent(h.ERROR,{name:"DataError",message:'Not "F"'});return}p=g.l;break;case g.l:if(76!==w[e]){u.dispatchEvent(h.ERROR,{name:"DataError",message:'Not "L"'});return}p=g.v;break;case g.v:if(86!==w[e]){u.dispatchEvent(h.ERROR,{name:"DataError",message:'Not "V"'});return}p=g.version;
break;case g.version:p=g.flags;break;case g.flags:u.hasAudio=!!(w[e]&4);u.hasVideo=!!(w[e]&1);p=g.header0;break;case g.header0:p=g.header1;break;case g.header1:p=g.header2;break;case g.header2:p=g.header3;break;case g.header3:p=g.backpointer0;break;case g.backpointer0:p=g.backpointer1;break;case g.backpointer1:p=g.backpointer2;break;case g.backpointer2:p=g.backpointer3;break;case g.backpointer3:p=g.type;break;case g.type:n=new f.Packet;switch(w[e]){case v.AUDIO:n.kind=m.KindAudio;break;case v.VIDEO:n.kind=
m.KindVideo;break;case v.SCRIPT:n.kind=m.KindScript;break;default:u.dispatchEvent(h.ERROR,{name:"TypeError",message:"Unrecognized flv tag "+b.hex(w[e])+"."});return}p=g.length0;break;case g.length0:n.length=w[e]<<16;p=g.length1;break;case g.length1:n.length|=w[e]<<8;p=g.length2;break;case g.length2:n.length|=w[e];n.payload=new Uint8Array(n.length);n.position=0;p=g.timestamp0;break;case g.timestamp0:n.timestamp=w[e]<<16;p=g.timestamp1;break;case g.timestamp1:n.timestamp|=w[e]<<8;p=g.timestamp2;break;
case g.timestamp2:n.timestamp|=w[e];p=g.timestamp3;break;case g.timestamp3:n.timestamp|=w[e]<<24;p=g.streamid0;break;case g.streamid0:n.streamid=w[e]<<16;p=g.streamid1;break;case g.streamid1:n.streamid|=w[e]<<8;p=g.streamid2;break;case g.streamid2:n.streamid|=w[e];p=g.payload;break;case g.payload:var r=Math.min(n.length-n.position,w.byteLength-e);n.payload.set(w.subarray(e,e+r),n.position);n.position+=r;e+=r-1;if(n.position===n.length){switch(n.kind){case m.KindAudio:n.set("Format",n.payload[0]>>
4&15);n.set("SampleRate",n.payload[0]>>2&3);n.set("SampleSize",n.payload[0]>>1&1);n.set("SampleType",n.payload[0]&1);n.set("DataType",n.payload[1]);n.position=1;break;case m.KindVideo:n.set("FrameType",n.payload[0]>>4&15);n.set("Codec",n.payload[0]&15);n.set("DataType",n.payload[1]);n.set("Keyframe",n.get("FrameType")===d.KEYFRAME);n.position=1;break;case m.KindScript:n.position=0}u.dispatchEvent(a.PACKET,{packet:n});p=g.backpointer0}break;default:u.dispatchEvent(h.ERROR,{name:"InvalidStateError",
message:"Invalid state while parsing flv tag."});return}};u.reset=function(){t();u.close()};t()}var b=q.utils,l=q.events,h=l.Event,a=l.MediaEvent,f=q.AV,m=f.Packet;q=f.Format;var c=q.MediaStream,v={AUDIO:8,VIDEO:9,SCRIPT:18},d={KEYFRAME:1,INTER_FRAME:2,DISPOSABLE_INTER_FRAME:3,GENERATED_KEYFRAME:4,INFO_OR_COMMAND_FRAME:5},g={f:0,l:1,v:2,version:3,flags:4,header0:5,header1:6,header2:7,header3:8,backpointer0:9,backpointer1:10,backpointer2:11,backpointer3:12,type:13,length0:14,length1:15,length2:16,
timestamp0:17,timestamp1:18,timestamp2:19,timestamp3:20,streamid0:21,streamid1:22,streamid2:23,payload:24};k.prototype=Object.create(c.prototype);k.prototype.constructor=k;k.prototype.kind="FLV";k.Tags=v;k.Frames=d;k.Formats={LINEAR_PCM_PLATFORM_ENDIAN:0,ADPCM:1,MP3:2,LINEAR_PCM_LITTLE_ENDIAN:3,NELLYMOSER_16_kHz_MONO:4,NELLYMOSER_8_kHz_MONO:5,NELLYMOSER:6,G_711_A_LAW_LOGARITHMIC_PCM:7,G_711_MU_LAW_LOGARITHMIC_PCM:8,RESERVED:9,AAC:10,SPEEX:11,MP3_8_kHz:14,DEVICE_SPECIFIC_SOUND:15};k.Rates=[5500,11025,
22050,44100];k.Codecs={JPEG:1,H263:2,SCREEN_VIDEO:3,VP6:4,VP6_ALPHA:5,SCREEN_VIDEO_2:6,AVC:7};q.FLV=k})(playease);
(function(q){function k(){a.call(this,"FMP4");var e=this;e.append=function(r){e.dispatchEvent(l.ERROR,{name:"NotSupportedError",message:"The operation is not supported."})};e.getInitSegment=function(){var r=e.ftyp(),x=e.moov.apply(e,arguments);return k.merge(r,x)};e.getSegment=function(r,x){var z=r.source,E=x.get("DTS")-e.info.TimeBase-z.ExpectedDts;x.set("DTS",z.ExpectedDts);x.set("PTS",x.get("CTS")+x.get("DTS"));x.set("Duration",z.RefSampleDuration+E);z.ExpectedDts=x.get("DTS")+x.get("Duration");
r.kind===h.KindVideo&&(x.get("Keyframe")?(z.Flags.SampleDependsOn=2,z.Flags.SampleIsDependedOn=1):(z.Flags.SampleDependsOn=1,z.Flags.SampleIsDependedOn=0));r.sn++;r=e.moof(r,x);x=e.mdat(x.get("Data"));return k.merge(r,x)};e.box=function(r){for(var x=Array.prototype.slice.call(arguments,1),z=8,E=0;E<x.length;E++)z+=x[E].byteLength;var H=0,K=new Uint8Array(z);K[H++]=z>>>24&255;K[H++]=z>>>16&255;K[H++]=z>>>8&255;K[H++]=z&255;K.set(r,H);H+=4;for(E=0;E<x.length;E++)K.set(x[E],H),H+=x[E].byteLength;return K};
e.ftyp=function(){return e.box(f.ftyp,c)};e.moov=function(){for(var r=[],x=[],z=e.mvhd(),E=Array.prototype.slice.call(arguments,0),H=0;H<E.length;H++){var K=E[H],Q=e.trak(K);K=e.trex(K);r.push(Q);x.push(K)}x=e.box.apply(e,[f.mvex].concat(x));return e.box.apply(e,[f.moov].concat([z],r,[x]))};e.mvhd=function(){var r=e.info.Timescale,x=1E3*e.info.Duration;return e.box(f.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,r>>24&255,r>>16&255,r>>8&255,r&255,x>>24&255,x>>16&255,x>>8&255,x&255,0,1,0,0,1,0,0,0,
0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))};e.trak=function(r){var x=e.tkhd(r);r=e.mdia(r);return e.box(f.trak,x,r)};e.tkhd=function(r){r=r.id;var x=1E3*e.info.Duration,z=e.info.Width,E=e.info.Height;return e.box(f.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,r>>24&255,r>>16&255,r>>8&255,r&255,0,0,0,0,x>>24&255,x>>16&255,x>>8&255,x&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,z>>8&255,z&255,0,0,E>>8&255,E&255,0,0]))};e.mdia=function(r){var x=e.mdhd(),z=e.hdlr(r);r=e.minf(r);return e.box(f.mdia,x,z,r)};e.mdhd=function(){var r=e.info.Timescale,x=1E3*e.info.Duration;return e.box(f.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,r>>24&255,r>>16&255,r>>8&255,r&255,x>>24&255,x>>16&255,x>>8&255,x&255,85,196,0,0]))};e.hdlr=function(r){return e.box(f.hdlr,r.kind===h.KindAudio?d:v)};e.minf=function(r){var x=r.kind===h.KindAudio?
e.box(f.smhd,w):e.box(f.vmhd,n);var z=e.dinf();r=e.stbl(r);return e.box(f.minf,x,z,r)};e.dinf=function(){var r=e.box(f.dref,m);return e.box(f.dinf,r)};e.stbl=function(r){r=e.stsd(r);var x=e.box(f.stts,t),z=e.box(f.stsc,u),E=e.box(f.stsz,p),H=e.box(f.stco,STCO);return e.box(f.stbl,r,x,z,E,H)};e.stsd=function(r){return r.kind===h.KindAudio?e.box(f.stsd,g,e.mp4a(r)):e.box(f.stsd,g,e.avc1(r))};e.mp4a=function(r){var x=r.source.SamplingFrequency;x=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,r.source.ChannelConfiguration,
0,16,0,0,0,0,x>>>8&255,x&255,0,0]);r=e.esds(r);return e.box(f.mp4a,x,r)};e.esds=function(r){r=r.source.Config;var x=r.byteLength;x=new Uint8Array([0,0,0,0,3,23+x,0,1,0,4,15+x,64,21,0,0,0,0,0,0,0,0,0,0,0,5,x]);return e.box(f.esds,x,r,new Uint8Array([6,1,2]))};e.avc1=function(r){var x=e.info.CodecWidth,z=e.info.CodecHeight;x=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,x>>8&255,x&255,z>>8&255,z&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,112,108,97,121,101,97,115,101,46,106,115,32,45,32,
118,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);r=e.box(f.avcC,r.source.AVCC);return e.box(f.avc1,x,r)};e.trex=function(r){r=r.id;return e.box(f.trex,new Uint8Array([0,0,0,0,r>>24&255,r>>16&255,r>>8&255,r&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))};e.moof=function(r,x){var z=e.mfhd(r);r=e.traf(r,x);return e.box(f.moof,z,r)};e.mfhd=function(r){r=r.sn;r=new Uint8Array([0,0,0,0,r>>24&255,r>>16&255,r>>8&255,r&255]);return e.box(f.mfhd,r)};e.traf=function(r,x){var z=r.id,E=x.get("DTS");z=e.box(f.tfhd,
new Uint8Array([0,0,0,0,z>>24&255,z>>16&255,z>>8&255,z&255]));E=e.box(f.tfdt,new Uint8Array([0,0,0,0,E>>24&255,E>>16&255,E>>8&255,E&255]));x=e.trun(r,x);r=e.sdtp(r);return e.box(f.traf,z,E,x,r)};e.trun=function(r,x){var z=x.get("Duration"),E=x.get("Data").byteLength;r=r.source.Flags;x=x.get("CTS");return e.box(f.trun,new Uint8Array([0,0,15,1,0,0,0,1,0,0,0,121,z>>24,z>>16,z>>8,z,E>>24,E>>16,E>>8,E,r.IsLeading<<2|r.SampleDependsOn,r.SampleIsDependedOn<<6|r.SampleHasRedundancy<<4|r.IsNonSync,0,0,x>>
24,x>>16,x>>8,x]))};e.sdtp=function(r){r=r.source.Flags;return e.box(f.sdtp,new Uint8Array([0,0,0,0,r.IsLeading<<6|r.SampleDependsOn<<4|r.SampleIsDependedOn<<2|r.SampleHasRedundancy]))};e.mdat=function(r){return e.box(f.mdat,r)};e.reset=function(){e.close()}}var b=q.utils,l=q.events.Event;q=q.AV.Format;var h=q.MediaStreamTrack,a=q.MediaStream,f={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],
stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},m=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),c=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),v=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),d=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),g=
new Uint8Array([0,0,0,0,0,0,0,1]),t=new Uint8Array([0,0,0,0,0,0,0,0]),u=STCO=t,p=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),n=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),w=new Uint8Array([0,0,0,0,0,0,0,0]);b.forEach(f,function(e,r){r.push(e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3))});k.prototype=Object.create(a.prototype);k.prototype.constructor=k;k.prototype.kind="FMP4";k.merge=function(){for(var e=Array.prototype.slice.call(arguments,0),r=0,x=0;x<e.length;x++)r+=e[x].byteLength;
var z=0;r=new Uint8Array(r);for(x=0;x<e.length;x++)r.set(e[x],z),z+=e[x].byteLength;return r};k.parseDescriptor=function(e){e=new Uint8Array(e);for(var r=0,x={},z,E=0;E<e.byteLength;E++)switch(r){case 0:z={type:e[E],size:0,data:void 0};x[z.type]=z;r=1;break;case 1:case 2:case 3:case 4:var H=e[E];z&&(z.size=z.size<<7|H&127);H&128?r++:r=5;break;case 5:z&&(z.data=e.subarray(E,E+z.size),E+=z.size-1);r=0;break;default:throw{name:"InvalidStateError",message:"Invalid state while parsing fmp4 descriptor."};
}return x};q.FMP4=k})(playease);(function(q){var k=q.utils,b={},l=[];b.register=function(h,a){try{l.splice(a||l.length,0,h),b[h.prototype.kind]=h}catch(f){k.error("Failed to register module "+h.prototype.kind+", Error="+f.message)}};b.get=function(h,a){for(var f=0;f<l.length;f++){var m=l[f];if(m.prototype.isSupported(h,a))return m}return null};q.module=b.get;q.Module=b})(playease);
(function(q){function k(d){m.call(this,"SRC",null,c,v);var g=this,t;g.setup=function(){!1===u&&(u=!0,g.dispatchEvent(c.READY,{kind:g.kind}))};g.play=function(n,w){"string"===b.typeOf(n)&&n!==t&&n!==p.src&&(t=n,g.dispatchEvent(c.DURATIONCHANGE,{duration:NaN}),p.src=n);if(n=p.play())n["catch"](function(e){switch(e.name){case "AbortError":b.debug(e.name+": "+e.message);break;case "NotAllowedError":b.warn("Failed to play due to the autoplay policy, trying to play with muted.");p.muted=!0;p.play();break;
default:b.error("Unrecognized error occured, "+e.name+": "+e.message),g.dispatchEvent(c.STALLED,{name:e.name,message:e.message})}});p.controls=!1};g.pause=function(){p.pause();p.controls=!1};g.seek=function(n){p.currentTime=n;g.play()};g.stop=function(){u=!1;t=void 0;p.removeAttribute("src");p.load();p.controls=!1};g.muted=function(n){"boolean"===b.typeOf(n)&&(p.muted=n);return p.muted};g.volume=function(n){"number"===b.typeOf(n)&&(p.volume=n);return p.volume};g.cleanup=function(){g.stop();u=!1};
g.element=function(){return p};g.config=d;var u=!1;var p=b.createElement("video");p.addEventListener("play",g.forward);p.addEventListener("loadstart",g.forward);p.addEventListener("waiting",g.forward);p.addEventListener("stalled",g.forward);p.addEventListener("abort",g.forward);p.addEventListener("timeout",g.forward);p.addEventListener("durationchange",function(n){g.dispatchEvent(c.DURATIONCHANGE,{duration:p.duration})});p.addEventListener("loadedmetadata",g.forward);p.addEventListener("loadeddata",
g.forward);p.addEventListener("progress",g.forward);p.addEventListener("canplay",g.forward);p.addEventListener("playing",g.forward);p.addEventListener("canplaythrough",g.forward);p.addEventListener("suspend",g.forward);p.addEventListener("pause",g.forward);p.addEventListener("seeking",g.forward);p.addEventListener("seeked",g.forward);p.addEventListener("ratechange",g.forward);p.addEventListener("timeupdate",function(n){n=p.buffered;g.dispatchEvent(c.TIMEUPDATE,{start:n.length?n.start(0):0,time:p.currentTime,
buffered:n.length?n.end(n.length-1):0,duration:p.duration})});p.addEventListener("volumechange",function(n){g.dispatchEvent(c.VOLUMECHANGE,{muted:p.muted,volume:p.volume})});p.addEventListener("load",g.forward);p.addEventListener("ended",g.forward);p.addEventListener("error",function(n){g.dispatchEvent(c.ERROR,{name:{1:"AbortError",2:"NetworkError",3:"EncodingError",4:"NotSupportedError"}[p.error.code],message:p.error.message})});g.config.objectfit&&l.style(p,{"object-fit":g.config.objectfit});g.config.airplay&&
p.setAttribute("x-webkit-airplay","allow");g.config.playsinline&&(p.setAttribute("playsinline","isiPhoneShowPlaysinline"),p.setAttribute("webkit-playsinline","isiPhoneShowPlaysinline"),p.setAttribute("x5-playsinline",""),p.setAttribute("x5-video-player-type","h5-page"),p.setAttribute("x5-video-player-fullscreen",!0),p.setAttribute("t7-video-player-type","inline"));g.config.preload&&(p.preload=g.config.preload);p.muted=g.config.muted;p.volume=g.config.volume}var b=q.utils,l=b.css,h=q.OS,a=q.Browser,
f=q.events,m=f.EventDispatcher,c=f.Event,v=f.IOEvent;q=q.Module;k.prototype=Object.create(m.prototype);k.prototype.constructor=k;k.prototype.kind="SRC";k.prototype.isSupported=function(d,g){if(a.isMSIE&&9>a.major)return!1;d=new b.URL(d);if("http:"!==d.protocol&&"https:"!==d.protocol)return!1;g="m3u8 m3u hls mp4 f4v m4v mov m4a f4a aac ogv ogg mp3 oga webm".split(" ");var t="mp4 f4v m4v mov m4a f4a aac ogv ogg mp3 oga webm".split(" ");g=h.isMobile||h.isMac?g:t;for(t=0;t<g.length;t++)if(d.filetype===
g[t])return!0;return!1};q.register(k)})(playease);
(function(q){function k(K){function Q(y){b.log("MediaSource.onsourceopen");ha=new Date;ma=na=NaN;oa=ya=0;za.start();O.load(da)}function R(y){b.log("MediaSource.onsourceended")}function I(y){b.log("MediaSource.onsourceclose")}function U(y){b.log("MediaSource.onsourceerror");A.dispatchEvent(m.ERROR,{name:err.name,message:err.message})}function X(y){pa();var F;y.loader&&"auto"!==y.loader.name&&(F=t[y.loader.name]);null!=F&&F.prototype.isSupported(da,A.config.mode)||(F=q.io(da,A.config.mode));if(null==
F)throw{name:"NotSupportedError",message:"No supported io found."};O=new F(y.loader);O.addEventListener(c.LOADSTART,A.forward);O.addEventListener(c.STALLED,A.forward);O.addEventListener(c.ABORT,qa);O.addEventListener(c.TIMEOUT,ia);O.addEventListener(c.PROGRESS,ra);O.addEventListener(c.SUSPEND,A.forward);O.addEventListener(c.LOAD,A.forward);O.addEventListener(c.LOADEND,L);O.addEventListener(m.ERROR,ia);b.log(O.kind+" loader initialized.")}function pa(){O&&(O.removeEventListener(c.LOADSTART,A.forward),
O.removeEventListener(c.STALLED,A.forward),O.removeEventListener(c.ABORT,qa),O.removeEventListener(c.TIMEOUT,ia),O.removeEventListener(c.PROGRESS,ra),O.removeEventListener(c.SUSPEND,A.forward),O.removeEventListener(c.LOAD,A.forward),O.removeEventListener(c.LOADEND,L),O.removeEventListener(m.ERROR,ia),O.abort())}function ra(y){b.debug("progress: "+y.data.loaded+"/"+y.data.total);ya+=y.data.loaded;oa+=y.data.loaded;A.dispatchEvent(d.STATSUPDATE,{stats:{LoadedBytes:b.formatBytes(ya)}});N.append(y.data.buffer)}
function qa(y){y.type=m.ENDED;A.forward(y)}function ia(y){A.forward(y)}function sa(y){y=y.data.packet;switch(y.kind){case p.KindVideo:if(y.get("Codec")!==x.AVC){A.dispatchEvent(m.ERROR,{name:"NotSupportedError",message:"Video codec "+b.hex(y.get("Codec"))+" not supported."});break}var F=N.getVideoTracks()[0];if(y.get("DataType")===n.AVC.DataTypes.SEQUENCE_HEADER){if(F){b.warn("Video track already exists, ignored.");break}F=new n.AVC(N.info);F=new e(e.KindVideo,F);N.addTrack(F)}else if(0<y.timestamp&&
y.timestamp<N.info.VideoTimestamp){b.warn("Drops unordered video packet: "+y.timestamp);break}isNaN(ma)&&(ma=(new Date).getTime()-ha.getTime(),A.dispatchEvent(d.STATSUPDATE,{stats:{FirstVideoFrame:(ma/1E3).toLocaleString()+" sec."}}));F.source.parse(y);break;case p.KindAudio:if(y.get("Format")!==r.AAC){A.dispatchEvent(m.ERROR,{name:"NotSupportedError",message:"Audio format "+b.hex(y.get("Format"))+" not supported."});break}F=N.getAudioTracks()[0];if(y.get("DataType")===n.AAC.DataTypes.SPECIFIC_CONFIG){if(F){b.warn("Audio track already exists, ignored.");
break}F=new n.AAC(N.info);F=new e(e.KindAudio,F);N.addTrack(F)}else if(0<y.timestamp&&y.timestamp<=N.info.AudioTimestamp){b.warn("Drops unordered audio packet: "+y.timestamp);break}isNaN(na)&&(na=(new Date).getTime()-ha.getTime(),A.dispatchEvent(d.STATSUPDATE,{stats:{FirstAudioFrame:(na/1E3).toLocaleString()+" sec."}}));F.source.parse(y);break;case p.KindScript:F=new u.Value;var M=u.decode(F,y.payload.buffer,y.position);F.key=F.get();M+=u.decode(F,y.payload.buffer,y.position+M);var W={};b.forEach(F.get(),
function(ja,Aa){W[Aa.key]=Aa.get()});b.log(F.key+":",W);"onMetaData"===F.key&&ta(F);break;default:b.error("Unrecognized flv tag "+b.hex(y.kind)+".")}}function ua(y){y=y.data.track.clone();y.source.addEventListener(d.AVC_CONFIG_RECORD,ka);y.source.addEventListener(d.AAC_SPECIFIC_CONFIG,Y);y.source.addEventListener(d.AVC_SAMPLE,D);y.source.addEventListener(d.AAC_SAMPLE,la);y.source.addEventListener(d.END_OF_STREAM,L);y.source.addEventListener(m.ERROR,A.forward);V.addTrack(y)}function va(y){y=V.getTrackById(y.data.track.id);
y.source.removeEventListener(d.AVC_CONFIG_RECORD,ka);y.source.removeEventListener(d.AAC_SPECIFIC_CONFIG,Y);y.source.removeEventListener(d.AVC_SAMPLE,D);y.source.removeEventListener(d.AAC_SAMPLE,la);y.source.removeEventListener(d.END_OF_STREAM,L);y.source.removeEventListener(m.ERROR,A.forward);y.stop();V.removeTrack(y)}function ta(y){var F={MimeType:N.info.MimeType,Codecs:N.info.Codecs.join(", "),Timescale:N.info.Timescale},M={duration:"Duration",fileSize:"FileSize",width:"Width",height:"Height",framerate:"FrameRate",
audiodatarate:"AudioDataRate",videodatarate:"VideoDataRate",audiosamplerate:"SampleRate",audiosamplesize:"SampleSize",audiochannels:"Channels",stereo:"Stereo",encoder:"Encoder"};b.forEach(y.table,function(W,ja){if(ja=M[W]){switch(ja){case "FrameRate":N.info.FrameRate.Num=y.table[W].get();N.info.FrameRate.Den=1;break;default:N.info[ja]=y.table[W].get()}F[ja]=y.table[W].get()}});A.dispatchEvent(d.INFOCHANGE,{info:F})}function ka(y){y=V.getVideoTracks()[0];Z(y);var F=V.getInitSegment(y);aa[y.kind].push(F);
J(y.kind)}function Y(y){y=V.getAudioTracks()[0];Z(y);var F=V.getInitSegment(y);aa[y.kind].push(F);J(y.kind)}function D(y){var F=V.getVideoTracks()[0];y=V.getSegment(F,y.data.packet);aa[F.kind].push(y);J(F.kind)}function la(y){var F=V.getAudioTracks()[0];y=V.getSegment(F,y.data.packet);aa[F.kind].push(y);J(F.kind)}function L(y){wa=!0}function Z(y){var F=y.source;F=F.MimeType+'; codecs="'+F.Codec+'"';if(!1===MediaSource.isTypeSupported(F))b.warn(F+" not supported!");else if("closed"===T.readyState)A.dispatchEvent(m.ERROR,
{name:"InvalidStateError",message:"MediaSource is already closed while adding SourceBuffer."});else{b.log("Adding SourceBuffer: "+F);try{var M=T.addSourceBuffer(F);M.addEventListener("updateend",P);M.addEventListener("error",fa);M.kind=y.kind;ea[y.kind]=M}catch(W){b.error(W.name+": "+W.message)}A.dispatchEvent(d.INFOCHANGE,{info:{MimeType:N.info.MimeType,Codecs:N.info.Codecs.join(", "),Timescale:N.info.Timescale}})}}function J(y){if(N.hasAudio||N.hasVideo)if(N.hasAudio&&!ea[e.KindAudio]||N.hasVideo&&
!ea[e.KindVideo])return;var F=ea[y];if(F&&!F.updating&&(y=aa[y].shift()))try{F.appendBuffer(y)}catch(M){b.error(M.name+": "+M.message),A.dispatchEvent(m.ERROR,{name:M.name,message:M.message})}}function P(y){b.debug("SourceBuffer.onupdateend");y=y.target;if(!ba){var F=G.buffered;F.length&&(F=F.start(0),G.currentTime<F&&(G.currentTime=F+.5,ba=!0,b.warn("Seems stalled, seeking to the available time "+G.currentTime+".")))}if(wa){if("open"!==T.readyState)return;if(!aa[e.KindAudio].length&&!aa[e.KindVideo].length){T.endOfStream();
return}}if(1.1*ca[y.kind]>=A.config.maxPlaybackLength)try{y.remove(0,ca[y.kind]-A.config.maxPlaybackLength/2),ca[y.kind]=0}catch(ja){var M=G.buffered;F=M.length?M.start(0):0;var W=G.currentTime;M=M.length?M.end(M.length-1):0;b.log("Failed to remove "+y.kind+" buffer: updating="+y.updating+", start="+F+", time="+W+", buffered="+M+", duration="+G.duration)}else J(y.kind)}function fa(y){b.error("SourceBuffer.onerror");A.dispatchEvent(m.ERROR,{name:"DataError",message:"SourceBuffer error occurs."})}function B(y){var F=
G.currentTime;b.forEach(ca,function(M,W){ca[M]=F})}function C(y){for(var F=0;F<z.length;F++)if(z[F]===y)return!0;return!1}f.call(this,"FLV",null,m,c);var A=this,S,ba,O,ha,na,ma,ya,oa;A.setup=function(){!1===S&&(S=!0,A.dispatchEvent(m.READY,{kind:A.kind}))};A.play=function(y,F){if("string"===b.typeOf(y)&&(new b.URL(y)).href!==da.href){try{da.parse(y)}catch(M){b.error('Failed to parse url "'+y+'".');A.dispatchEvent(m.ERROR,{name:M.name,message:M.message});return}if(!C(da.hostname)){da=new b.URL;A.dispatchEvent(m.ERROR,
{name:E,message:H});return}wa=!1;N.reset();V.reset();V.info=N.info;X(F||{});A.dispatchEvent(m.DURATIONCHANGE,{duration:NaN});G.src=URL.createObjectURL(T);G.load()}if(y=G.play())y["catch"](function(M){switch(M.name){case "AbortError":b.debug(M.name+": "+M.message);break;case "NotAllowedError":b.warn("Failed to play due to the autoplay policy, trying to play with muted.");G.muted=!0;G.play();break;default:b.error("Unrecognized error occured, "+M.name+": "+M.message),A.dispatchEvent(m.ERROR,{name:M.name,
message:M.message})}});G.controls=!1};A.pause=function(){G.pause();G.controls=!1};A.seek=function(y){G.currentTime=y;A.play()};A.stop=function(){xa.reset();za.reset();O&&O.abort();b.forEach(ea,function(y,F){F&&(F.removeEventListener("updateend",P),F.removeEventListener("error",fa),T.removeSourceBuffer(F));ea[y]=null});b.forEach(aa,function(y,F){aa[y]=[]});b.forEach(ca,function(y,F){ca[y]=0});wa=ba=S=!1;da=new b.URL;G.removeAttribute("src");G.load();G.controls=!1};A.muted=function(y){"boolean"===b.typeOf(y)&&
(G.muted=y);return G.muted};A.volume=function(y){"number"===b.typeOf(y)&&(G.volume=y);return G.volume};A.cleanup=function(){A.stop();xa.removeEventListener(v.TIMER,B);T.removeEventListener("sourceopen",Q);T.removeEventListener("sourceended",R);T.removeEventListener("sourceclose",I);T.removeEventListener("error",U);T.removeEventListener("webkitsourceopen",Q);T.removeEventListener("webkitsourceended",R);T.removeEventListener("webkitsourceclose",I);T.removeEventListener("webkiterror",U);N.close();N.removeEventListener(d.PACKET,
sa);N.removeEventListener(g.ADDTRACK,ua);N.removeEventListener(g.REMOVETRACK,va);N.removeEventListener(m.ERROR,A.forward);V.close();V.removeEventListener(m.ERROR,A.forward);pa()};A.element=function(){return G};A.config=K;var wa=ba=S=!1;var da=new b.URL;new b.FileKeeper;var ea={};ea[e.KindAudio]=null;ea[e.KindVideo]=null;var aa={};aa[e.KindAudio]=[];aa[e.KindVideo]=[];var ca={};ca[e.KindAudio]=0;ca[e.KindVideo]=0;var xa=new b.Timer(500*A.config.maxPlaybackLength);xa.addEventListener(v.TIMER,B);var za=
new b.Timer(1E3);za.addEventListener(v.TIMER,function(y){A.dispatchEvent(d.STATSUPDATE,{stats:{LoadingSpeed:b.formatBytes(oa)+"/sec."}});oa=0});var T=new (window.MediaSource||window.WebKitMediaSource);T.addEventListener("sourceopen",Q);T.addEventListener("sourceended",R);T.addEventListener("sourceclose",I);T.addEventListener("error",U);T.addEventListener("webkitsourceopen",Q);T.addEventListener("webkitsourceended",R);T.addEventListener("webkitsourceclose",I);T.addEventListener("webkiterror",U);var N=
new w.FLV;N.addEventListener(d.PACKET,sa);N.addEventListener(g.ADDTRACK,ua);N.addEventListener(g.REMOVETRACK,va);N.addEventListener(m.ERROR,A.forward);var V=new w.FMP4;V.addEventListener(m.ERROR,A.forward);var G=b.createElement("video");G.addEventListener("play",A.forward);G.addEventListener("loadstart",A.forward);G.addEventListener("waiting",A.forward);G.addEventListener("stalled",A.forward);G.addEventListener("abort",A.forward);G.addEventListener("timeout",A.forward);G.addEventListener("durationchange",
function(y){"live"!==A.config.mode||isNaN(A.config.maxPlaybackLength)||xa.start();A.dispatchEvent(m.DURATIONCHANGE,{duration:G.duration});A.dispatchEvent(d.INFOCHANGE,{info:{Duration:G.duration}})});G.addEventListener("loadedmetadata",A.forward);G.addEventListener("loadeddata",A.forward);G.addEventListener("progress",A.forward);G.addEventListener("canplay",A.forward);G.addEventListener("playing",A.forward);G.addEventListener("canplaythrough",A.forward);G.addEventListener("suspend",A.forward);G.addEventListener("pause",
A.forward);G.addEventListener("seeking",A.forward);G.addEventListener("seeked",A.forward);G.addEventListener("ratechange",A.forward);G.addEventListener("timeupdate",function(y){y=G.buffered;A.dispatchEvent(m.TIMEUPDATE,{start:y.length?y.start(0):0,time:G.currentTime,buffered:y.length?y.end(y.length-1):0,duration:G.duration});y=G.getVideoPlaybackQuality();A.dispatchEvent(d.STATSUPDATE,{stats:{DroppedVideoFrames:y.droppedVideoFrames.toLocaleString(),TotalVideoFrames:y.totalVideoFrames.toLocaleString()}})});
G.addEventListener("volumechange",function(y){A.dispatchEvent(m.VOLUMECHANGE,{muted:G.muted,volume:G.volume})});G.addEventListener("load",A.forward);G.addEventListener("ended",A.forward);G.addEventListener("error",function(y){A.dispatchEvent(m.ERROR,{name:{1:"AbortError",2:"NetworkError",3:"EncodingError",4:"NotSupportedError"}[G.error.code],message:G.error.message})});A.config.objectfit&&l.style(G,{"object-fit":A.config.objectfit});A.config.airplay&&G.setAttribute("x-webkit-airplay","allow");A.config.playsinline&&
(G.setAttribute("playsinline","isiPhoneShowPlaysinline"),G.setAttribute("webkit-playsinline","isiPhoneShowPlaysinline"),G.setAttribute("x5-playsinline",""),G.setAttribute("x5-video-player-type","h5-page"),G.setAttribute("x5-video-player-fullscreen",!0),G.setAttribute("t7-video-player-type","inline"));G.muted=A.config.muted;G.volume=A.config.volume}var b=q.utils,l=b.css,h=q.Browser,a=q.events,f=a.EventDispatcher,m=a.Event,c=a.IOEvent,v=a.TimerEvent,d=a.MediaEvent,g=a.MediaStreamTrackEvent,t=q.IO,u=
b.AMF;a=q.AV;var p=a.Packet,n=a.Codec,w=a.Format,e=w.MediaStreamTrack,r=w.FLV.Formats,x=w.FLV.Codecs;a=q.Module;var z=[String.fromCharCode(49,50,55,46,48,46,48,46,49),String.fromCharCode(115,116,117,100,101,97,115,101,46,99,110),String.fromCharCode(51,57,46,57,56,46,52,48,46,49,57,51),String.fromCharCode(119,119,119,46,99,97,114,45,101,121,101,46,99,110),String.fromCharCode(119,119,119,46,115,116,114,101,97,109,105,110,103,45,118,105,112,46,99,111,109),String.fromCharCode(49,50,48,46,55,54,46,50,
51,53,46,49,48,57),String.fromCharCode(49,50,48,46,55,57,46,54,55,46,49,48,50)],E=String.fromCharCode(83,101,99,117,114,105,116,121,69,114,114,111,114),H=String.fromCharCode(84,104,101,32,111,112,101,114,97,116,105,111,110,32,105,115,32,105,110,115,101,99,117,114,101,46);k.prototype=Object.create(f.prototype);k.prototype.constructor=k;k.prototype.kind="FLV";k.prototype.isSupported=function(K,Q){if(h.isMSIE&&9>h.major||!window.MediaSource&&!window.WebKitMediaSource)return!1;K=new b.URL(K);if("http:"!==
K.protocol&&"https:"!==K.protocol&&"ws:"!==K.protocol&&"wss:"!==K.protocol)return!1;Q=["flv","",void 0];for(var R=0;R<Q.length;R++)if(K.filetype===Q[R])return!0;return!1};a.register(k)})(playease);(function(q){q.core={}})(playease);
(function(q){var k=q.utils;q.core.Model=function(b){var l=this,h,a,f,m;l.definition=function(c){"number"===k.typeOf(c)&&c!==f&&c<l.config.sources.length&&(k.log("Model definition changed: "+c),f=c);return isNaN(f)?null:l.config.sources[f]};l.duration=function(c){"number"!==k.typeOf(c)||c===m||isNaN(m)&&isNaN(c)||(k.log("Model duration changed: "+c),isNaN(m)&&Infinity!==c?l.config.mode="vod":Infinity!==m&&isNaN(c)?l.config.mode=h:l.config.mode="live",m=c);return m};l.state=function(c){"string"===k.typeOf(c)&&
c!==a&&(k.log("playease("+l.config.id+") state changed: "+c),a=c);return a};(function(){l.config=b;h=l.config.mode;a="";m=NaN;"array"!==k.typeOf(l.config.sources)&&(l.config.sources=[]);l.config.file&&(l.config.sources=[{file:l.config.file,module:l.config.module,loader:l.config.loader}]);f=l.config.sources.length?0:NaN;for(var c=0;c<l.config.sources.length;c++){var v=l.config.sources[c];null==q.module(v.file,l.config.mode)?(k.warn("Ignored unsupported source url: "+v.file+"."),l.config.sources.splice(c--,
1)):v["default"]&&(f=c)}0===l.config.sources.length&&k.warn("No supported source url provided.")})()}})(playease);
(function(q){function k(c,v){h.call(this,"View",null,a,f);var d=this,g;d.setup=function(p){void 0!==g&&(g.cleanup(),g.removeGlobalListener(d.forward),t.innerHTML="");try{g=new m[p](u.config),t.appendChild(g.element()),g.addGlobalListener(d.forward),g.muted(u.config.muted),g.volume(u.config.volume),g.setup()}catch(n){b.error("Failed to init module "+p+". "+n.name+": "+n.message)}};d.play=function(p,n){if(void 0===p){if(void 0===g){d.dispatchEvent(a.ERROR,{name:"NotFoundError",message:"Module not found while the source url doesn't provided."});
return}}else if(void 0===g||!g.isSupported(p,u.config.mode)){p=q.module(p,u.config.mode);if(null==p){d.dispatchEvent(a.ERROR,{name:"NotSupportedError",message:"No supported module found."});return}d.setup(p.prototype.kind);return}g.play(p,n)};d.pause=function(){g&&g.pause()};d.seek=function(p){g&&g.seek(p)};d.stop=function(){g&&g.stop()};d.muted=function(p){"boolean"===b.typeOf(p)&&(g?u.config.muted=g.muted(p):u.config.muted!==p&&(u.config.muted=p,d.dispatchEvent(a.VOLUMECHANGE,{muted:u.config.muted,
volume:u.config.volume})));return u.config.muted};d.volume=function(p){"number"===b.typeOf(p)&&(g?u.config.volume=g.volume(p):u.config.volume!==p&&(u.config.volume=p,d.dispatchEvent(a.VOLUMECHANGE,{muted:u.config.muted,volume:u.config.volume})));return u.config.volume};d.definition=function(p){"number"===b.typeOf(p)&&p!==u.definition()&&(p<u.config.sources.length?(u.definition(p),d.dispatchEvent(a.SWITCHING,{index:p})):d.dispatchEvent(a.ERROR,{name:"IndexSizeError",message:"The index is not in the allowed range."}));
return u.definition()};d.onSWFState=function(p){switch(p.state){case "buffering":d.dispatchEvent(a.WAITING);break;case "playing":d.dispatchEvent(a.PLAYING);break;case "paused":d.dispatchEvent(a.PAUSE);break;case "stopped":d.dispatchEvent(a.ENDED);break;case "error":d.dispatchEvent(a.ERROR,{name:err.name,message:"Flash plugin error occured."});break;default:d.dispatchEvent(a.ERROR,{name:"InvalidStateError",message:"Invalid state "+p.state+"."})}};d.element=function(){return g?g.element():null};d.resize=
function(p,n){};var t=c;var u=v}var b=q.utils,l=q.events,h=l.EventDispatcher,a=l.Event,f=l.IOEvent,m=q.Module;l=q.core;k.prototype=Object.create(h.prototype);k.prototype.constructor=k;l.View=k})(playease);
(function(q){function k(c,v){function d(w){w.type===a.ENDED&&n.stop();p.state(w.type);g.forward(w)}h.call(this,"Controller",null,a,f);var g=this,t,u;g.play=function(w,e){if(void 0===w){if("pause"===p.state()){n.play();return}e=p.definition();if(null==e||!e.file){g.dispatchEvent(a.ERROR,{name:"NotFoundError",message:"No supported source url found."});return}w=e.file}t=w;u=e;n.play(t,u)};g.reload=function(){n.stop();g.play(t,u)};var p=c;var n=v;n.addEventListener(a.READY,function(w){b.log("playease("+
c.config.id+') module "'+w.data.kind+'" is ready.');d(w);g.play(t,u)});n.addEventListener(a.PLAY,d);n.addEventListener(f.SUSPEND,g.forward);n.addEventListener(f.LOADSTART,g.forward);n.addEventListener(f.STALLED,g.forward);n.addEventListener(a.WAITING,d);n.addEventListener(f.ABORT,g.forward);n.addEventListener(f.TIMEOUT,g.forward);n.addEventListener(a.DURATIONCHANGE,function(w){p.duration(w.data.duration);g.forward(w)});n.addEventListener(a.LOADEDMETADATA,g.forward);n.addEventListener(a.LOADEDDATA,
g.forward);n.addEventListener(f.PROGRESS,g.forward);n.addEventListener(a.CANPLAY,g.forward);n.addEventListener(a.PLAYING,d);n.addEventListener(a.CANPLAYTHROUGH,g.forward);n.addEventListener(a.PAUSE,d);n.addEventListener(a.SEEKING,d);n.addEventListener(a.SEEKED,g.forward);n.addEventListener(a.SWITCHING,function(w){var e=p.definition();b.log("Switching definition "+w.data.index+": "+e.file);var r=0,x=n.element();x&&(r=x.currentTime);d(w);g.play(e.file,e);n.seek(r)});n.addEventListener(a.SWITCHED,g.forward);
n.addEventListener(a.RATECHANGE,g.forward);n.addEventListener(a.TIMEUPDATE,g.forward);n.addEventListener(a.VOLUMECHANGE,g.forward);n.addEventListener(f.LOAD,g.forward);n.addEventListener(m.INFOCHANGE,g.forward);n.addEventListener(m.STATSUPDATE,g.forward);n.addEventListener(a.ENDED,d);n.addEventListener(a.ERROR,function(w){b.error(w.data.name+": "+w.data.message);n.stop();d(w)})}var b=q.utils,l=q.events,h=l.EventDispatcher,a=l.Event,f=l.IOEvent,m=l.MediaEvent;q=q.core;k.prototype=Object.create(h.prototype);
k.prototype.constructor=k;q.Controller=k})(playease);
(function(q){function k(u){function p(){n.play=r.play;n.pause=e.pause;n.seek=e.seek;n.stop=e.stop;n.reload=r.reload;n.muted=e.muted;n.volume=e.volume;n.definition=e.definition;n.element=e.element;n.duration=function(){return w.duration()};n.state=function(){return w.state()};n.dispatchEvent(c.BIND)}m.call(this,"API",{id:u},c,v);var n=this,w,e,r;n.setup=function(x,z){n.config=b.extendz({id:n.id},t,z);w=new d.Model(n.config);e=new d.View(x,w);r=new d.Controller(w,e);r.addGlobalListener(n.forward);p();
n.config.autoplay&&r.play()};n.id=u}var b=q.utils,l=q.OS,h=q.Kernel,a=q.Browser,f=q.events,m=f.EventDispatcher,c=f.Event,v=f.IOEvent,d=q.core,g={},t={airplay:"allow",autoplay:!1,dynamic:!1,bufferLength:.1,file:"",latency:"none",loop:!1,maxBufferLength:30,maxPlaybackLength:10,mode:"live",module:"",muted:!1,objectfit:"contain",playsinline:!0,preload:"none",smooth:!1,swf:"swf/playease.swf",volume:.8,loader:{name:"auto",mode:"cors",credentials:"omit"},sources:[]};b.log("Version: playease/"+q.VERSION);
b.log("OS: "+l.name+"/"+l.version+(l.model?"; "+l.model:""));b.log("Kernel: "+h.name+"/"+h.version);b.log("Browser: "+a.name+"/"+a.version);k.prototype=Object.create(m.prototype);k.prototype.constructor=k;k.prototype.CONF=t;k.get=function(u){void 0==u&&(u=0);var p=g[u];void 0==p&&(p=new k(u),g[u]=p);return p};q.API=k})(playease);
(function(q){function k(e){function r(){b.forEach(D.config.plugins,function(B,C){if("function"!==b.typeOf(k[C.kind]))b.error("Unrecognized plugin: index="+B+", kind="+C.kind+".");else if(!1===C.visibility)b.log("Component "+C.kind+" is disabled.");else{"Controlbar"!==C.kind||D.config.file||(C.sources=D.config.sources);try{var A=new k[C.kind](C);"function"===b.typeOf(A.addGlobalListener)&&A.addGlobalListener(H);L.appendChild(A.element());P[C.kind]=A}catch(S){b.error("Failed to initialize plugin: index="+
B+", kind="+C.kind+". Error="+S.message)}}})}function x(){L.setAttribute("mode",D.config.mode);L.setAttribute("state","");var B=P.Controlbar;B?(L.setAttribute("controls",B.config.autohide?"motion":"always"),B.config.autohide&&L.addEventListener("mousemove",I)):L.setAttribute("controls","never");(B=P.Danmu)&&L.setAttribute("danmu",B.config.enable?"on":"off");L.setAttribute("muted",D.config.muted);L.setAttribute("fullpage",!1);L.setAttribute("fullscreen",!1);P.ContextMenu&&(L.oncontextmenu=function(C){C=
C||window.event;C.preventDefault?C.preventDefault():C.returnValue=!1;return!1},document.addEventListener("mouseup",U),L.addEventListener("mouseup",U),document.addEventListener("mousedown",X),L.addEventListener("mousedown",X));document.addEventListener("fullscreenchange",E);document.addEventListener("webkitfullscreenchange",E);document.addEventListener("mozfullscreenchange",E);document.addEventListener("MSFullscreenChange",E)}function z(B){D.config=J.config;D.play=J.play;D.pause=J.pause;D.seek=J.seek;
D.stop=J.stop;D.reload=J.reload;D.muted=J.muted;D.volume=J.volume;D.definition=J.definition;D.element=J.element;D.duration=J.duration;D.state=J.state;D.forward(B)}function E(B){document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||D.fullscreen(!1)}function H(B){switch(B.type){case d.CHANGE:K(B);break;case g.CLICK:Q(B);break;case g.DOUBLE_CLICK:R(B);break;default:D.forward(B)}}function K(B){var C={timebar:function(){var A=J.duration();
A&&J.seek(A*B.data.value/100)},volumebar:function(){J.volume(B.data.value/100)},definition:function(){J.definition(parseInt(B.data.value))}}[B.data.name];C?C():D.forward(B)}function Q(B){var C={play:D.play,pause:D.pause,stop:D.stop,reload:D.reload,mute:function(){D.muted(!0)},unmute:function(){D.muted(!1)},danmuoff:function(){D.danmu(!1)},danmuon:function(){D.danmu(!0)},fullpage:function(){D.fullpage(!0)},exitfullpage:function(){D.fullpage(!1)},fullscreen:function(){D.fullscreen(!0)},exitfullscreen:function(){D.fullscreen(!1)},
info:function(){ta(B.data.name)},stats:function(){ta(B.data.name)}}[B.data.name];C?C():D.forward(B)}function R(B){var C={fullpage:function(){D.fullpage("true"!==L.getAttribute("fullpage"))},fullscreen:function(){D.fullscreen("true"!==L.getAttribute("fullscreen"))}}[B.data.name];C?C():D.forward(B)}function I(B){(B=P.Controlbar)&&h.style(B.element(),{visibility:"visible"});fa.stop();fa.start()}function U(B){var C=P.ContextMenu;if(void 0===B.currentTarget)for(var A=B.srcElement;A;A=A.offsetParent)if(A===
L){B.currentTarget=L;break}if(2===B.button&&B.currentTarget===L){var S=0,ba=0;for(A=B.srcElement||B.target;A&&A!==L;A=A.offsetParent)S+=A.offsetLeft,ba+=A.offsetTop;h.style(C.element(),{left:B.offsetX+S+"px",top:B.offsetY+ba+"px",display:"block"});B.preventDefault?B.preventDefault():B.returnValue=!1;B.stopPropagation?B.stopPropagation():B.cancelBubble=!0;return!1}}function X(B){h.style(P.ContextMenu.element(),{display:"none"})}function pa(B){Y(B)}function ra(B){L.setAttribute("mode",D.config.mode);
D.forward(B)}function qa(B){var C=P.Controlbar;C&&(C=C.components.definition)&&C.value(B.data.index);Y(B)}function ia(B){var C=P.Controlbar;if(C){var A=C.components.timebar;A&&(A.duration=B.data.duration,A.progress(isNaN(B.data.duration)?0:B.data.buffered/B.data.duration*100),A.position(isNaN(B.data.duration)?0:B.data.time/B.data.duration*100));if(C=C.components.time){A=b.time2string(B.data.time);var S=b.time2string(B.data.duration);C.text(A+"/"+S)}}(C=P.Display)&&C.update("stats",{SeekableRange:B.data.start+
"/"+B.data.buffered+" sec.",Buffer:(B.data.buffered-B.data.time).toFixed(3).toLocaleString()+" sec."});D.forward(B)}function sa(B){var C=100*B.data.volume|0;L.setAttribute("muted",B.data.muted||!C);var A=P.Controlbar;A&&(A.resize(Z.clientWidth,Z.clientHeight),A=A.components.volumebar)&&(A.position(C),A.thumb(C));D.forward(B)}function ua(B){var C=P.Display;C&&C.update("info",B.data.info);D.forward(B)}function va(B){var C=P.Display;C&&C.update("stats",B.data.stats);D.forward(B)}function ta(B){var C=
P.Display;C&&C.show(B)}function ka(B){var C=P.Display;C&&C.error(B.data);B.type=m.ERROR;Y(B);D.stop()}function Y(B){L.setAttribute("state",B.type);var C=P.Display;C&&C.state(B.type);D.resize();D.forward(B)}f.call(this,"UI",{id:e},b.extendz({},m,c,v));var D=this,la,L,Z,J;D.setup=function(B,C){la=B;"array"!==b.typeOf(C.plugins)&&(C.plugins=[]);B=[];for(var A=0;A<w.plugins.length;A++){var S=w.plugins[A],ba=S.prototype.CONF;a:{for(var O=0;O<C.plugins.length;O++){var ha=C.plugins[O];if(ha.kind===S.prototype.kind){S=
ha;break a}}S=null}B.push(b.extendz({},ba,S))}D.config=b.extendz({id:D.id},p.prototype.CONF,w,C);D.config.plugins=B;L=b.createElement("div","pe-wrapper pe-ui-"+D.config.skin);Z=b.createElement("div","pe-content");L.appendChild(Z);la.appendChild(L);J=p.get(D.id);J.addEventListener(m.BIND,z);J.addEventListener(m.READY,pa);J.addEventListener(m.PLAY,Y);J.addEventListener(c.LOADSTART,D.forward);J.addEventListener(m.WAITING,Y);J.addEventListener(c.STALLED,D.forward);J.addEventListener(c.ABORT,D.forward);
J.addEventListener(c.TIMEOUT,ka);J.addEventListener(m.DURATIONCHANGE,ra);J.addEventListener(m.LOADEDMETADATA,D.forward);J.addEventListener(m.LOADEDDATA,D.forward);J.addEventListener(c.PROGRESS,D.forward);J.addEventListener(m.CANPLAY,D.forward);J.addEventListener(m.PLAYING,Y);J.addEventListener(m.CANPLAYTHROUGH,D.forward);J.addEventListener(c.SUSPEND,D.forward);J.addEventListener(m.PAUSE,Y);J.addEventListener(m.SEEKING,Y);J.addEventListener(m.SEEKED,D.forward);J.addEventListener(m.SWITCHING,qa);J.addEventListener(m.SWITCHED,
D.forward);J.addEventListener(m.RATECHANGE,D.forward);J.addEventListener(m.TIMEUPDATE,ia);J.addEventListener(m.VOLUMECHANGE,sa);J.addEventListener(c.LOAD,D.forward);J.addEventListener(u.INFOCHANGE,ua);J.addEventListener(u.STATSUPDATE,va);J.addEventListener(m.ENDED,Y);J.addEventListener(m.ERROR,ka);J.setup(Z,D.config);r();x();D.resize()};D.danmu=function(B){L.setAttribute("danmu",B?"on":"off");var C=P.Controlbar;C&&C.resize(Z.clientWidth,Z.clientHeight);return(C=P.Danmu)?C.enable(B):!1};D.shoot=function(B,
C){var A=P.Danmu;A&&(A.shoot(B,C),D.dispatchEvent(v.SHOOTING,{text:B,data:C}))};D.displayAD=function(B){var C=P.AD;C&&C.display(B)};D.removeAD=function(){var B=P.AD;B&&B.remove()};D.fullpage=function(B){if(void 0===B)return"true"===L.getAttribute("fullpage");(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)&&D.fullscreen(!1);L.setAttribute("fullpage",!!B);D.resize();D.dispatchEvent(v.FULLPAGE,{status:B})};D.fullscreen=function(B){if(void 0===
B)return"true"===L.getAttribute("fullscreen");var C=J.element();if(B){var A=L.requestFullscreen||L.webkitRequestFullScreen||L.mozRequestFullScreen||L.msRequestFullscreen;if(l.isMobile){if(C&&C.webkitEnterFullscreen&&(C.setAttribute("x5-video-orientation","landscape"),C.webkitEnterFullscreen()),l.isIOS)return}else if(A){if(C=A.call(L))C["catch"](function(S){b.debug(S.name+": "+S.message)})}else{D.fullpage(B);return}}else if(A=document.exitFullscreen||document.webkitCancelFullScreen||document.mozCancelFullScreen||
document.msExitFullscreen){if(C&&C.setAttribute("x5-video-orientation","portraint"),C=A.call(document))C["catch"](function(S){b.debug(S.name+": "+S.message)})}else{D.fullpage(B);return}if(C=P.Controlbar)h.style(C.element(),{display:"block"}),B?C.config.autohide||(L.setAttribute("controls","motion"),L.addEventListener("mousemove",I)):C.config.autohide||(L.setAttribute("controls","always"),L.removeEventListener("mousemove",I),fa.stop());L.setAttribute("fullscreen",!!B);D.resize();D.dispatchEvent(v.FULLSCREEN,
{status:B})};D.resize=function(){var B=Z.clientWidth,C=Z.clientHeight;if(""!==D.config.aspectratio){var A=D.config.aspectratio.match(/(\d+):(\d+)/);if("array"===b.typeOf(A)&&2<A.length){var S=parseInt(A[1]);A=parseInt(A[2]);C=B*A/S;"always"===L.getAttribute("controls")&&(C-=40)}}b.forEach(P,function(ba,O){O.resize(B,C)});D.dispatchEvent(v.RESIZE,{width:B,height:C})};D.id=e;var P={};var fa=new b.Timer(3E3,1);fa.addEventListener(t.TIMER,function(B){(B=P.Controlbar)&&h.style(B.element(),{visibility:"hidden"})})}
var b=q.utils,l=q.OS,h=b.css,a=q.events,f=a.EventDispatcher,m=a.Event,c=a.IOEvent,v=a.UIEvent,d=a.GlobalEvent,g=a.MouseEvent,t=a.TimerEvent,u=a.MediaEvent,p=q.API,n={},w={aspectratio:"",skin:"classic",plugins:[]};k.prototype=Object.create(f.prototype);k.prototype.constructor=k;k.prototype.CONF=w;k.register=function(e,r){try{w.plugins.splice(r||w.plugins.length,0,e),k[e.prototype.kind]=e}catch(x){b.error("Failed to register plugin "+e.prototype.kind+", Error="+x.message)}};k.get=function(e){null==
e&&(e=0);var r=n[e];void 0===r&&(r=new k(e),n[e]=r);return r};q.ui=k.get;q.UI=k})(playease);(function(q){q.UI.components={}})(playease);
(function(q){function k(f,m){h.call(this,"Button",null,[a.CLICK]);var c=this;c.element=function(){return v};c.resize=function(d,g){};var v=b.createElement("span","pe-button "+f);v.addEventListener("click",function(d){c.dispatchEvent(a.CLICK,{name:f})})}var b=q.utils,l=q.events,h=l.EventDispatcher,a=l.MouseEvent;q=q.UI.components;k.prototype=Object.create(h.prototype);k.prototype.constructor=k;k.prototype.kind="Button";q.Button=k})(playease);
(function(q){function k(h,a){l.call(this,"Label");this.text=function(c){void 0!==c&&(m.innerHTML=c);return f};this.element=function(){return m};this.resize=function(c,v){};var f=a||"";var m=b.createElement("span","pe-label "+h);m.innerHTML=f}var b=q.utils,l=q.events.EventDispatcher;q=q.UI.components;k.prototype=Object.create(l.prototype);k.prototype.constructor=k;k.prototype.kind="Label";q.Label=k})(playease);
(function(q){function k(){h.call(this,"Preview",null,[a.CLICK]);this.append=function(c,v,d){var g=b.createElement("img");g.setAttribute("min",v);g.setAttribute("max",d||NaN);g.src=c;m.appendChild(g)};this.element=function(){return f};this.resize=function(c,v){};var f=b.createElement("div","pe-tooltip preview");var m=b.createElement("div");f.appendChild(m)}var b=q.utils,l=q.events,h=l.EventDispatcher,a=l.MouseEvent;q=q.UI.components;k.prototype=Object.create(h.prototype);k.prototype.constructor=k;
k.prototype.kind="Preview";q.Preview=k})(playease);
(function(q){function k(m,c){function v(e){e=e.target.getAttribute("value");e!==t&&d.dispatchEvent(f.CHANGE,{name:g,value:e});w.style.visibility="hidden"}a.call(this,"Select",null,[f.CHANGE]);var d=this,g,t,u,p,n,w;d.append=function(e,r){var x=b.createElement("span","pe-select-menu-option");x.addEventListener("click",v);x.setAttribute("value",r||u.length);x.innerHTML=e;u.push(x);w.appendChild(x);1===u.length&&d.value(x.getAttribute("value"))};d.remove=function(e){for(var r=0;r<u.length;r++){var x=
u[r];if(x.getAttribute("value")===e){x.removeEventListener("click",v);w.removeChild(x);u.splice(r,1);t===e&&(t=u.length||NaN,n.innerHTML=u.length?u[0].innerHTML:_placeholder);break}}};d.value=function(e){switch(typeof e){case "number":case "string":for(var r=0;r<u.length;r++){var x=u[r];if(x.getAttribute("value")==e){t=e;n.innerHTML=x.innerHTML;p.setAttribute("value",e);d.resize();break}}}return t};d.element=function(){return p};d.resize=function(e,r){l.style(w,{left:(p.clientWidth-w.clientWidth)/
2+"px"})};(function(){g=m;t=NaN;u=[];p=b.createElement("div","pe-select "+g);n=b.createElement("span","pe-select-text");w=b.createElement("div","pe-select-menu");w.style.visibility="hidden";p.appendChild(n);p.appendChild(w);n.addEventListener("click",function(e){w.style.visibility="hidden"===w.style.visibility?"visible":"hidden"})})()}var b=q.utils,l=b.css,h=q.events,a=h.EventDispatcher,f=h.GlobalEvent;q=q.UI.components;k.prototype=Object.create(a.prototype);k.prototype.constructor=k;k.prototype.kind=
"Select";q.Select=k})(playease);
(function(q){function k(v,d){function g(I){I.button===(l.isIE8?1:0)&&(I.target||(I.target=I.srcElement),z===I.target||z===I.target.parentNode||z===I.target.parentNode.parentNode)&&(I=p(I.clientX,I.clientY),I!==x.getAttribute("value")&&n.dispatchEvent(m.CHANGE,{name:w,value:I}),r=!0)}function t(I){var U=p(I.clientX,I.clientY);z!==I.target&&z!==I.target.parentNode&&z!==I.target.parentNode.parentNode||n.dispatchEvent(c.MOUSE_MOVE,{name:w,value:U});r&&U!==x.getAttribute("value")&&n.dispatchEvent(m.CHANGE,
{name:w,value:U})}function u(I){r&&(I=p(I.clientX,I.clientY),I!==x.getAttribute("value")&&n.dispatchEvent(m.CHANGE,{name:w,value:I}),r=!1)}function p(I,U){for(var X=z;X;X=X.offsetParent)I-=X.offsetLeft,U-=X.offsetTop;I="horizontal"===e?(I/z.clientWidth*100).toFixed(3):(U/z.clientHeight*100).toFixed(3);return I=Math.max(0,Math.min(I,100))}f.call(this,"Slider",null,[m.CHANGE,c.MOUSE_MOVE]);var n=this;n.value=function(I){void 0!==I&&(E.innerHTML=I);return E.innerHTML};n.progress=function(I){h.style(K,
{width:I+"%"})};n.position=function(I){x.setAttribute("value",I);h.style(Q,{width:I+"%"})};n.thumb=function(I){h.style(R,{left:I+"%"})};n.element=function(){return x};n.nonius=function(){return E};n.resize=function(I,U){};var w=v;var e="horizontal";var r=!1;var x=b.createElement("div","pe-slider "+w);var z=b.createElement("div","pe-slider-content");var E=b.createElement("span","pe-tooltip value");var H=b.createElement("span","pe-slider-rail background");var K=b.createElement("span","pe-slider-rail progress");
var Q=b.createElement("span","pe-slider-rail position");var R=b.createElement("span","pe-slider-thumb");R.innerHTML="<span></span>";z.appendChild(E);z.appendChild(H);z.appendChild(K);z.appendChild(Q);z.appendChild(R);x.appendChild(z);switch(v){case "timebar":n.value("--:--");break;case "volumebar":n.value(d),n.position(d),n.thumb(d)}try{document.addEventListener("mousedown",g),document.addEventListener("mousemove",t),document.addEventListener("mouseup",u)}catch(I){document.attachEvent("onmousedown",
g),document.attachEvent("onmousemove",t),document.attachEvent("onmouseup",u)}}var b=q.utils,l=q.Browser,h=b.css,a=q.events,f=a.EventDispatcher,m=a.GlobalEvent,c=a.MouseEvent;q=q.UI.components;k.prototype=Object.create(f.prototype);k.prototype.constructor=k;k.prototype.kind="Slider";k.HORIZONTAL="horizontal";k.VERTICAL="vertical";q.Slider=k})(playease);
(function(q){function k(m,c){a.call(this,"Panel",null,[f.VISIBILITYCHANGE]);var v=this;v.update=function(p){g=b.extendz(g,p);var n="";b.forEach(g,function(w,e){n+=(n?"\n":"")+w+": "+e});u.innerHTML=n};v.clear=function(){g={};u.innerHTML=""};v.show=function(){"block"===t.style.display?v.hide():(l.style(t,{display:"block"}),v.dispatchEvent(f.VISIBILITYCHANGE,{name:d,state:"visible"}))};v.hide=function(){l.style(t,{display:"none"});v.dispatchEvent(f.VISIBILITYCHANGE,{name:d,state:"hidden"})};v.element=
function(){return t};v.resize=function(p,n){};var d=m;var g={};var t=b.createElement("div","pe-panel "+d);var u=b.createElement("div");t.appendChild(u)}var b=q.utils,l=b.css,h=q.events,a=h.EventDispatcher,f=h.GlobalEvent;q=q.UI.components;k.prototype=Object.create(a.prototype);k.prototype.constructor=k;k.prototype.kind="Panel";q.Panel=k})(playease);
(function(q){function k(a){function f(v){b.log('Failed to load poster "'+c.src+'".')}h.call(this,"Poster");this.element=function(){return m};this.resize=function(v,d){};this.config=a;var m=b.createElement("div","pe-poster");var c=new Image;c.onload=function(v){m.appendChild(c)};c.onabort=f;c.onerror=f;this.config.objectfit&&l.style(c,{"object-fit":this.config.objectfit});c.src=this.config.file}var b=q.utils,l=b.css,h=q.events.EventDispatcher;q=q.UI;k.prototype=Object.create(h.prototype);k.prototype.constructor=
k;k.prototype.kind="Poster";k.prototype.CONF={kind:"Poster",file:"image/poster.png",objectfit:"fill",visibility:!0};q.register(k)})(playease);
(function(q){function k(m){function c(t){g.removeChild(t.target)}a.call(this,"Danmu",null,[f.SHOOTING]);var v=this;v.enable=function(t){"boolean"===b.typeOf(t)&&(v.config.enable=t);return v.config.enable};v.shoot=function(t,u){if(v.config.enable){var p=b.createElement("div","pe-danmu-item");p.addEventListener("transitionend",c);p.innerHTML=t;g.appendChild(p);t=d.clientWidth+p.clientWidth;l.style(p,b.extendz({},u,{top:Math.floor(Math.random()*Math.floor(d.clientHeight/v.config.lineHeight))*v.config.lineHeight+
"px",left:d.clientWidth+"px",transform:"translateX(-"+t+"px)",transition:"transform "+t/v.config.speed+"s linear 0s"}))}};v.element=function(){return d};v.resize=function(t,u){};v.config=m;var d=b.createElement("div","pe-danmu");var g=b.createElement("div");d.appendChild(g)}var b=q.utils,l=b.css,h=q.events,a=h.EventDispatcher,f=h.UIEvent;q=q.UI;k.prototype=Object.create(a.prototype);k.prototype.constructor=k;k.prototype.kind="Danmu";k.prototype.CONF={kind:"Danmu",speed:100,lineHeight:32,enable:!0,
visibility:!0};q.register(k)})(playease);
(function(q){function k(g){a.call(this,"Display",null,[m.CLICK]);var t=this;t.state=function(e){switch(e){case f.WAITING:n.start();break;default:n.stop()}e!==f.ERROR&&t.error()};t.error=function(e){var r=t.components.error;r&&(e?(e.name=e.name||"UnknownError",e.message=e.message||"An unknown error occurred.",r.text(e.name+": "+e.message)):r.text(""))};t.update=function(e,r){(e=t.components[e])&&e.update(r)};t.clear=function(e){(e=t.components[e])&&e.clear()};t.show=function(e){b.forEach(t.components,
function(x,z){"Panel"===z.kind&&x!==e&&z.hide()});var r=t.components[e];r&&r.show()};t.hide=function(e){(e=t.components[e])&&e.hide()};t.element=function(){return u};t.resize=function(e,r){};t.config=g;t.components={};var u=b.createElement("div","pe-display");var p=b.createElement("div");p.addEventListener("click",function(e){e=(new Date).getTime();e<=w+700?(w=0,t.dispatchEvent(m.DOUBLE_CLICK,{name:t.config.ondoubleclick})):w=e});u.appendChild(p);(function(){for(var e;null!==(e=d.exec(t.config.layout));){var r=
void 0,x=void 0,z=p,E=e[1],H=e[2];try{x=new v[E](H,e[3]),"function"===b.typeOf(x.addGlobalListener)&&x.addGlobalListener(t.forward),r=x.element(),z.appendChild(r),t.components[H]=x}catch(K){b.error("Failed to initialize component: type="+E+", name="+H+", Error="+K.message)}}})();var n=new b.Timer(80);n.addEventListener(c.TIMER,function(e){e=30*n.currentCount()%360;var r=t.components.waiting;r&&l.style(r.element(),{filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation="+e*Math.PI/180+")",transform:"rotate("+
e+"deg)","-o-transform":"rotate("+e+"deg)","-ms-transform":"rotate("+e+"deg)","-moz-transform":"rotate("+e+"deg)","-webkit-transform":"rotate("+e+"deg)"})});var w=0}var b=q.utils,l=b.css,h=q.events,a=h.EventDispatcher,f=h.Event,m=h.MouseEvent,c=h.TimerEvent;q=q.UI;var v=q.components,d=/\[([a-z]+):([a-z]+)=([^\]]+)?\]/gi;k.prototype=Object.create(a.prototype);k.prototype.constructor=k;k.prototype.kind="Display";k.prototype.CONF={kind:"Display",layout:"[Button:play=][Button:waiting=][Label:error=][Panel:info=][Panel:stats=]",
ondoubleclick:"fullscreen",visibility:!0};q.register(k)})(playease);
(function(q){function k(h){l.call(this,"AD");this.display=function(f){a.innerHTML="";a.appendChild(f)};this.remove=function(){a.innerHTML=""};this.element=function(){return a};this.resize=function(f,m){};this.config=h;var a=b.createElement("div","pe-ad")}var b=q.utils,l=q.events.EventDispatcher;q=q.UI;k.prototype=Object.create(l.prototype);k.prototype.constructor=k;k.prototype.kind="AD";k.prototype.CONF={kind:"AD",visibility:!0};q.register(k)})(playease);
(function(q){function k(h){l.call(this,"Share");this.display=function(f){a.innerHTML="";a.appendChild(f)};this.element=function(){return a};this.resize=function(f,m){};this.config=h;var a=b.createElement("div","pe-share")}var b=q.utils,l=q.events.EventDispatcher;q=q.UI;k.prototype=Object.create(l.prototype);k.prototype.constructor=k;k.prototype.kind="Share";k.prototype.CONF={kind:"Share",visibility:!0};q.register(k)})(playease);
(function(q){function k(a){function f(g){b.log('Failed to load logo "'+d.src+'".')}h.call(this,"Logo");var m=this;m.element=function(){return c};m.resize=function(g,t){};m.config=a;var c=b.createElement("div","pe-logo");c.style=m.config.style;var v=b.createElement("a");var d=new Image;d.onload=function(g){l.style(c,{width:d.width+"px",height:d.height+"px"});l.style(v,{background:"url("+m.config.file+")"});v.href=m.config.link;v.target=m.config.target;c.appendChild(v)};d.onabort=f;d.onerror=f;d.src=
m.config.file}var b=q.utils,l=b.css,h=q.events.EventDispatcher;q=q.UI;k.prototype=Object.create(h.prototype);k.prototype.constructor=k;k.prototype.kind="Logo";k.prototype.CONF={kind:"Logo",file:"http://studease.cn/images/content/playease-logo.png",link:"https://github.com/studease/playease",target:"_blank",style:"margin: 3% 5%; width: 36px; height: 36px; top: 0px; right: 0px;",visibility:!0};q.register(k)})(playease);
(function(q){function k(g){function t(w){var e=w.target.element(),r=w.target.nonius(),x=e.clientWidth*w.data.value/100-r.clientWidth/2;switch(w.data.name){case "timebar":w.target.thumb(w.data.value);w.target.duration?w.target.value(b.time2string(w.target.duration*w.data.value/100)):w.target.value("--:--");break;case "volumebar":w.target.value(w.data.value|0)}w=x+e.offsetLeft;1>w&&e.offsetParent===n?h.style(r,{left:1-e.offsetLeft+"px",right:"auto"}):e.offsetParent.offsetLeft+w+r.clientWidth>n.clientWidth-
1?h.style(r,{left:"auto",right:e.offsetParent.offsetLeft+e.offsetLeft+e.clientWidth+1-n.clientWidth+"px"}):h.style(r,{left:x+"px",right:"auto"})}f.call(this,"Controlbar",null,[m.CHANGE,c.CLICK,c.MOUSE_MOVE]);var u=this;u.element=function(){return p};u.resize=function(w,e){b.forEach(u.components,function(r,x){x.resize(w,e);switch(r){case "timebar":break;default:if(void 0!==x.tooltip){r=x.element();x=x.tooltip;var z=(r.clientWidth-x.clientWidth)/2,E=z+r.offsetLeft;1>E&&r.offsetParent===n?h.style(x,
{left:1-r.offsetLeft+"px",right:"auto"}):null!==r.offsetParent&&(r.offsetParent.offsetLeft+E+x.clientWidth>n.clientWidth-1?h.style(x,{left:"auto",right:r.offsetParent.offsetLeft+r.offsetLeft+r.clientWidth+1-n.clientWidth+"px"}):h.style(x,{left:z+"px",right:"auto"}))}}})};u.config=g;u.components={};var p=b.createElement("div","pe-controlbar");var n=b.createElement("div");p.appendChild(n);(function(){var w=u.config.layout.split("|");if(4!==w.length)throw{name:"DataError",message:"Controlbar should have exactly 4 sections."};
var e=b.createElement("div","pe-left"),r=b.createElement("div","pe-center"),x=b.createElement("div","pe-right");b.forEach([n,e,r,x],function(z,E){for(var H;null!==(H=d.exec(w[z]));)a:{var K=void 0,Q=void 0;var R=E;var I=H[1],U=H[2];H=H[3];switch(U){case "mute":case "unmute":case "volumebar":if(l.isMobile)break a;break;case "definition":if(!u.config.sources||2>u.config.sources.length)break a}try{Q=new v[I](U,H),"function"===b.typeOf(Q.addGlobalListener)&&(Q.addGlobalListener(u.forward),"Slider"===
I&&Q.addEventListener(c.MOUSE_MOVE,t)),K=Q.element(),R.appendChild(K),u.components[U]=Q}catch(X){b.error("Failed to initialize component: type="+I+", name="+U+", Error="+X.message);break a}switch(U){case "quote":case "time":case "volumebar":break;default:void 0!==H&&("function"===b.typeOf(v[H])?(R=new v[H],K.insertAdjacentElement("afterbegin",R.element())):(R=b.createElement("span","pe-tooltip"),R.innerHTML=H,K.insertAdjacentElement("afterbegin",R)),Q.tooltip=R)}}});n.appendChild(e);n.appendChild(r);
n.appendChild(x)})();(function(){var w=u.components.definition;w&&b.forEach(u.config.sources,function(e,r){w.append(r.label);r["default"]&&w.value(e)})})()}var b=q.utils,l=q.OS,h=b.css,a=q.events,f=a.EventDispatcher,m=a.GlobalEvent,c=a.MouseEvent;q=q.UI;var v=q.components,d=/\[([a-z]+):([a-z]+)=([^\]]+)?\]/gi;k.prototype=Object.create(f.prototype);k.prototype.constructor=k;k.prototype.kind="Controlbar";k.prototype.CONF={kind:"Controlbar",layout:"[Slider:timebar=Preview]|[Button:play=Play][Button:pause=Pause][Button:reload=Reload][Button:stop=Stop][Label:quote=Live broadcast][Label:time=00:00/00:00]||[Button:report=Report][Button:mute=Mute][Button:unmute=Unmute][Slider:volumebar=80][Select:definition=Definition][Button:danmuoff=Danmu Off][Button:danmuon=Danmu On][Button:fullpage=Fullpage][Button:exitfullpage=Exit Fullpage][Button:fullscreen=Fullscreen][Button:exitfullscreen=Exit Fullscreen]",
autohide:!1,visibility:!0};q.register(k)})(playease);
(function(q){function k(m){a.call(this,"ContextMenu",null,[f.CLICK]);var c=this,v,d;c.element=function(){return v};c.resize=function(g,t){};(function(){c.config=m;c.config.items=[{id:0,mode:"featured",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAA2UExURebm5ubm5ubm5ubm5ubm5ubm5ubm5kxpcebm5ubm5ubm5ubm5ubm5ubm5ubm5ubm5ubm5ubm5rnvS8UAAAASdFJOU/9GGpAEVa0AOw0vovB5tnDaudiwhIIAAACiSURBVBjTXZHbAsQQDERDkQS97P//7GaibLfzgJxgIoiHVHIWvQPysRZylbpg2mhpSwOmgx46kkPf10KMoflewGqLLsNBugXVIDxuZhRuTGrJZmHIXhBuUEIuMC7pJ3I4R9nGyHzCY2eONmWHesMyoQyI3BXncRgZ1M+16zJCSbMRqyT4LriKt2calP9nWkMM7q+GcEo/OFvnGrDIo/Ov7/gCDPoHpWEsixcAAAAASUVORK5CYII=",text:"playease/"+
q.VERSION,shortcut:"",handler:function(){window.open("https://github.com/studease/playease")}}].concat("array"===b.typeOf(m.items)?m.items:[]);l.flash&&c.config.items.push({mode:"",icon:"",text:"Flash Version "+l.flash,shortcut:"",handler:function(){window.open("http://get.adobe.com/cn/flashplayer/about/")}});c.config.items.push({mode:"",icon:"",text:"Show Media Info",shortcut:"",handler:function(){c.dispatchEvent(f.CLICK,{name:"info"})}});c.config.items.push({mode:"",icon:"",text:"Show Media Stats",
shortcut:"",handler:function(){c.dispatchEvent(f.CLICK,{name:"stats"})}});v=b.createElement("div","pe-contextmenu");d=b.createElement("table");v.appendChild(d);for(var g=0;g<c.config.items.length;g++){var t=c.config.items[g],u=b.createElement("tr","pe-contextmenu-item"+(t.mode?" "+t.mode:""));u.onmousedown=t.handler;var p=b.createElement("td");if(t.icon){var n=b.createElement("span","pe-contextmenu-item-icon");n.innerHTML='<a style="background-image: url('+t.icon+');"></a>';p.appendChild(n)}var w=
b.createElement("td");t.text&&(n=b.createElement("span","pe-contextmenu-item-text"),n.innerHTML=t.text,w.appendChild(n));var e=b.createElement("td");t.shortcut&&(n=b.createElement("span","pe-contextmenu-item-shortcut"),n.innerHTML=t.shortcut,e.appendChild(n));u.appendChild(p);u.appendChild(w);u.appendChild(e);d.appendChild(u)}})()}var b=q.utils,l=q.Browser,h=q.events,a=h.EventDispatcher,f=h.MouseEvent;h=q.UI;k.prototype=Object.create(a.prototype);k.prototype.constructor=k;k.prototype.kind="ContextMenu";
k.prototype.CONF={kind:"ContextMenu",items:[],visibility:!0};h.register(k)})(playease);