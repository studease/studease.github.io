playease=function(){if(playease.API)return playease.API.get.apply(this,arguments)};playease.VERSION="2.1.15";playease.DEBUG=!1;
(function(c){var e={extendz:function(){var a=Array.prototype.slice.call(arguments,0),d=a[0];switch(e.typeOf(d)){case "null":case "number":case "string":throw{name:"TypeError",message:"Could not extend to type "+e.typeOf(d)+"."};}for(var b=1;b<a.length;b++){var f=a[b];switch(e.typeOf(f)){case "null":case "number":case "string":c.DEBUG&&e.warn("Could not extend from type "+e.typeOf(f));break;case "array":e.forEach(f,function(b,a){switch(e.typeOf(a)){case "object":d.push(e.extendz({},a));break;case "array":d.push(e.extendz([],
a));break;default:"array"===e.typeOf(d)?d.push(a):d[b]=a}});break;default:e.forEach(f,function(b,a){switch(e.typeOf(a)){case "object":switch(e.typeOf(d[b])){case "null":case "number":case "string":d[b]={}}d[b]=e.extendz(d[b],a);break;case "array":d[b]=e.extendz([],a);break;default:d[b]=a}})}}return d},forEach:function(a,d){for(var b in a)a.hasOwnProperty&&"function"===e.typeOf(a.hasOwnProperty)?a.hasOwnProperty(b)&&d(b,a[b]):d(b,a[b])},getCookie:function(a){var d;return(d=document.cookie.match(new RegExp("(^| )"+
a+"=([^;]*)(;|$)")))?unescape(d[2]):null},padStart:function(a,d,b){for(a+="";a.length<d;)a=b+a;return a},padEnd:function(a,d,b){for(a+="";a.length<d;)a+=b;return a},hex:function(a){return"0x"+e.padStart(a.toString(16),2,"0")},time2string:function(a){var d="",b=a/3600|0,f=a%3600/60|0;a=a%60|0;b&&(d+=e.padStart(b,2,"0")+":");return d+=e.padStart(f,2,"0")+":"+e.padStart(a,2,"0")},formatBytes:function(a){for(var d=["B","KB","MB","GB","TB"],b=0;b<d.length;b++){if(1024>a||b===d.length-1)return a.toFixed(3)+
" "+d[b];a/=1024}return a+" B"},typeOf:function(a){if(null===a||void 0===a)return"null";var d=typeof a;if("object"===d)try{var b=Object.prototype.toString.call(a).match(/^\[object ([a-z]+)\]$/i);if(b&&1<b.length&&b[1])return b[1].toLowerCase()}catch(f){}return d},trim:function(a){return a.replace(/^\s+|\s+$/g,"")},indexOf:function(a,d){if("array"===e.typeOf(a))for(var b=0;b<a.length;b++)if(a[b]===d)return b;return-1},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var d=
16*Math.random()|0;return("x"===a?d:d&3|8).toString(16)})}};void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52));void 0===Number.MAX_SAFE_INTEGER&&(Number.MAX_SAFE_INTEGER=Math.pow(2,53)-1);void 0===Number.MIN_SAFE_INTEGER&&(Number.MIN_SAFE_INTEGER=-1*Number.MAX_SAFE_INTEGER);e.equal=function(a,d){return Math.abs(a-d)<Number.EPSILON};e.createElement=function(a,d){a=document.createElement(a);d&&(a.className=d);return a};e.addClass=function(a,d){var b="string"===e.typeOf(a.className)?a.className.split(" "):
[];d="array"===e.typeOf(d)?d:d.split(" ");e.forEach(d,function(a,d){-1===e.indexOf(b,d)&&b.push(d)});a.className=e.trim(b.join(" "))};e.hasClass=function(a,d){a=a.className||"";d="array"===e.typeOf(d)?d:d.split(" ");for(var b=0;b<d.length;b++)if(-1===a.search(new RegExp("\\b"+d[b]+"\\b","i")))return!1;return!0};e.removeClass=function(a,d){var b="string"===e.typeOf(a.className)?a.className.split(" "):[];d="array"===e.typeOf(d)?d:d.split(" ");e.foreach(d,function(a,d){a=e.indexOf(b,d);0<=a&&b.splice(a,
1)});a.className=e.trim(b.join(" "))};e.emptyElement=function(a){for(;a.firstChild;)a.removeChild(a.firstChild)};var a=window.console||{log:function(){},warn:function(){},error:function(){}};e.debug=function(){c.DEBUG&&e.log.apply(e,arguments)};e.log=function(){var e=Array.prototype.slice.call(arguments,0);"object"===typeof a?a.log.apply(a,e):a.log(e)};e.warn=function(){var e=Array.prototype.slice.call(arguments,0);"object"===typeof a?a.warn.apply(a,e):a.warn(e)};e.error=function(){var e=Array.prototype.slice.call(arguments,
0);"object"===typeof a?a.error.apply(a,e):a.error(e)};c.utils=e})(playease);
(function(c){function e(a){var b=this;b.set=function(a,m,f){switch(b.type){case d.DOUBLE:if("number"!==h.typeOf(m))throw{name:"TypeError",message:"Value should be number."};break;case d.BOOLEAN:if("boolean"!==h.typeOf(m))throw{name:"TypeError",message:"Value should be boolean."};case d.STRING:case d.LONG_STRING:if("string"!==h.typeOf(m))throw{name:"TypeError",message:"Value should be string."};break;case d.OBJECT:case d.ECMA_ARRAY:if("array"!==h.typeOf(m))throw{name:"TypeError",message:"Value should be array."};
for(f=0;f<m.length;f++){var k=m[f];b.table[k.key]=k}break;case d.STRICT_ARRAY:if("array"!==h.typeOf(m))throw{name:"TypeError",message:"Value should be array."};break;case d.DATE:if("number"!==h.typeOf(m))throw{name:"TypeError",message:"Value should be number."};if("number"!==h.typeOf(f))throw{name:"TypeError",message:"Offset not presented."};b.offset=f;break;case d.NULL:case d.UNDEFINED:if("null"!==h.typeOf(m))throw{name:"TypeError",message:"Value should be null."};break;default:throw{name:"TypeError",
message:"Unrecognized amf type "+b.type+"."};}b.key=a;b.value=m;return b};b.get=function(){switch(b.type){case d.DATE:return new Date(b.value+6E4*b.offset);default:return b.value}};b.type=a;b.key="";b.value=null;b.table={};b.offset=0;b.ended=!1}function a(b,a){for(var f=0,m=0;m<a.value.length;m++){var e=a.value[m];e.key&&(e=crypt.stringToByteArray(e.key),b.WriteUint16(e.length,!1),b.Write(e),f+=2+e.length);f+=d.encode(b,a)}return f}var h=c.utils,d={DOUBLE:0,BOOLEAN:1,STRING:2,OBJECT:3,MOVIE_CLIP:4,
NULL:5,UNDEFINED:6,REFERENCE:7,ECMA_ARRAY:8,END_OF_OBJECT:9,STRICT_ARRAY:10,DATE:11,LONG_STRING:12,UNSUPPORTED:13,RECORD_SET:14,XML:15,TYPED_OBJECT:16,AMF3_DATA:17,decode:function(b,a,e){if(1>a.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf Value."};var m=0,f=new DataView(a,e);b.type=f.getUint8(m);m+=1;f={0:d.decodeDouble,1:d.decodeBoolean,2:d.decodeString,3:d.decodeObject,5:d.decodeNull,6:d.decodeUndefined,8:d.decodeECMAArray,9:d.decodeEndOfObject,10:d.decodeStrictArray,
11:d.decodeDate,12:d.decodeLongString}[b.type];if(!f)throw{name:"TypeError",message:"Unrecognized amf type "+b.type+"."};return m+=f(b,a,e+m)},decodeDouble:function(a,f,d){if(8>f.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf double."};f=new DataView(f,d);a.value=f.getFloat64(0);return 8},decodeBoolean:function(a,f,d){if(1>f.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf boolean."};f=new DataView(f,d);a.value=!!f.getUint8(0);return 1},
decodeString:function(a,f,d){if(2>f.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf string."};var b=0,e=(new DataView(f,d)).getUint16(b);b+=2;0<e?(a.value=String.fromCharCode.apply(String,new Uint8Array(f,d+b,e)),b+=e):a.value="";return b},decodeObject:function(a,f,n){if(3>f.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf object."};var b=0,c=f.byteLength-n;for(a.value=[];b<c;){var k=new e;b+=d.decodeString(k,f,n+b);k.key=k.get();b+=d.decode(k,
f,n+b);if(k.type===d.END_OF_OBJECT)break;a.value.push(k);a.table[k.key]=k}return b},decodeNull:function(a,d,e){a.value=null;return 0},decodeUndefined:function(a,d,e){a.value=void 0;return 0},decodeECMAArray:function(a,f,e){if(4>f.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf ecma array."};var b=4;return b+=d.decodeObject(a,f,e+b)},decodeEndOfObject:function(a,d,e){a.ended=!0;return 0},decodeStrictArray:function(a,f,n){if(4>f.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf strict array."};
var b=0,c=new DataView(f,n),k=c.getUint32(b);b+=4;var g=f.byteLength-n;a.value=[];for(var v=0;v<k&&b<g;v++){var h=new e;b+=d.decode(h,f,n+b);a.value.push(h)}b+3<=g&&0===c.getUint8(b)&&0===c.getUint8(b+1)&&c.getUint8(b+2)===d.END_OF_OBJECT&&(a.ended=!0,b+=3);return b},decodeDate:function(a,d,e){if(10>d.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf date."};var b=0;d=new DataView(d,e);a.Timestamp=d.getFloat64(b);b+=8;a.Timeoffset=d.getInt16(b);return b+2},decodeLongString:function(a,
d,e){if(4>d.byteLength)throw{name:"DataError",message:"Data not enough while decoding amf long string."};var b=0,f=(new DataView(d,e)).getUint32(b);b+=4;0<f&&(a.value=String.fromCharCode.apply(String,new Uint8Array(d,e+b,f)),b+=f);return b},appendBytes:function(a,d){a.Write(d)},appendInt8:function(a,d){a.writeInt8(d)},appendInt16:function(a,d,e){a.WriteInt16(d,e)},appendInt32:function(a,d,e){a.WriteInt32(d,e)},appendUint8:function(a,d){a.writeUint8(d)},appendUint16:function(a,d,e){a.WriteUint16(d,
e)},appendUint32:function(a,d,e){a.WriteUint32(d,e)},encode:function(a,e){var b={0:d.encodeDouble,1:d.encodeBoolean,2:d.encodeString,3:d.encodeObject,5:d.encodeNull,6:d.encodeUndefined,8:d.encodeECMAArray,10:d.encodeStrictArray,11:d.encodeDate,12:d.encodeLongString}[e.type];if(!b)throw{name:"TypeError",message:"Unrecognized amf type "+e.type+"."};return b(a,e)},encodeNumber:function(a,e){a.WriteUint8(d.DOUBLE);a.WriteFloat64(e.value,!1);return 9},encodeBoolean:function(a,e){a.WriteUint8(d.BOOLEAN);
a.WriteUint8(e.value?1:0);return 2},encodeString:function(a,e){if(!e.value)return 0;if(65535<=e.value.length)return d.encodeLongString(a,e);e=crypt.stringToByteArray(e.value);a.WriteUint8(d.STRING);a.WriteUint16(e.length,!1);a.Write(e);return 3+e.length},encodeObject:function(b,e){var f=1;b.WriteUint8(d.OBJECT);f+=a(e);e.ended&&(b.WriteUint16(0),b.WriteUint8(d.END_OF_OBJECT),f+=3);return f},encodeNull:function(a,e){a.WriteUint8(d.NULL);return 1},encodeUndefined:function(a,e){a.WriteUint8(d.UNDEFINED);
return 1},encodeECMAArray:function(b,e){var f=3;b.WriteUint8(d.ECMA_ARRAY);b.WriteUint32(e.value.length,!1);return f+=a(b,e)},encodeStrictArray:function(b,e){var f=3;b.WriteUint8(d.STRICT_ARRAY);b.WriteUint32(e.value.length,!1);return f+=a(b,e)},encodeDate:function(a,e){a.WriteUint8(d.DATE);a.WriteFloat64(e.value,!1);a.WriteUint16(e.offset,!1);return 11},encodeLongString:function(a,e){if(!e.value)return 0;e=crypt.stringToByteArray(e.value);a.WriteUint8(d.LONG_STRING);a.WriteUint32(e.length,!1);a.Write(e);
return 5+e.length}};d.Value=e;h.AMF=d})(playease);
(function(c){c=c.utils;c.MIN_UINT32=0;c.MAX_UINT32=4294967295;c.MAX_INT32=2147483647;c.MIN_INT32=-2147483648;c.MIN_CACHE_BITS=25;c.BitStream=function(e){var a=this;a.ShowBits=function(a){if(0===a)return 0;var e=b>>>3,m=0;b<d&&(m=c.getUint8(e)<<24);b+8<d&&(m|=c.getUint8(e+1)<<16);b+16<d&&(m|=c.getUint8(e+2)<<8);b+24<d&&(m|=c.getUint8(e+3));return m<<(b&7)>>>32-a};a.ShowBitsLong=function(b){return 25>=b?a.ShowBits(b):a.ShowBits(16)<<b-16|a.ShowBits(b-16)};a.ReadBits=function(e){var d=a.ShowBits(e);
b+=e;return d};a.ReadBitsLong=function(e){var d=a.ShowBitsLong(e);b+=e;return d};a.SkipBits=function(a){b+=a};a.Left=function(){return d-b};var c=new DataView(e.buffer,e.byteOffset,e.byteLength);var d=8*e.byteLength;var b=0}})(playease);
(function(c){var e=new function(){function a(){return f.match(/(Chrome|CriOS)\/((\d+)\.(\d+)(?:\.\d+)*)/)}function e(){if(!b.isWindows)return 0;var a=navigator.plugins;if(a){var e=a["Shockwave Flash"];if(e&&e.description){var d=e.description.replace(/\D+(\d+\.?\d*).*/,"$1");return parseFloat(d)}}if("undefined"!==typeof window.ActiveXObject)try{return e=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"),d=e.GetVariable("$version").split(" ")[1].replace(/\s*,\s*/,"."),parseFloat(d)}catch(k){}return 0}
function d(){return void 0!==window.orientation?90===window.orientation||-90===window.orientation:window.innerWidth>window.innerHeight}var b=this;var f=navigator.userAgent;b.OS={name:"",version:"",major:NaN,minor:NaN};b.Kernel={name:"",version:"",major:NaN,minor:NaN};b.Browser={name:"",version:"",major:NaN,minor:NaN};(function(){var a=f.match(/(Windows)\sNT\s((\d+)\.(\d+))/);if(a)switch(a[2]){case "6.3":a=["Windows 8.1","Windows","8.1","8","1"];break;case "6.2":a=["Windows 8.0","Windows","8.0","8",
"0"];break;case "6.1":a=["Windows 7.0","Windows","7.0","7","0"]}if(a=a||f.match(/(Mac)\sOS\sX\s((\d+)[\._](\d+)(?:[\._]\d+)*)/)||f.match(/(Android)(?:\s((\d+)(?:\.(\d+))?(?:\.(\d+))*))?/)||f.match(/(iP(?:hone|ad|od)).*\s((\d+)_(\d+)(?:_\d+)*)/)||f.match(/(Windows\sPhone)(?:\sOS)?\s((\d+)\.(\d+)(?:\.\d+)*)/))b.OS.name=a[1]||"",b.OS.version=(a[2]||"").replace(/_/g,"."),b.OS.major=parseInt(a[3]),b.OS.minor=parseInt(a[4]);b.OS.isWindows="Windows"===b.OS.name;b.OS.isMac="Mac"===b.OS.name;b.OS.isAndroid=
"Android"===b.OS.name;b.OS.isIOS="iPhone"===b.OS.name||"iPad"===b.OS.name||"iPod"===b.OS.name;b.OS.isWindowsPhone="Windows Phone"===b.OS.name;b.OS.isMobile=b.OS.isAndroid||b.OS.isIOS||b.OS.isWindowsPhone;b.OS.isHorizontal=d})();(function(){var a=b.OS.isAndroid&&f.match(/;\s(([-a-z\d\s]+)(?:\sBuild\/([-a-z\d\.\s]+))?)(?:;\swv|\))/i);a&&(b.OS.model=a[1],b.OS.brand=a[2],b.OS.build=a[3])})();(function(){var e=!b.OS.isIOS&&a()||f.match(/(AppleWebKit)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(Gecko)\/((\d+)(?:\.(\d+))?(?:\d+)*)/)||
f.match(/(Presto)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(Trident)\/((\d+)\.(\d+)(?:\.\d+)*)/);e&&(b.Kernel.name=e[1]||"",b.Kernel.version=e[2]||"",b.Kernel.major=parseInt(e[3]),b.Kernel.minor=parseInt(e[4]));b.Kernel.isChrome="Chrome"===b.Kernel.name;b.Kernel.isAppleWebKit="AppleWebKit"===b.Kernel.name;b.Kernel.isGecko="Gecko"===b.Kernel.name;b.Kernel.isPresto="Presto"===b.Kernel.name;b.Kernel.isTrident="Trident"===b.Kernel.name})();(function(){var d;(d=f.match(/(MSIE)\s((\d+)\.(\d+))/)||f.match(/(Trident)\/.+rv:((11)\.(\d+))/i)||
f.match(/(Firefox)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(OPR|OPiOS|Opera\sMini)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(UCBrowser)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(MicroMessenger)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(QQ)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/([M]?QQBrowser)\/((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(MetaSr|SogouMobileBrowser)[\s\/]((\d+)\.(\d+)(?:\.\d+)*)/)||f.match(/(QihooBrowser|360browser)(?:\/((\d+)\.(\d+)(?:\.\d+)*))?/)||f.match(/(Electron)(?:\/((\d+)\.(\d+)(?:\.\d+)*))?/)||
f.match(/(Edg|Edge|EdgA)\/((\d+)\.(\d+)(?:\.\d+)*)/)||a())||(d=b.OS.isAndroid||a()||!f.match(/Safari/)?null:(d=f.match(/Version\/((\d+)\.(\d+)(?:\.\d+)*)/))?["Safari/"+d[1],"Safari"].concat(d.slice(1)):null);if(d=d||f.match(/\s([a-z\d]+Browser)\/((\d+)\.(\d+)(?:\.\d+)*)/i)||f.match(/\s([a-z\d]+)\/((\d+)\.(\d+)(?:\.\d+)*)$/i))b.Browser.name=d[1]||"",b.Browser.version=d[2]||"",b.Browser.major=parseInt(d[3]),b.Browser.minor=parseInt(d[4]);b.Browser.isMSIE="MSIE"===b.Browser.name;b.Browser.isIE8="MSIE"===
b.Browser.name&&8===b.Browser.major;b.Browser.isIE9="MSIE"===b.Browser.name&&9===b.Browser.major;b.Browser.isIE10="MSIE"===b.Browser.name&&10===b.Browser.major;b.Browser.isIE11="Trident"===b.Browser.name;b.Browser.isIE=b.Browser.isMSIE||b.Browser.isIE11;b.Browser.isFirefox="Firefox"===b.Browser.name;b.Browser.isOpera="OPR"===b.Browser.name||"OPiOS"===b.Browser.name||"Opera Mini"===b.Browser.name;b.Browser.isUCBrowser="UCBrowser"===b.Browser.name;b.Browser.isWeChat="MicroMessenger"===b.Browser.name;
b.Browser.isQQ="QQ"===b.Browser.name;b.Browser.isQQBrowser="QQBrowser"===b.Browser.name||"MQQBrowser"===b.Browser.name;b.Browser.isSogou="MetaSr"===b.Browser.name||"SogouMobileBrowser"===b.Browser.name;b.Browser.is360="QihooBrowser"===b.Browser.name;b.Browser.isElectron="Electron"===b.Browser.name;b.Browser.isEdg="Edg"===b.Browser.name;b.Browser.isEdge="Edge"===b.Browser.name;b.Browser.isEdgA="EdgA"===b.Browser.name;b.Browser.isChrome="Chrome"===b.Browser.name;b.Browser.isCriOS="CriOS"===b.Browser.name;
b.Browser.isSafari="Safari"===b.Browser.name;b.Browser.flash=e()})()};c.OS=e.OS;c.Kernel=e.Kernel;c.Browser=e.Browser})(playease);
(function(c){var e=c.utils;e.crypt={stringToByteArray:function(a){for(var e=[],d=0,b=0;b<a.length;b++){for(var f=a.charCodeAt(b);255<f;)e[d++]=f&255,f>>=8;e[d++]=f}return e},byteArrayToString:function(a){if(8192>=a.length)return String.fromCharCode.apply(null,a);for(var e="",d=0;d<a.length;d+=8192){var b=Array.slice(a,d,d+8192);e+=String.fromCharCode.apply(null,b)}return e},byteArrayToHex:function(a){return Array.map(a,function(a){return e.padStart(a.toString(16),2,0)}).join("")},hexToByteArray:function(a){if(0!==
a.length%2)return e.error("Key string length must be multiple of 2."),null;for(var c=[],d=0;d<a.length;d+=2)c.push(parseInt(a.substring(d,d+2),16));return c},stringToUTF8ByteArray:function(a){for(var e=[],d=0,b=0;b<a.length;b++){var f=a.charCodeAt(b);128>f?e[d++]=f:(2048>f?e[d++]=f>>6|192:(55296===(f&64512)&&b+1<a.length&&56320===(a.charCodeAt(b+1)&64512)?(f=65536+((f&1023)<<10)+(a.charCodeAt(++b)&1023),e[d++]=f>>18|240,e[d++]=f>>12&63|128):e[d++]=f>>12|224,e[d++]=f>>6&63|128),e[d++]=f&63|128)}return e},
UTF8ByteArrayToString:function(a){for(var e=[],d=0,b=0;d<a.length;){var f=a[d++];if(128>f)e[b++]=String.fromCharCode(f);else if(191<f&&224>f){var c=a[d++];e[b++]=String.fromCharCode((f&31)<<6|c&63)}else if(239<f&&365>f){c=a[d++];var m=a[d++],t=a[d++];f=((f&7)<<18|(c&63)<<12|(m&63)<<6|t&63)-65536;e[b++]=String.fromCharCode(55296+(f>>10));e[b++]=String.fromCharCode(56320+(f&1023))}else c=a[d++],m=a[d++],e[b++]=String.fromCharCode((f&15)<<12|(c&63)<<6|m&63)}return e.join("")},XORByteArray:function(a,
c){if(a.length!==c.length)e.error("XOR array lengths must match.");else{for(var d=[],b=0;b<a.length;b++)d.push(a[b]^c[b]);return d}}}})(playease);
(function(c){function e(b,e){d||(d=a());var f="";h.foreach(e,function(a,b){f+=a+": "+b+"; "});try{d.insertRule?d.insertRule(b+" { "+f+"}",d.cssRules.length):d.addRule(b,f,d.rules.length)}catch(m){h.error("Failed to insert css rule: "+b)}}function a(){var a=document.createElement("style");a.type="text/css";document.getElementsByTagName("head")[0].appendChild(a);return a.sheet||a.styleSheet}var h=c.utils,d;e.style=function(a,e,d){if(void 0!==a&&null!==a)for(void 0===a.length&&(a=[a]),e=h.extendz({},
e),d=0;d<a.length;d++){var b=a[d];void 0!==b&&null!==b&&h.forEach(e,function(a,e){a=a.split("-");for(var d=1;d<a.length;d++)a[d]=a[d].charAt(0).toUpperCase()+a[d].slice(1);a=a.join("");b.style[a]!==e&&(b.style[a]=e)})}};h.css=e})(playease);
(function(c){c=c.utils;c.LITTLE_ENDIAN=function(){try{var e=new ArrayBuffer(2);(new DataView(e)).setInt16(0,256,!0);var a=new Int16Array(e)}catch(h){}return a&&256===a[0]}();c.getUint32=function(e,a,c){void 0===a&&(a=0);return c?e[a+0]|e[a+1]>>>8|e[a+2]>>>16|e[a+3]>>>24:e[a+0]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]}})(playease);
(function(c){function e(e){var b=this,d,c,m,t;b.append=function(a){k.push(a)};b.save=function(a){a||(a=b.config.filename);d=new Blob(k,{type:b.config.type});c=URL.createObjectURL(d);m=document.createEvent("MouseEvents");m.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null);t=document.createElementNS("http://www.w3.org/1999/xhtml","a");t.href=c;t.download=a;t.dispatchEvent(m);k=[];URL.revokeObjectURL(c)};b.config=a.extendz({},h,e);var k=[]}var a=c.utils,h={filename:"sample.fragmented.mp4",
type:"video/mpeg"};e.prototype.CONF=h;a.FileKeeper=e})(playease);
(function(c){function e(e){a.call(this,e);var d=this;d.ReadUE=function(){for(var a=-1,e=0;0===e&&0<d.Left();a++)e=d.ReadBits(1);return(1<<a>>>0)-1+d.ReadBitsLong(a)};d.ReadSE=function(){var a=d.ReadUE();return 0===(a&1)?-(a>>>1):a+1>>>1}}c=c.utils;var a=c.BitStream;e.prototype=Object.create(a.prototype);e.prototype.constructor=e;c.ebsp2rbsp=function(a){var e=2,b=a.byteLength,f=new Uint8Array(b);f[0]=a[0];f[1]=a[1];for(var c=2;c<b;c++)if(3!==a[c]||0!==a[c-1]||0!==a[c-2])f[e]=a[c],e++;return f.subarray(0,
e)};c.Golomb=e})(playease);
(function(c){var e=/^(([a-z]+:)\/\/(([-a-z\d\.]+)(?::(\d+))?))((?:\/[-_a-z\d\s\.]*)*)([?#][-_=%&a-z\d\s\.]+)?$/i;c.utils.URL=function(a){var c=this;c.parse=function(a){c.href=a;!1===/^([a-z]+):\/\//.test(a)&&(c.href=window.location.origin+("/"===a.substr(0,1)?"":"/")+a);var b=c.href.match(e);if(null===b)throw{name:"SyntaxError",message:"The URL did not match the expected pattern, url="+a+"."};c.origin=b[1];c.protocol=b[2];c.host=b[3];c.hostname=b[4];c.port=b[5]||"";c.pathname=b[6]||"";if(a=c.pathname.match(/\/([-_a-z\d\s\(\)\[\]\{\}]+)(?:\.([a-z\d]+))?$/))c.filename=
a[1],c.filetype=a[2];b[7]&&("?"===b[7].substr(0,1)?c.search=b[7]:c.hash=b[7])};c.href="";c.origin="";c.protocol="";c.host="";c.hostname="";c.port="";c.pathname="";c.filename="";c.filetype="";c.search="";c.hash="";a&&c.parse(a)}})(playease);
(function(c){function e(b){function e(b,d){var k={};if(b.nodeType===h.DOCUMENT_NODE){for(var g=0;g<b.childNodes.length;g++){var m=b.childNodes[g],f=m.localName||m.baseName||m.nodeName;m.nodeType===h.ELEMENT_NODE&&(m=e(m),m.parent=k,c.config.ignoreRoot?(delete m.parent,k=m):k[f]=m)}return k}if(b.nodeType===h.ELEMENT_NODE){for(g=0;g<b.childNodes.length;g++)if(m=b.childNodes[g],f=m.localName||m.baseName||m.nodeName,m.nodeType!==h.COMMENT_NODE)if(m=e(m,d+"."+f),m.parent=k,k.hasOwnProperty(f))"array"!=
a.typeOf(k[f])&&(k[f]=[k[f]]),k[f].push(m);else if("#text"!=f||/[^\s]/.test(m))k[f]=m;f=b.localName||b.baseName||b.nodeName;null!=b.prefix&&""!=b.prefix&&(f=b.prefix+":"+f);for(g=0;g<b.attributes.length;g++){d=b.attributes[g];m=d.value;for(var p=0;p<c.config.matchers.length;p++){var l=c.config.matchers[p];l.test(d,f)&&(m=l.exec(d.value));k[c.config.attributePrefix+d.name]=m}}null!=k["#text"]&&c.config.trimWhitespaces&&(k["#text"]=k["#text"].trim());k.toString=function(){return(null==k["#text"]?"":
k["#text"])+(null==k["#cdata-section"]?"":k["#cdata-section"])};return k}if(b.nodeType===h.TEXT_NODE||b.nodeType===h.CDATA_SECTION_NODE)return b.nodeValue}var c=this;c.parse=function(b){if(window.DOMParser){var d=new DOMParser;try{var k=d.parseFromString(b,"text/xml")}catch(g){return a.error("Failed to parse XML structure."),null}}else 0===b.indexOf("<?")&&(b=b.substr(b.indexOf("?>")+2)),k=new ActiveXObject("Microsoft.XMLDOM"),k.async="false",k.loadXML(b);return e(k)};c.config=a.extendz({},d,b)}var a=
c.utils,h={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9},d={ignoreRoot:!0,trimWhitespaces:!1,attributePrefix:"@",matchers:[]};e.prototype.CONF=d;a.XML2JSON=e})(playease);
(function(c){var e=c.utils;e.MPD=function(a){function c(a,b){if(a)for(var e=0;e<a.AdaptationSet.length;e++){var d=a.AdaptationSet[e];if(d.hasOwnProperty("@id")){if(d["@id"]===b["@id"])return d}else if(d.hasOwnProperty("@contentType")){if(d["@contentType"]===b["@contentType"])return d}else if(d.hasOwnProperty("@mimeType")){if(d["@mimeType"]===b["@mimeType"])return d}else if(d.hasOwnProperty("@codecs")){if(d["@codecs"]===b["@codecs"])return d}else break}}var d,b,f;this.update=function(a){b=n;a.Location&&
a.Location["#text"]&&(b=a.Location["#text"]);f=a.BaseURL||b.substring(0,b.lastIndexOf("/")+1);if("dynamic"===a["@type"]){var m=d,k=0,g=NaN;"array"!=e.typeOf(a.Period)&&(a.Period=[a.Period]);for(var v=0;v<a.Period.length;v++){var w=a.Period[v];w.hasOwnProperty("@start")?k=w["@start"]:isNaN(g)?0===v&&"dynamic"!==a["@type"]&&(k=0):k+=g;w.hasOwnProperty("@duration")&&(g=w["@duration"]);w["@start"]=k;w["@duration"]=g;a:{var p=m;var l=w;if(p)for(var z=0;z<p.Period.length;z++){var q=p.Period[z];if(q.hasOwnProperty("@id")){if(q["@id"]===
l["@id"]){p=q;break a}}else if(q.hasOwnProperty("@start")){if(q["@start"]===l["@start"]){p=q;break a}}else{p=q;break a}}p=void 0}"array"!=e.typeOf(w.AdaptationSet)&&(w.AdaptationSet=[w.AdaptationSet]);for(l=0;l<w.AdaptationSet.length;l++){z=w.AdaptationSet[l];q=c(p,z);var x=q,D=q=0,h=[];if(!1!==z.SegmentTemplate.hasOwnProperty("SegmentTimeline")){if(x){var J=x.SegmentTemplate.SegmentTimeline;"array"!=e.typeOf(J.S)&&(J.S=[J.S]);for(x=0;x<J.S.length;x++){var G=J.S[x];0===x&&G.hasOwnProperty("@t")&&
(q=G["@t"]);q+=G["@d"];G["@r"]&&(q+=G["@d"]*G["@r"]);h.push(e.extendz({},G))}}z=z.SegmentTemplate.SegmentTimeline;"array"!=e.typeOf(z.S)&&(z.S=z.S?[z.S]:[]);for(x=0;x<z.S.length;x++)G=z.S[x],0===x&&G.hasOwnProperty("@t")&&(D=G["@t"]),D>=q&&h.push(G),D+=G["@d"],G["@r"]&&(D+=G["@d"]*G["@r"])}}}}d=a};this.getSegmentInfo=function(a,b,k,g,c,w){for(var m=d.Period[0],l=0;l<d.Period.length;l++){var v=d.Period[l];if(v.hasOwnProperty("@start"))v["@start"]>m["@start"]&&v["@start"]<=a&&(m=v);else break}a=m;a:{for(m=
0;m<a.AdaptationSet.length;m++)if(l=a.AdaptationSet[m],l.hasOwnProperty("@contentType")){if(l["@contentType"]===b){b=l;break a}}else if(l.hasOwnProperty("@mimeType")&&(v=l["@mimeType"].match(/^([a-z]+)\/[a-z0-9]+/i))&&1<v.length&&v[1]===b){b=l;break a}b=void 0}if(b){m=b;"array"!=e.typeOf(m.Representation)&&(m.Representation=[m.Representation]);l=m.Representation[0];for(v=0;v<m.Representation.length;v++){var q=m.Representation[v];q["@bandwidth"]>l["@bandwidth"]&&(!w||q["@bandwidth"]<=w)&&(l=q)}if(w=
l){v=b.SegmentTemplate;m=v[k?"@initialization":"@media"];l=v["@timescale"]||1;var x=v["@duration"]||0;m=m.replace(/\$RepresentationID\$/,w["@id"]);if(v["@media"].search(/\$Time\$/))if(q=v.SegmentTimeline,k)if(0<g||0===g&&!1===d.hasOwnProperty("@suggestedPresentationDelay"))q.S.length&&(g=q.S[0]["@t"]);else{var n=Math.abs(n)||d["@suggestedPresentationDelay"];a:{var h=n*l;for(n=q.S.length-1;0<=n;n--){var t=q.S[n];h-=t["@d"]*(t["@r"]||1);if(0>=h){h=q.S[0]["@t"];for(var G=0;G<n;G++)h+=q.S[G]["@d"],t["@r"]&&
(h+=t["@d"]*t["@r"]);t["@t"]=h;n=t;break a}}n=q.S[0]}n&&(g=n["@t"],x=n["@d"])}else{a:{for(n=NaN;q.S.length;){x=q.S.shift();isNaN(n)&&(n=x["@t"]||0);if(n+x["@d"]*(x["@r"]||0)>=g){x["@t"]=n;q.S.length&&(q.S[0]["@t"]=x["@t"]+x["@d"]);n=x;break a}n+=x["@d"];x["@r"]&&(n+=x["@d"]*x["@r"])}n=void 0}if(void 0===n)return;g=n["@t"];x=n["@d"];m=m.replace(/\$Time\$/,g)}v["@media"].search(/\$Number\$/)&&(k?c=v["@startNumber"]:m=m.replace(/\$Number\$/,c));k=w.baseURL||b.baseURL||a.baseURL;m=(k?k["#text"]:f)+m;
return{mimeType:w["@mimeType"]||b["@mimeType"],codecs:w["@codecs"]||b["@codecs"],index:c,start:g,duration:x,timescale:l,url:m}}}};this.getLocation=function(){return b};var n=a||""}})(playease);(function(c){c.utils.MPD.matchers={}})(playease);
(function(c){var e=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;c.utils.MPD.matchers.datetime=function(){this.test=function(a){return e.test(a.value)};this.exec=function(a){a=e.exec(a);var c=Date.UTC(parseInt(a[1],10),parseInt(a[2],10)-1,parseInt(a[3],10),parseInt(a[4],10),parseInt(a[5],10),a[6]&&parseInt(a[6],10)||0,a[7]&&1E3*parseFloat(a[7])||0);if(a[9]&&a[10]){var d=60*parseInt(a[9],10)+parseInt(a[10],10);c+=("+"===a[8]?
-1:1)*d*6E4}return new Date(c)}}})(playease);
(function(c){var e=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,a="minBufferTime mediaPresentationDuration minimumUpdatePeriod timeShiftBufferDepth maxSegmentDuration maxSubsegmentDuration suggestedPresentationDelay start starttime duration".split(" ");c.utils.MPD.matchers.duration=function(){this.test=function(c){for(var d=0;d<a.length;d++)if((c.localName||c.baseName||c.nodeName)===a[d])return e.test(c.value);return!1};this.exec=function(a){a=e.exec(a);var d=
31536E3*parseFloat(a[2]||0)+2592E3*parseFloat(a[4]||0)+86400*parseFloat(a[6]||0)+3600*parseFloat(a[8]||0)+60*parseFloat(a[10]||0)+parseFloat(a[12]||0);void 0!==a[1]&&(d*=-1);return d}}})(playease);(function(c){var e=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;c.utils.MPD.matchers.numeric=function(){this.test=function(a){return e.test(a.value)};this.exec=function(a){return parseFloat(a)}}})(playease);
(function(c){var e={MPD:["id","profiles"],Period:["id"],BaseURL:["serviceLocation","byteRange"],SegmentBase:["indexRange"],Initialization:["range"],RepresentationIndex:["range"],SegmentList:["indexRange"],BitstreamSwitching:["range"],SegmentURL:["mediaRange","indexRange"],SegmentTemplate:["indexRange","media","index","initialization","bitstreamSwitching"],AssetIdentifier:["value","id"],EventStream:["value"],AdaptationSet:["profiles","mimeType","segmentProfiles","codecs","contentType"],FramePacking:["value",
"id"],AudioChannelConfiguration:["value","id"],ContentProtection:["value","id"],EssentialProperty:["value","id"],SupplementalProperty:["value","id"],InbandEventStream:["value","id"],Accessibility:["value","id"],Role:["value","id"],Rating:["value","id"],Viewpoint:["value","id"],ContentComponent:["contentType"],Representation:["id","dependencyId","mediaStreamStructureId"],Subset:["id"],Metrics:["metrics"],Reporting:["value","id"]};c.utils.MPD.matchers.string=function(){this.test=function(a,c){return e.hasOwnProperty(c)&&
(c=e[c],void 0!==c)?0<=c.indexOf(a.name):!1};this.exec=function(a){return String(a)}}})(playease);
(function(c){c.events={Event:{BIND:"bind",READY:"ready",PLAY:"play",WAITING:"waiting",DURATIONCHANGE:"durationchange",LOADEDMETADATA:"loadedmetadata",LOADEDDATA:"loadeddata",CANPLAY:"canplay",PLAYING:"playing",CANPLAYTHROUGH:"canplaythrough",PAUSE:"pause",SEEKING:"seeking",SEEKED:"seeked",SWITCHING:"switching",SWITCHED:"switched",RATECHANGE:"ratechange",TIMEUPDATE:"timeupdate",VOLUMECHANGE:"volumechange",ENDED:"ended",ERROR:"error"},IOEvent:{LOADSTART:"loadstart",STALLED:"stalled",ABORT:"abort",TIMEOUT:"timeout",
PROGRESS:"progress",SUSPEND:"suspend",LOAD:"load",LOADEND:"loadend"},UIEvent:{SHOOTING:"shooting",FULLPAGE:"fullpage",FULLSCREEN:"fullscreen",RESIZE:"resize"},GlobalEvent:{CHANGE:"change",VISIBILITYCHANGE:"visibilitychange"},MouseEvent:{CLICK:"click",DOUBLE_CLICK:"doubleclick",MOUSE_MOVE:"mousemove"},KeyboardEvent:{KEY_DOWN:"key-down",KEY_UP:"key-up"},TimerEvent:{TIMER:"timer",COMPLETE:"complete"},MediaEvent:{PACKET:"packet",INFOCHANGE:"infochange",STATSUPDATE:"statsupdate",AAC_SPECIFIC_CONFIG:"aac-specific-config",
AAC_SAMPLE:"aac-sample",AVC_CONFIG_RECORD:"avc-config-record",AVC_SAMPLE:"avc-sample",END_OF_STREAM:"end-of-stream"},MediaStreamTrackEvent:{ADDTRACK:"addtrack",REMOVETRACK:"removetrack"}}})(playease);
(function(c){var e=c.utils;c.events.EventDispatcher=function(a,h){function d(a,b){if(a)for(var d=a.slice(0),k=0;k<d.length;k++){var c=d[k];if(c){isNaN(c.count)||0!==--c.count||a.splice(k,1);try{if(c.listener(b),b.stopPropagation)break}catch(z){e.error(f+" failed to dispatch event:",b,z.toString())}}}}var b=this,f=a,n=h,m=Array.prototype.slice.call(arguments,2);b.bind=function(){var a=Array.prototype.slice.call(arguments,0);e.forEach(a,function(a,d){e.forEach(d,function(a,e){a="on"+e.replace(/-/g,
"");b[a]=void 0})})};b.addEventListener=function(a,b,d){try{t[a]||(t[a]=[]),"string"===e.typeOf(b)&&(b=(new Function("return "+b))()),t[a].push({listener:b,count:d||NaN})}catch(p){e.error(f+" failed to addEventListener("+a+"):",p)}};b.removeEventListener=function(a,b){if(t[a])try{if(void 0===b)delete t[a];else for(var d=0;d<t[a].length;d++)if(t[a][d].listener.toString()===b.toString()){t[a].splice(d,1);break}}catch(p){e.error(f+" failed to removeEventListener("+a+"):",p)}};b.hasEventListener=function(a){return t.hasOwnProperty(a)&&
0<t[a].length};b.addGlobalListener=function(a,b){try{"string"===e.typeOf(a)&&(a=(new Function("return "+a))()),k.push({listener:a,count:b||NaN})}catch(w){e.error(f+" failed to addGlobalListener():",w)}};b.removeGlobalListener=function(a){if(a)try{for(var b=0;b<k.length;b++)if(k[b].listener.toString()===a.toString()){k.splice(b,1);break}}catch(w){e.error(f+" failed to removeGlobalListener():",w)}};b.dispatchEvent=function(a,e){b.forward({type:a,data:e||{},srcElement:b,version:c.VERSION})};b.forward=
function(a){a.target=b;a.stopPropagation=!1;a.api=!n||"string"!==typeof n.id&&"number"!==typeof n.id?void 0:n.id;c.DEBUG&&e.log(f,a);var m="on"+a.type.replace(/-/g,"");if("function"===e.typeOf(b[m]))b[m](a);else d(t[a.type],a),d(k,a)};var t={};var k=[];b.bind.apply(b,m)}})(playease);
(function(c){function e(a,e){function b(){k++;c.dispatchEvent(d.TIMER);0<c.repeatCount&&k>=c.repeatCount&&(c.stop(),c.dispatchEvent(d.COMPLETE))}h.call(this,"Timer",null,[d.TIMER,d.COMPLETE]);var c=this,f,k=0,g=!1;c.start=function(){!1===g&&(f=setInterval(b,c.delay),g=!0)};c.stop=function(){g&&(clearInterval(f),f=0,g=!1)};c.reset=function(){c.stop();k=0};c.currentCount=function(){return k};c.running=function(){return g};c.delay=a||50;c.repeatCount=e||0}var a=c.utils;c=c.events;var h=c.EventDispatcher,
d=c.TimerEvent;e.prototype=Object.create(h.prototype);e.prototype.constructor=e;a.Timer=e})(playease);
(function(c){var e=c.utils,a={},h=[];a.register=function(d,b){try{h.splice(b||h.length,0,d),a[d.prototype.kind]=d}catch(f){e.error("Failed to register loader "+d.prototype.kind+", Error="+f.message)}};a.get=function(a,b){for(var e=0;e<h.length;e++){var d=h[e];if(d.prototype.isSupported(a,b))return d}return null};a.Mode={CORS:"cors",NO_CORS:"no-cors",SAME_ORIGIN:"same-origin"};a.Credentials={OMIT:"omit",INCLUDE:"include",SAME_ORIGIN:"same-origin"};a.Cache={DEFAULT:"default",NO_STAORE:"no-store",RELOAD:"reload",
NO_CACHE:"no-cache",FORCE_CACHE:"force-cache",ONLY_IF_CACHED:"only-if-cached"};a.Redirect={FOLLOW:"follow",MANUAL:"manual",ERROR:"error"};a.ResponseType={ARRAYBUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};a.ReadyState={UNINITIALIZED:0,OPEN:1,SENT:2,LOADING:3,DONE:4};c.io=a.get;c.IO=a})(playease);
(function(c){function e(e){function k(b){return b.read().then(function(e){if(e.done)return a.debug("Loader load"),w=n.DONE,v.dispatchEvent(f.LOAD),v.dispatchEvent(f.LOADEND),Promise.resolve("load");switch(w){case n.SENT:w=n.LOADING;break;case n.DONE:return a.warn("Loader state error, probably aborted already."),b.cancel()}a.debug("Loader progress: "+e.value.buffer.byteLength+"/"+p);v.dispatchEvent(f.PROGRESS,{buffer:e.value.buffer,loaded:e.value.buffer.byteLength,total:p});return k(b)})["catch"](c)}
function c(e){w=n.DONE;a.error("Loader "+e.name+": "+e.message);switch(e.name){case "AbortError":v.dispatchEvent(f.ABORT,{name:e.name,message:e.message});break;case "TimeoutError":v.dispatchEvent(f.TIMEOUT,{name:e.name,message:e.message});break;default:v.dispatchEvent(b.ERROR,{name:e.name,message:e.message})}v.dispatchEvent(f.LOADEND)}d.call(this,"Fetch",null,[b.ERROR],f);var v=this,w;v.load=function(e,d,m){w=n.UNINITIALIZED;v.isSupported(e)?(a.debug("Loader loadstart"),v.dispatchEvent(f.LOADSTART),
w=n.OPEN,void 0!==d&&a.extendz(v.config.headers,{Range:"bytes="+d+"-"+(m||"")}),d=a.extendz({},v.config,{headers:new Headers(v.config.headers),signal:l.signal}),fetch(e.href,d).then(function(b){switch(w){case n.OPEN:w=n.SENT;break;default:a.warn("Loader state error, probably aborted already.")}if(!b.ok||200>b.status||299<b.status)return Promise.reject(Error(b.status+" "+b.statusText));var e=b.headers.get("Content-Length");e&&(e=parseInt(e));if(206===b.status){var d=b.headers.get("Content-Range");
d&&(d=d.match(/bytes (\d*)\-(\d*)\/(\d+)/i))&&(e=parseInt(d[3]))}p!==e&&(p=e||Infinity,a.log("File size changed: "+p));return k(b.body.getReader())})["catch"](c)):(a.error("Loader NotSupportedError: Not supportped."),w=n.DONE,v.dispatchEvent(b.ERROR,{name:"NotSupportedError",message:"Not supportped."}),v.dispatchEvent(f.LOADEND))};v.abort=function(){l.abort()};v.state=function(){return w};v.config=a.extendz({},m,e);var p=NaN;var l=new AbortController}var a=c.utils,h=c.events,d=h.EventDispatcher,b=
h.Event,f=h.IOEvent;c=c.IO;var n=c.ReadyState,m={method:"GET",headers:{},mode:c.Mode.CORS,credentials:c.Credentials.OMIT,cache:c.Cache.DEFAULT,redirect:c.Redirect.FOLLOW};e.prototype=Object.create(d.prototype);e.prototype.constructor=e;e.prototype.kind="Fetch";e.prototype.CONF=m;e.prototype.isSupported=function(a,b){return b&&"live"!==b?!1:!!fetch&&("http:"===a.protocol||"https:"===a.protocol)};c.register(e)})(playease);
(function(c){function e(e){b.call(this,"MozStream",null,[f.ERROR],n);var d=this,c;d.load=function(b,e,k){c=t.UNINITIALIZED;if(d.isSupported(b)){a.debug("Loader loadstart");d.dispatchEvent(n.LOADSTART);l.open(d.config.method,b.href,!0);void 0!==e&&a.extendz(d.config.headers,{Range:"bytes="+e+"-"+(k||"")});a.forEach(d.config.headers,function(a,b){l.setRequestHeader(a,b)});switch(d.config.credentials){case m.INCLUDE:l.withCredentials=!0;break;case m.SAME_ORIGIN:l.withCredentials=window.location.host===
b.host;break;default:l.withCredentials=!1}l.send()}else a.error("Loader NotSupportedError: Not supportped."),c=t.DONE,d.dispatchEvent(f.ERROR,{name:"NotSupportedError",message:"Not supportped."}),d.dispatchEvent(n.LOADEND)};d.abort=function(){l.abort()};d.state=function(){return c};d.config=a.extendz({},k,e);var g=NaN;var l=new XMLHttpRequest;l.onreadystatechange=function(b){c=l.readyState;switch(c){case t.SENT:if(200>l.status||299<l.status)a.error("Loader NetworkError: "+l.status+" "+l.statusText),
d.dispatchEvent(f.ERROR,{name:"NetworkError",message:l.status+" "+l.statusText});else{(b=l.getResponseHeader("Content-Length"))&&(b=parseInt(b));if(206===l.status){var e=l.getResponseHeader("Content-Range");e&&(e=e.match(/bytes (\d*)\-(\d*)\/(\d+)/i))&&(b=parseInt(e[3]))}g!==b&&(g=b||Infinity,a.log("File size changed: "+g))}}};l.onabort=function(b){a.warn("Loader AbortError: The operation was aborted.");d.dispatchEvent(n.ABORT,{name:"AbortError",message:"The operation was aborted."})};l.onprogress=
function(b){a.debug("Loader progress: "+l.response.byteLength+"/"+g);d.dispatchEvent(n.PROGRESS,{buffer:l.response,loaded:l.response.byteLength,total:g})};l.onload=function(b){a.debug("Loader load.");d.dispatchEvent(n.LOAD)};l.onerror=function(b){a.error("Loader "+b.name+": "+b.message);switch(b.name){case "TimeoutError":d.dispatchEvent(n.TIMEOUT,{name:b.name,message:b.message});break;default:d.dispatchEvent(f.ERROR,{name:b.name,message:b.message})}};l.onloadend=function(a){d.dispatchEvent(n.LOADEND)};
l.responseType="moz-chunked-arraybuffer"}var a=c.utils,h=c.Browser,d=c.events,b=d.EventDispatcher,f=d.Event,n=d.IOEvent;c=c.IO;var m=c.Credentials,t=c.ReadyState,k={method:"GET",headers:{},mode:c.Mode.CORS,credentials:m.OMIT,cache:c.Cache.DEFAULT,redirect:c.Redirect.FOLLOW};e.prototype=Object.create(b.prototype);e.prototype.constructor=e;e.prototype.kind="MozStream";e.prototype.CONF=k;e.prototype.isSupported=function(a,b){return b&&"live"!==b||h.isFirefox&&(14>h.major||67<h.major)?!1:"http:"===a.protocol||
"https:"===a.protocol};c.register(e)})(playease);
(function(c){function e(e){function d(b){a.error("Loader "+b.name+": "+b.message);switch(b.name){case "TimeoutError":c.dispatchEvent(n.TIMEOUT,{name:b.name,message:b.message});break;default:c.dispatchEvent(f.ERROR,{name:b.name,message:b.message})}}b.call(this,"MSStream",null,[f.ERROR],n);var c=this,g;c.load=function(b,e,d){g=t.UNINITIALIZED;q.position=0;if(c.isSupported(b)){a.debug("Loader loadstart");c.dispatchEvent(n.LOADSTART);h.open(c.config.method,b.href,!0);void 0!==e&&a.extendz(c.config.headers,
{Range:"bytes="+e+"-"+(d||"")});a.forEach(c.config.headers,function(a,b){h.setRequestHeader(a,b)});switch(c.config.credentials){case m.INCLUDE:h.withCredentials=!0;break;case m.SAME_ORIGIN:h.withCredentials=window.location.host===b.host;break;default:h.withCredentials=!1}h.send()}else a.error("Loader NotSupportedError: Not supportped."),g=t.DONE,c.dispatchEvent(f.ERROR,{name:"NotSupportedError",message:"Not supportped."}),c.dispatchEvent(n.LOADEND)};c.abort=function(){h.abort()};c.state=function(){return g};
c.config=a.extendz({},k,e);var l=NaN;var h=new XMLHttpRequest;h.onreadystatechange=function(b){g=h.readyState;switch(g){case t.SENT:if(200>h.status||299<h.status){a.error("Loader NetworkError: "+h.status+" "+h.statusText);c.dispatchEvent(f.ERROR,{name:"NetworkError",message:h.status+" "+h.statusText});break}(b=h.getResponseHeader("Content-Length"))&&(b=parseInt(b));if(206===h.status){var e=h.getResponseHeader("Content-Range");e&&(e=e.match(/bytes (\d*)\-(\d*)\/(\d+)/i))&&(b=parseInt(e[3]))}l!==b&&
(l=b||Infinity,a.log("File size changed: "+l));break;case t.LOADING:q.readAsArrayBuffer(h.response)}};h.onabort=function(b){a.warn("Loader AbortError: The operation was aborted.");c.dispatchEvent(n.ABORT,{name:"AbortError",message:"The operation was aborted."})};h.onerror=d;h.onloadend=function(a){c.dispatchEvent(n.LOADEND)};h.responseType="ms-stream";var q=new MSStreamReader;q.onprogress=function(b){b=q.result.slice(q.position);null==b?a.warn("What happend???"):(a.debug("Loader progress: "+b.byteLength+
"/"+l),c.dispatchEvent(n.PROGRESS,{buffer:b,loaded:b.byteLength,total:l}),q.position=q.result.byteLength)};q.onload=function(b){a.debug("Loader load.");c.dispatchEvent(n.LOAD)};q.onerror=d}var a=c.utils,h=c.Browser,d=c.events,b=d.EventDispatcher,f=d.Event,n=d.IOEvent;c=c.IO;var m=c.Credentials,t=c.ReadyState,k={method:"GET",headers:{},mode:c.Mode.CORS,credentials:m.OMIT,cache:c.Cache.DEFAULT,redirect:c.Redirect.FOLLOW};e.prototype=Object.create(b.prototype);e.prototype.constructor=e;e.prototype.kind=
"MSStream";e.prototype.CONF=k;e.prototype.isSupported=function(a,b){return b&&"live"!==b||!h.isIE10&&!h.isIE11&&!h.isEdge?!1:"http:"===a.protocol||"https:"===a.protocol};c.register(e)})(playease);
(function(c){function e(e){function c(b){l=n.SENT;a.log("File size changed: Infinity")}function g(b){a.debug("Loader progress: "+b.data.byteLength+"/Infinity");l===n.SENT&&(l=n.LOADING);p.dispatchEvent(f.PROGRESS,{buffer:b.data,loaded:b.data.byteLength,total:Infinity})}function v(e){a.error("Loader NetworkError: A network error occurred.");p.dispatchEvent(b.ERROR,{name:"NetworkError",message:"A network error occurred."})}function w(b){a.debug("Loader load.");l=n.DONE;p.dispatchEvent(f.LOAD);p.dispatchEvent(f.LOADEND)}
d.call(this,"Websocket",null,[b.ERROR],f);var p=this,l,h;p.load=function(e,d,k){l=n.UNINITIALIZED;p.isSupported(e)?(a.debug("Loader loadstart"),p.dispatchEvent(f.LOADSTART),l=n.OPEN,h=new (window.WebSocket||window.MozWebSocket)(e.href),h.onopen=c,h.onmessage=g,h.onerror=v,h.onclose=w,h.binaryType="arraybuffer"):(a.error("Loader NotSupportedError: Not supportped."),l=n.DONE,p.dispatchEvent(b.ERROR,{name:"NotSupportedError",message:"Not supportped."}),p.dispatchEvent(f.LOADEND))};p.abort=function(){!h||
h.readyState!=WebSocket.CONNECTING&&h.readyState!=WebSocket.OPEN||(h.close(),a.warn("Loader AbortError: The operation was aborted."),p.dispatchEvent(f.ABORT,{name:"AbortError",message:"The operation was aborted."}))};p.state=function(){return l};p.config=a.extendz({},m,e)}var a=c.utils,h=c.events,d=h.EventDispatcher,b=h.Event,f=h.IOEvent;c=c.IO;var n=c.ReadyState,m={method:"GET",headers:{},mode:c.Mode.CORS,credentials:c.Credentials.OMIT,cache:c.Cache.DEFAULT,redirect:c.Redirect.FOLLOW};e.prototype=
Object.create(d.prototype);e.prototype.constructor=e;e.prototype.kind="Websocket";e.prototype.CONF=m;e.prototype.isSupported=function(a,b){return b&&"live"!==b?!1:!(!window.WebSocket&&!window.MozWebSocket)&&("ws:"===a.protocol||"wss:"===a.protocol)};c.register(e)})(playease);
(function(c){function e(e){d.call(this,"XHR",null,[b.ERROR],f);var c=this,k;c.load=function(e,d,q){k=m.UNINITIALIZED;if(c.isSupported(e)){a.debug("Loader loadstart");c.dispatchEvent(f.LOADSTART);p.open(c.config.method,e.href,!0);void 0!==d&&a.extendz(c.config.headers,{Range:"bytes="+d+"-"+(q||"")});a.forEach(c.config.headers,function(a,b){p.setRequestHeader(a,b)});switch(c.config.credentials){case n.INCLUDE:p.withCredentials=!0;break;case n.SAME_ORIGIN:p.withCredentials=window.location.host===e.host;
break;default:p.withCredentials=!1}p.send()}else a.error("Loader NotSupportedError: Not supportped."),k=m.DONE,c.dispatchEvent(b.ERROR,{name:"NotSupportedError",message:"Not supportped."}),c.dispatchEvent(f.LOADEND)};c.abort=function(){p.abort()};c.state=function(){return k};c.config=a.extendz({},t,e);var h=NaN;var p=new XMLHttpRequest;p.onreadystatechange=function(e){k=p.readyState;switch(k){case m.SENT:if(416!==p.status&&(200>p.status||299<p.status))a.error("Loader NetworkError: "+p.status+" "+
p.statusText),c.dispatchEvent(b.ERROR,{name:"NetworkError",message:p.status+" "+p.statusText});else{(e=p.getResponseHeader("Content-Length"))&&(e=parseInt(e));if(206===p.status){var d=p.getResponseHeader("Content-Range");d&&(d=d.match(/bytes (\d*)\-(\d*)\/(\d+)/i))&&(e=parseInt(d[3]))}h!==e&&(h=e||Infinity,a.log("File size changed: "+h))}}};p.onabort=function(b){a.warn("Loader AbortError: The operation was aborted.");c.dispatchEvent(f.ABORT,{name:"AbortError",message:"The operation was aborted."})};
p.onprogress=function(b){a.debug("Loader progress: "+p.loaded+"/"+h)};p.onload=function(b){a.debug("Loader load.");c.dispatchEvent(f.PROGRESS,{buffer:p.response,loaded:p.response.byteLength,total:h});c.dispatchEvent(f.LOAD)};p.onerror=function(e){a.error("Loader "+e.name+": "+e.message);switch(e.name){case "TimeoutError":c.dispatchEvent(f.TIMEOUT,{name:e.name,message:e.message});break;default:c.dispatchEvent(b.ERROR,{name:e.name,message:e.message})}};p.onloadend=function(a){c.dispatchEvent(f.LOADEND)};
p.responseType=c.config.responseType}var a=c.utils,h=c.events,d=h.EventDispatcher,b=h.Event,f=h.IOEvent;c=c.IO;var n=c.Credentials,m=c.ReadyState,t={method:"GET",headers:{},mode:c.Mode.CORS,credentials:n.OMIT,cache:c.Cache.DEFAULT,redirect:c.Redirect.FOLLOW,responseType:c.ResponseType.ARRAYBUFFER};e.prototype=Object.create(d.prototype);e.prototype.constructor=e;e.prototype.kind="XHR";e.prototype.CONF=t;e.prototype.isSupported=function(a,b){if(b&&"live"===b){b=["flv","",void 0,"mp4","m4s","f4v","m4v",
"mov"];for(var e=0;e<b.length;e++)if(a.filetype===b[e])return!1}return"http:"===a.protocol||"https:"===a.protocol};c.register(e)})(playease);
(function(c){function e(a,b){this.Num=a||30;this.Den=b||1}function a(){var a=this;a.left=function(){return null==a.payload?0:a.payload.byteLength-a.position};a.set=function(a,e){b[a]=e};a.get=function(a){return b[a]};var b={};a.kind="";a.codec="";a.length=0;a.timestamp=0;a.streamid=0;a.payload=null;a.position=0}var h={};a.KindAudio="audio";a.KindVideo="video";a.KindScript="script";h.Rational=e;h.Information=function(){this.MimeType="";this.Codecs=[];this.Timescale=1E3;this.BitRate=this.VideoDataRate=
this.AudioDataRate=this.CodecHeight=this.CodecWidth=this.Height=this.Width=this.FileSize=this.Duration=this.VideoTimestamp=this.AudioTimestamp=this.Timestamp=this.TimeBase=0;this.FrameRate=new e;this.Channels=this.SampleSize=this.SampleRate=0;this.Stereo=!1;this.Encoder=""};h.Packet=a;c.AV=h})(playease);
(function(c){var e=c.utils;c=c.AV;var a={},h=[];a.COL_PRI_RESERVED0=0;a.COL_PRI_BT709=1;a.COL_PRI_UNSPECIFIED=2;a.COL_PRI_RESERVED=3;a.COL_PRI_BT470M=4;a.COL_PRI_BT470BG=5;a.COL_PRI_SMPTE170M=6;a.COL_PRI_SMPTE240M=7;a.COL_PRI_FILM=8;a.COL_PRI_BT2020=9;a.COL_PRI_SMPTEST428_1=10;a.COL_PRI_NB=11;a.COL_TRC_RESERVED0=0;a.COL_TRC_BT709=1;a.COL_TRC_UNSPECIFIED=2;a.COL_TRC_RESERVED=3;a.COL_TRC_GAMMA22=4;a.COL_TRC_GAMMA28=5;a.COL_TRC_SMPTE170M=6;a.COL_TRC_SMPTE240M=7;a.COL_TRC_LINEAR=8;a.COL_TRC_LOG=9;a.COL_TRC_LOG_SQRT=
10;a.COL_TRC_IEC61966_2_4=11;a.COL_TRC_BT1361_ECG=12;a.COL_TRC_IEC61966_2_1=13;a.COL_TRC_BT2020_10=14;a.COL_TRC_BT2020_12=15;a.COL_TRC_SMPTEST2084=16;a.COL_TRC_SMPTEST428_1=17;a.COL_TRC_ARIB_STD_B67=18;a.COL_TRC_NB=19;a.COL_SPC_RGB=0;a.COL_SPC_BT709=1;a.COL_SPC_UNSPECIFIED=2;a.COL_SPC_RESERVED=3;a.COL_SPC_FCC=4;a.COL_SPC_BT470BG=5;a.COL_SPC_SMPTE170M=6;a.COL_SPC_SMPTE240M=7;a.COL_SPC_YCOCG=8;a.COL_SPC_YCGCO=8;a.COL_SPC_BT2020_NCL=9;a.COL_SPC_BT2020_CL=10;a.COL_SPC_NB=11;a.COL_RANGE_UNSPECIFIED=0;
a.COL_RANGE_MPEG=1;a.COL_RANGE_JPEG=2;a.COL_RANGE_NB=2;a.CHROMA_LOC_UNSPECIFIED=0;a.CHROMA_LOC_LEFT=1;a.CHROMA_LOC_CENTER=2;a.CHROMA_LOC_TOPLEFT=3;a.CHROMA_LOC_TOP=4;a.CHROMA_LOC_BOTTOMLEFT=5;a.CHROMA_LOC_BOTTOM=6;a.CHROMA_LOC_NB=7;a.register=function(d,b){try{h.splice(b||h.length,0,d),a[d.prototype.kind]=d}catch(f){e.error("Failed to register codec "+d.prototype.kind+", Error="+f.message)}};a.get=function(a){for(var b=0;b<h.length;b++){var e=h[b];if(e.prototype.kind===a)return e}return null};c.codec=
a.get;c.Codec=a})(playease);
(function(c){function e(e){b.call(this,"AAC",null,n,[f.ERROR]);var d=this,c;d.parse=function(b){if(1>b.left())d.dispatchEvent(f.ERROR,{name:"DataError",message:"Data not enough while parsing AAC packet."});else{D.Timestamp=Math.max(b.timestamp,D.VideoTimestamp);var e=new DataView(b.payload.buffer);b.set("DataType",e.getUint8(b.position++));b.set("CTS",0);switch(b.get("DataType")){case k.SPECIFIC_CONFIG:D.MimeType||(D.MimeType=d.MimeType);a:if(2>b.left())d.dispatchEvent(f.ERROR,{name:"DataError",message:"Data not enough while parsing AAC specific config."});
else{c=new h(b.payload.subarray(b.position));d.AudioObjectType=c.ReadBits(5);d.AudioObjectType===g.ESCAPE&&(d.AudioObjectType=32+c.ReadBits(6));d.SamplingFrequencyIndex=c.ReadBits(4);d.SamplingFrequency=15===d.SamplingFrequencyIndex?c.ReadBits(24):v[d.SamplingFrequencyIndex];d.ChannelConfiguration=c.ReadBits(4);16>d.ChannelConfiguration&&(d.Channels=w[d.ChannelConfiguration]);if(d.AudioObjectType===g.SBR||d.AudioObjectType===g.PS&&0===(c.ShowBits(3)&3)&&0===(c.ShowBits(9)&63))switch(d.ExtensionSamplingFrequencyIndex=
c.ReadBits(4),d.ExtensionSamplingFrequency=15===d.ExtensionSamplingFrequencyIndex?c.ReadBits(24):v[d.ExtensionSamplingFrequencyIndex],d.ExtensionAudioObjectType=c.ReadBits(5),d.ExtensionAudioObjectType){case g.ESCAPE:d.ExtensionAudioObjectType=32+c.ReadBits(6);break;case g.ER_BSAC:d.ExtensionChannelConfiguration=c.ReadBits(4)}else d.ExtensionAudioObjectType=g.NULL,d.ExtensionSamplingFrequency=0;if(d.AudioObjectType===g.ALS){c.ShowBits(5);4279379!==c.ShowBitsLong(24)&&c.SkipBits(24);try{if(112>c.Left())throw{name:"DataError",
message:"Data not enough while parsing ALS config."};if(1095521024!==c.ReadBitsLong(32))throw{name:"TypeError",message:"Not ALS\\0"};d.SamplingFrequency=c.ReadBitsLong(32);c.SkipBits(32);d.ChannelConfiguration=0;d.Channels=c.ReadBits(16)+1}catch(M){a.error("Failed to parse AAC config ALS.");d.dispatchEvent(f.ERROR,{name:M.name,message:M.message});break a}}d.RefSampleDuration=Math.floor(1024*D.Timescale/d.SamplingFrequency);d.AudioObjectType=g.SBR;d.ExtensionSamplingFrequencyIndex=d.SamplingFrequencyIndex;
6<=d.SamplingFrequencyIndex?d.ExtensionSamplingFrequencyIndex-=3:1===d.ChannelConfiguration&&(d.AudioObjectType=g.AAC_LC);d.Config=d.AudioObjectType===g.SBR?new Uint8Array([d.AudioObjectType<<3|d.SamplingFrequencyIndex>>1,d.SamplingFrequencyIndex<<7|d.ChannelConfiguration<<3|d.ExtensionSamplingFrequencyIndex>>1,d.ExtensionSamplingFrequencyIndex<<7|8,0]):new Uint8Array([d.AudioObjectType<<3|d.SamplingFrequencyIndex>>1,d.SamplingFrequencyIndex<<7|d.ChannelConfiguration<<3]);d.Codec="mp4a.40."+d.AudioObjectType;
D.Codecs.push(d.Codec);d.dispatchEvent(n.AAC_SPECIFIC_CONFIG)}break;case k.RAW_FRAME_DATA:D.AudioTimestamp=b.timestamp;e=Math.ceil((b.timestamp-D.AudioTimestamp)/d.RefSampleDuration);for(var q=0;q<e-1;q++){var x=new m.Packet;x.kind=t.KindAudio;x.codec=b.codec;x.timestamp=D.AudioTimestamp+d.RefSampleDuration;x.streamid=b.streamid;var z=x;a:switch(d.AudioObjectType){case AAC_LC:var I=p[d.Channels];break a;default:I=l[d.Channels]}z.payload=I;if(void 0===x.payload){a.warn("Failed to get silent frame: AudioObjectType="+
d.AudioObjectType+", Channels="+d.Channels);break}x.length=x.payload.byteLength;x.set("DTS",D.TimeBase+x.timestamp);x.set("PTS",x.get("DTS"));x.set("Data",x.payload);a.warn("Generates silent frame: "+x.timestamp);D.AudioTimestamp=x.timestamp;d.dispatchEvent(n.AAC_SAMPLE,{packet:x})}b.set("DTS",D.TimeBase+b.timestamp);b.set("PTS",b.get("DTS"));b.set("Data",b.payload.subarray(b.position));d.dispatchEvent(n.AAC_SAMPLE,{packet:b});break;default:d.dispatchEvent(f.ERROR,{name:"TypeError",message:"Unrecognized AAC packet type: "+
d.DataType})}}};var D=e;d.MimeType="audio/mp4";d.Codec="";d.RefSampleDuration=Math.floor(1024*D.Timescale/44100);d.AudioObjectType=0;d.SamplingFrequencyIndex=0;d.SamplingFrequency=0;d.ChannelConfiguration=0;d.Channels=0;d.ExtensionAudioObjectType=0;d.ExtensionSamplingFrequencyIndex=0;d.ExtensionSamplingFrequency=0;d.ExtensionChannelConfiguration=0;d.Config=null;d.ExpectedDts=0;d.Flags={IsLeading:0,SampleDependsOn:1,SampleIsDependedOn:0,SampleHasRedundancy:0,IsNonSync:0}}var a=c.utils,h=a.Golomb,d=
c.events,b=d.EventDispatcher,f=d.Event,n=d.MediaEvent,m=c.AV,t=m.Packet;c=m.Codec;var k={SPECIFIC_CONFIG:0,RAW_FRAME_DATA:1},g={NULL:0,AAC_MAIN:1,AAC_LC:2,AAC_SSR:3,AAC_LTP:4,SBR:5,AAC_SCALABLE:6,TWINVQ:7,CELP:8,HVXC:9,TTSI:12,MAINSYNTH:13,WAVESYNTH:14,MIDI:15,SAFX:16,ER_AAC_LC:17,ER_AAC_LTP:19,ER_AAC_SCALABLE:20,ER_TWINVQ:21,ER_BSAC:22,ER_AAC_LD:23,ER_CELP:24,ER_HVXC:25,ER_HILN:26,ER_PARAM:27,SSC:28,PS:29,SURROUND:30,ESCAPE:31,L1:32,L2:33,L3:34,DST:35,ALS:36,SLS:37,SLS_NON_CORE:38,ER_AAC_ELD:39,
SMR_SIMPLE:40,SMR_MAIN:41,USAC_NOSBR:42,SAOC:43,LD_SURROUND:44,USAC:45},v=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350],w=[0,1,2,3,4,5,6,8],p=[new Uint8Array([0,200,0,128,35,128]),new Uint8Array([33,0,73,144,2,25,0,35,128]),new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]),new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]),new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]),new Uint8Array([0,200,0,128,32,132,1,38,64,8,
100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])],l=[new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]),new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]),new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,
149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])];e.prototype=Object.create(b.prototype);e.prototype.constructor=e;e.prototype.kind="AAC";e.DataTypes=k;e.AOT=g;e.SamplingFrequencys=v;e.Channels=w;e.SilentFramesOfLC=p;e.SilentFramesOfSBR=l;c.register(e)})(playease);
(function(c){function e(c){d.call(this,"AVC",null,f,[b.ERROR]);var k=this;k.parse=function(e){if(4>e.left())k.dispatchEvent(b.ERROR,{name:"DataError",message:"Data not enough while parsing AVC packet."});else{g.Timestamp=Math.max(e.timestamp,g.AudioTimestamp);var d=new DataView(e.payload.buffer);e.set("DataType",d.getUint8(e.position++));e.set("CTS",d.getUint8(e.position++)<<16|d.getUint8(e.position++)<<8|d.getUint8(e.position++));switch(e.get("DataType")){case n.SEQUENCE_HEADER:g.MimeType=k.MimeType;
a:if(7>e.left())k.dispatchEvent(b.ERROR,{name:"DataError",message:"Data not enough while parsing AVC decoder configuration record."});else{k.AVCC=e.payload.subarray(e.position);d=0;var p=new DataView(e.payload.buffer,e.position);k.ConfigurationVersion=p.getUint8(d++);k.ProfileIndication=p.getUint8(d++);k.ProfileCompatibility=p.getUint8(d++);k.LevelIndication=p.getUint8(d++);if(1!==k.ConfigurationVersion||0===k.ProfileIndication)k.dispatchEvent(b.ERROR,{name:"DataError",message:"Invalid AVC configuration version or profile."});
else if(k.NalLengthSize=(p.getUint8(d++)&3)+1,3>k.NalLengthSize)k.dispatchEvent(b.ERROR,{name:"DataError",message:"Invalid NalLengthSize "+k.NalLengthSize});else{for(var l=p.getUint8(d++)&31,v=0;v<l;v++){var q=p.getUint16(d);d+=2;if(0!==q){var x=k.AVCC.subarray(d,d+q);try{k.SPS.parse(x),k.RefSampleDuration=Math.floor(g.Timescale*c.FrameRate.Den/c.FrameRate.Num)}catch(D){k.dispatchEvent(b.ERROR,{name:D.name,message:D.message});break a}d+=q}}l=p.getUint8(d++);for(v=0;v<l;v++)q=p.getUint16(d),d+=2,0!==
q&&(d+=q);k.Codec=k.SPS.Codec;g.Codecs.push(k.Codec);k.dispatchEvent(f.AVC_CONFIG_RECORD,{packet:e})}}break;case n.NALU:a:{g.VideoTimestamp=e.timestamp;d=0;p=new DataView(e.payload.buffer,e.position);v=e.payload.subarray(e.position);l=[];e.set("DTS",g.TimeBase+e.timestamp);e.set("PTS",e.get("CTS")+e.get("DTS"));e.set("Data",v);for(e.set("NALUs",l);d<p.byteLength;){if(d+4>=p.byteLength){k.dispatchEvent(h.ERROR,{name:"DataError",message:"Data not enough for next NALU."});break a}q=p.getUint32(d);3===
k.NalLengthSize&&(q>>=8);d+=k.NalLengthSize;if(q>p.byteLength-k.NalLengthSize){k.dispatchEvent(h.ERROR,{name:"DataError",message:"Malformed Nalus near timestamp "+e.get("DTS")+"."});break a}e.set("ForbiddenZeroBit",p.getUint8(d)>>7&1);e.set("NalRefIdc",p.getUint8(d)>>5&3);e.set("NalUnitType",p.getUint8(d)&31);e.get("NalUnitType")===m.IDR_SLICE&&e.set("Keyframe",!0);x=v.subarray(d,d+q);d+=q;l.push(x)}k.dispatchEvent(f.AVC_SAMPLE,{packet:e})}break;case n.END_OF_SEQUENCE:a.debug("AVC sequence end.");
k.dispatchEvent(f.END_OF_STREAM);break;default:k.dispatchEvent(b.ERROR,{name:"TypeError",message:"Unrecognized AVC packet type: "+e.get("DataType")})}}};var g=c;k.MimeType="video/mp4";k.Codec="";k.RefSampleDuration=Math.floor(g.Timescale*c.FrameRate.Den/c.FrameRate.Num);k.AVCC=null;k.ConfigurationVersion=0;k.ProfileIndication=0;k.ProfileCompatibility=0;k.LevelIndication=0;k.NalLengthSize=0;k.SPS=new e.SPS(g);k.PPS=new e.PPS(k.SPS);k.ExpectedDts=0;k.Flags={IsLeading:0,SampleDependsOn:0,SampleIsDependedOn:0,
SampleHasRedundancy:0,IsNonSync:0}}var a=c.utils,h=c.events,d=h.EventDispatcher,b=h.Event,f=h.MediaEvent;c=c.AV.Codec;var n={SEQUENCE_HEADER:0,NALU:1,END_OF_SEQUENCE:2},m={SLICE:1,DPA:2,DPB:3,DPC:4,IDR_SLICE:5,SEI:6,SPS:7,PPS:8,AUD:9,END_SEQUENCE:10,END_STREAM:11,FILLER_DATA:12,SPS_EXT:13,AUXILIARY_SLICE:19,FF_IGNORE:267448321};e.prototype=Object.create(d.prototype);e.prototype.constructor=e;e.prototype.kind="AVC";e.DataTypes=n;e.NAL=m;c.register(e)})(playease);
(function(c){function e(){var a=this,b;a.parse=function(e){b=e;a.CpbCnt=b.ReadUE()+1;if(32<a.CpbCnt)throw{name:"DataError",message:"Invalid HRD.CpbCnt "+a.CpbCnt+"."};a.BitRateScale=b.ReadBits(4);a.CpbSizeScale=b.ReadBits(4);for(e=0;e<a.CpbCnt;e++)a.BitRateValue[e]=b.ReadUE(),a.CpbSizeValue[e]=b.ReadUE(),a.CbrFlag|=b.ReadBits(1)<<e;a.InitialCpbRemovalDelayLength=_b.ReadBits(5)+1;a.CpbRemovalDelayLength=b.ReadBits(5)+1;a.DpbOutputDelayLength=b.ReadBits(5)+1;a.TimeOffsetLength=b.ReadBits(5)};a.CpbCnt=
0;a.BitRateScale=0;a.CpbSizeScale=0;a.BitRateValue=Array(32);a.CpbSizeValue=Array(32);a.CbrFlag=0;a.InitialCpbRemovalDelayLength=0;a.CpbRemovalDelayLength=0;a.DpbOutputDelayLength=0;a.TimeOffsetLength=0}function a(){var a=this,d;a.parse=function(b){d=b;a.AspectRatioInfoPresentFlag=d.ReadBits(1);if(0!==a.AspectRatioInfoPresentFlag)if(a.AspectRatioIdc=d.ReadBits(8),255===a.AspectRatioIdc)a.Sar.Num=d.ReadBits(16),a.Sar.Den=d.ReadBits(16);else if(a.AspectRatioIdc<n.length)a.Sar=n[a.AspectRatioIdc];else throw{name:"DataError",
message:"Illegal aspect ratio."};else a.Sar.Num=0,a.Sar.Den=0;a.OverscanInfoPresentFlag=d.ReadBits(1);0!==a.OverscanInfoPresentFlag&&(a.OverscanAppropriateFlag=d.ReadBits(1));a.VideoSignalTypePresentFlag=d.ReadBits(1);0!==a.VideoSignalTypePresentFlag&&(a.VideoFormat=d.ReadBits(3),a.VideoFullRangeFlag=d.ReadBits(1),a.ColourDescriptionPresentFlag=d.ReadBits(1),0!==a.ColourDescriptionPresentFlag&&(a.ColourPrimaries=d.ReadBits(8),a.TransferCharacteristics=d.ReadBits(8),a.MatrixCoefficients=d.ReadBits(8),
a.ColourPrimaries>=f.COL_PRI_NB&&(a.ColourPrimaries=f.COL_PRI_UNSPECIFIED),a.TransferCharacteristics>=f.COL_TRC_NB&&(a.TransferCharacteristics=f.COL_TRC_UNSPECIFIED),a.MatrixCoefficients>=f.COL_SPC_NB&&(a.MatrixCoefficients=f.COL_SPC_UNSPECIFIED)));a.ChromaLocInfoPresentFlag=d.ReadBits(1);0!==a.ChromaLocInfoPresentFlag&&(a.ChromaSampleLocTypeTopField=d.ReadUE(),a.ChromaSampleLocTypeBottomField=d.ReadUE());if(0!==d.ReadBits(1)&&10>d.Left())throw{name:"DataError",message:"Truncated VUI."};a.TimingInfoPresentFlag=
d.ReadBits(1);if(0!==a.TimingInfoPresentFlag){a.NumUnitsInTick=d.ReadBitsLong(32);a.TimeScale=d.ReadBitsLong(32);if(0===a.NumUnitsInTick||0===a.TimeScale)h.debug("time_scale/num_units_in_tick invalid or unsupported "+a.TimeScale+"/"+a.NumUnitsInTick),a.TimingInfoPresentFlag=0;a.FixedFrameRateFlag=d.ReadBits(1)}a.NalHrdParametersPresentFlag=d.ReadBits(1);0!==a.NalHrdParametersPresentFlag&&a.NalHrd.parse(d);a.VclHrdParametersPresentFlag=d.ReadBits(1);0!==a.VclHrdParametersPresentFlag&&a.VclHrd.parse(d);
if(0!==a.NalHrdParametersPresentFlag||0!==a.VclHrdParametersPresentFlag)a.LowDelayHrdFlag=d.ReadBits(1);a.PicStructPresentFlag=d.ReadBits(1);if(0!==d.Left()&&(a.BitstreamRestrictionFlag=d.ReadBits(1),0!==a.BitstreamRestrictionFlag&&(a.MotionVectorsOverPicBoundariesFlag=d.ReadBits(1),a.MaxBytesPerPicDenom=d.ReadUE(),a.MaxBitsPerMbDenom=d.ReadUE(),a.Log2MaxMvLengthHorizontal=d.ReadUE(),a.Log2MaxMvLengthVertical=d.ReadUE(),a.MaxNumReorderFrames=d.ReadUE(),a.MaxDecFrameBuffering=d.ReadUE(),0>d.Left()&&
(a.MaxNumReorderFrames=0,a.BitstreamRestrictionFlag=0),16<a.MaxNumReorderFrames)))throw a.MaxNumReorderFrames=16,{name:"DataError",message:"Clipping illegal MaxNumReorderFrames "+a.MaxNumReorderFrames+"."};};a.AspectRatioInfoPresentFlag=0;a.AspectRatioIdc=0;a.Sar=new b;a.OverscanInfoPresentFlag=0;a.OverscanAppropriateFlag=0;a.VideoSignalTypePresentFlag=0;a.VideoFormat=0;a.VideoFullRangeFlag=0;a.ColourDescriptionPresentFlag=0;a.ColourPrimaries=0;a.TransferCharacteristics=0;a.MatrixCoefficients=0;a.ChromaLocInfoPresentFlag=
0;a.ChromaSampleLocTypeTopField=0;a.ChromaSampleLocTypeBottomField=0;a.TimingInfoPresentFlag=0;a.NumUnitsInTick=0;a.TimeScale=0;a.FixedFrameRateFlag=0;a.NalHrdParametersPresentFlag=0;a.NalHrd=new e;a.VclHrdParametersPresentFlag=0;a.VclHrd=new e;a.LowDelayHrdFlag=0;a.PicStructPresentFlag=0;a.BitstreamRestrictionFlag;a.MotionVectorsOverPicBoundariesFlag=0;a.MaxBytesPerPicDenom=0;a.MaxBitsPerMbDenom=0;a.Log2MaxMvLengthHorizontal=0;a.Log2MaxMvLengthVertical=0;a.MaxNumReorderFrames=0;a.MaxDecFrameBuffering=
0}var h=c.utils,d=h.Golomb;c=c.AV;var b=c.Rational,f=c.Codec;c=f.AVC;var n=[new b(0,1),new b(1,1),new b(12,11),new b(10,11),new b(16,11),new b(40,33),new b(24,11),new b(20,11),new b(32,11),new b(80,33),new b(18,11),new b(15,11),new b(64,33),new b(160,99),new b(4,3),new b(3,2),new b(2,1)];c.SPS=function(b){function e(a,b){return 0!==a&&0!==b&&(a+128)*(b+128)<h.MAX_INT32/8}var c=this,g;c.parse=function(a){if(4>a.byteLength)throw{name:"DataError",message:"Data not enough while parsing SPS."};c.Codec=
"avc1.";h.forEach(a.subarray(1,4),function(a,b){a=h.padStart(b.toString(16),2,"0");c.Codec+=a});a=h.ebsp2rbsp(a);g=new d(a);c.Data=a;g.ReadBits(8);c.ProfileIdc=g.ReadBits(8);c.ConstraintSetFlags=g.ReadBits(1)<<0;c.ConstraintSetFlags|=g.ReadBits(1)<<1;c.ConstraintSetFlags|=g.ReadBits(1)<<2;c.ConstraintSetFlags|=g.ReadBits(1)<<3;c.ConstraintSetFlags|=g.ReadBits(1)<<4;c.ConstraintSetFlags|=g.ReadBits(1)<<5;c.ReservedZero2Bits=g.ReadBits(2);c.LevelIdc=g.ReadBits(8);c.ID=g.ReadUE();if(32<=c.ID)throw{name:"DataError",
message:"SPS ID(0x"+c.ID.toString(16)+") out of range."};c.SeqScalingMatrixPresentFlag=0;c.Vui.VideoFullRangeFlag=1;c.Vui.MatrixCoefficients=f.COL_SPC_UNSPECIFIED;if(100===c.ProfileIdc||110===c.ProfileIdc||122===c.ProfileIdc||244===c.ProfileIdc||44===c.ProfileIdc||83===c.ProfileIdc||86===c.ProfileIdc||118===c.ProfileIdc||128===c.ProfileIdc||138===c.ProfileIdc||144===c.ProfileIdc){c.ChromaFormatIdc=g.ReadUE();if(3<c.ChromaFormatIdc)throw{name:"DataError",message:"Bad ChromaFormatIdc "+c.ChromaFormatIdc+
"."};if(3===c.ChromaFormatIdc&&(c.SeparateColourPlaneFlag=g.ReadBits(1),0!==c.SeparateColourPlaneFlag))throw{name:"DataError",message:"Separate color planes are not supported."};c.BitDepthLuma=g.ReadUE()+8;c.BitDepthChroma=g.ReadUE()+8;if(c.BitDepthChroma!==c.BitDepthLuma)throw{name:"DataError",message:"Different chroma and luma bit depth."};if(8>c.BitDepthLuma||14<c.BitDepthLuma||8>c.BitDepthChroma||14<c.BitDepthChroma)throw{name:"DataError",message:"Illegal bit depth value "+c.BitDepthLuma+", "+
c.BitDepthChroma+"."};c.TransformBypass=g.ReadBits(1);c.SeqScalingMatrixPresentFlag=g.ReadBits(1);if(0!==c.SeqScalingMatrixPresentFlag){a=8;3===c.ChromaFormatIdc&&(a+=4);for(var k=0;k<a;k++)if(0!=g.ReadBits(1)){var p=16;6<=k&&(p=64);for(var l=8,n=8,q=0;q<p;q++)n=g.ReadSE(),n=(l+n+256)%256,0!==n&&(l=n)}}}else c.ChromaFormatIdc=1,c.BitDepthLuma=8,c.BitDepthChroma=8;c.Log2MaxFrameNum=g.ReadUE()+4;if(4>c.Log2MaxFrameNum||16<c.Log2MaxFrameNum)throw{name:"DataError",message:"log2_max_frame_num_minus4("+
(c.Log2MaxFrameNum-4)+") out of range, expect 0-12."};c.PocType=g.ReadUE();if(0===c.PocType){if(c.Log2MaxPocLsb=g.ReadUE()+4,16<c.Log2MaxPocLsb)throw{name:"DataError",message:"log2_max_poc_lsb("+c.Log2MaxPocLsb+") is out of range."};}else if(1===c.PocType){c.DeltaPicOrderAlwaysZeroFlag=g.ReadBits(1);c.OffsetForNonRefPic=g.ReadUE();c.OffsetForTopToBottomField=g.ReadUE();c.NumRefFramesInPocCycle=g.ReadUE();a=c.OffsetForRefFrame.length;if(c.NumRefFramesInPocCycle>=a)throw{name:"DataError",message:"poc_cycle_length("+
c.NumRefFramesInPocCycle+") overflow."};for(k=0;k<c.NumRefFramesInPocCycle;k++)c.OffsetForRefFrame[k]=g.ReadUE()}else if(2!==c.PocType)throw{name:"DataError",message:"Illegal POC type "+c.PocType+"."};c.MaxNumRefFrames=g.ReadUE();if(34<c.MaxNumRefFrames||16<c.MaxNumRefFrames)throw{name:"DataError",message:"Too many reference frames, "+c.MaxNumRefFrames+"."};c.GapsInFrameNumValueAllowedFlag=g.ReadBits(1);c.PicWidth=g.ReadUE()+1;c.PicHeight=g.ReadUE()+1;if(c.PicWidth>=h.MAX_INT32/16||c.PicHeight>=h.MAX_INT32/
16||!1===e(16*c.PicWidth,16*c.PicHeight))throw{name:"DataError",message:"pic_width or pic_height overflow."};c.FrameMbsOnlyFlag=g.ReadBits(1);c.MbAdaptiveFrameFieldFlag=0===c.FrameMbsOnlyFlag?g.ReadBits(1):0;b.CodecWidth=16*c.PicWidth;b.CodecHeight=16*c.PicHeight*(2-c.FrameMbsOnlyFlag);c.Direct8x8InferenceFlag=g.ReadBits(1);c.FrameCroppingFlag=g.ReadBits(1);if(0!==c.FrameCroppingFlag){var x;a=g.ReadUE();k=g.ReadUE();p=g.ReadUE();l=g.ReadUE();1===c.ChromaFormatIdc&&(x=1);if(1===c.ChromaFormatIdc||
2===c.ChromaFormatIdc)var m=1;m=1<<m;x=2-c.FrameMbsOnlyFlag<<x;if(a>h.MAX_INT32/4/m||k>h.MAX_INT32/4/m||p>h.MAX_INT32/4/x||l>h.MAX_INT32/4/x||(a+k)*m>=b.CodecWidth||(p+l)*x>=b.CodecHeight)throw{name:"DataError",message:"Invalid crop values, l="+a+", r="+k+", t="+p+", b="+l+", w="+b.CodecWidth+", h="+b.CodecHeight+"."};c.FrameCropLeftOffset=a*m;c.FrameCropRightOffset=k*m;c.FrameCropTopOffset=p*x;c.FrameCropBottomOffset=l*x}else c.FrameCropLeftOffset=0,c.FrameCropRightOffset=0,c.FrameCropTopOffset=
0,c.FrameCropBottomOffset=0;c.VuiParametersPresentFlag=g.ReadBits(1);0!==c.VuiParametersPresentFlag&&(c.Vui.parse(g),0!==c.Vui.TimingInfoPresentFlag&&(b.FrameRate.Num=c.Vui.TimeScale,b.FrameRate.Den=2*c.Vui.NumUnitsInTick));b.CodecWidth-=c.FrameCropLeftOffset+c.FrameCropRightOffset;b.CodecHeight-=c.FrameCropTopOffset+c.FrameCropBottomOffset;b.Width=b.CodecWidth;b.Height=b.CodecHeight;1<c.Vui.Sar.Den&&(b.Width*=c.Vui.Sar.Num/c.Vui.Sar.Den)};c.ProfileIdc=0;c.ConstraintSetFlags=0;c.ReservedZero2Bits=
0;c.LevelIdc=0;c.ID=0;c.ChromaFormatIdc=0;c.SeparateColourPlaneFlag=0;c.BitDepthLuma=0;c.BitDepthChroma=0;c.TransformBypass=0;c.SeqScalingMatrixPresentFlag=0;c.Log2MaxFrameNum=0;c.PocType=0;c.Log2MaxPocLsb=0;c.DeltaPicOrderAlwaysZeroFlag=0;c.OffsetForNonRefPic=0;c.OffsetForTopToBottomField=0;c.NumRefFramesInPocCycle=0;c.OffsetForRefFrame=Array(256);c.MaxNumRefFrames=0;c.GapsInFrameNumValueAllowedFlag=0;c.PicWidth=0;c.PicHeight=0;c.FrameMbsOnlyFlag=0;c.MbAdaptiveFrameFieldFlag=0;c.Direct8x8InferenceFlag=
0;c.FrameCroppingFlag=0;c.FrameCropLeftOffset=0;c.FrameCropRightOffset=0;c.FrameCropTopOffset=0;c.FrameCropBottomOffset=0;c.VuiParametersPresentFlag=0;c.Vui=new a}})(playease);
(function(c){var e=c.utils,a=e.Golomb;c.AV.Codec.AVC.PPS=function(c){var d=this,b;d.parse=function(c){c=e.ebsp2rbsp(c);b=new a(c);d.Data=c;d.ID=b.ReadUE();if(256<=d.ID)throw{name:"DataError",message:"PPS ID(0x"+d.ID.toString(16)+") out of range."};d.SpsID=b.ReadUE();if(32<=d.SpsID)throw{name:"DataError",message:"SPS ID(0x"+d.SpsID.toString(16)+") out of range."};if(14<f.BitDepthLuma)throw{name:"DataError",message:"Invalid BitDepthLuma "+f.BitDepthLuma+"."};if(11===f.BitDepthLuma||13===f.BitDepthLuma)throw{name:"DataError",
message:"Unimplemented BitDepthLuma "+f.BitDepthLuma+"."};d.EntropyCodingModeFlag=b.ReadBits(1);d.PicOrderPresentFlag=b.ReadBits(1);d.NumSliceGroups=b.ReadUE()+1;1<d.NumSliceGroups&&(d.SliceGroupMapType=b.ReadUE(),e.debug("FMO not supported!"));d.NumRefIdx[0]=b.ReadUE()+1;d.NumRefIdx[1]=b.ReadUE()+1;if(31<d.NumRefIdx[0]-1||31<d.NumRefIdx[1]-1)throw{name:"DataError",message:"PPS reference overflow."};c=6*(f.BitDepthLuma-8);d.WeightedPredFlag=b.ReadBits(1);d.WeightedBipredIdc=b.ReadBits(2);d.PicInitQp=
b.ReadSE()+26+c;d.PicInitQs=b.ReadSE()+26+c;d.ChromaQpIndexOffset[0]=b.ReadSE();d.DeblockingFilterControlPresentFlag=b.ReadBits(1);d.ConstrainedIntraPredFlag=b.ReadBits(1);d.RedundantPicCntPresentFlag=b.ReadBits(1);d.Transform8x8ModeFlag=0;if(c=0<b.Left())66!==f.ProfileIdc&&77!==f.ProfileIdc&&88!==f.ProfileIdc||0===(f.ConstraintSetFlags&7)?c=!0:(e.debug("Current profile doesn't provide more RBSP data in PPS, skipping..."),c=!1);c?(d.Transform8x8ModeFlag=b.ReadBits(1),d.PicScalingMatrixPresentFlag=
b.ReadBits(1),0!==d.PicScalingMatrixPresentFlag&&(c=2,3===f.ChromaFormatIdc&&(c=6),b.ReadBits(6+c*d.Transform8x8ModeFlag)),d.ChromaQpIndexOffset[1]=b.ReadSE()):d.ChromaQpIndexOffset[1]=d.ChromaQpIndexOffset[0];d.ChromaQpIndexOffset[0]!==d.ChromaQpIndexOffset[1]&&(d.ChromaQpDiff=1)};var f=c;d.ID=0;d.SpsID=0;d.EntropyCodingModeFlag=0;d.PicOrderPresentFlag=0;d.NumSliceGroups=0;d.SliceGroupMapType=0;d.NumRefIdx=Array(2);d.WeightedPredFlag=0;d.WeightedBipredIdc=0;d.PicInitQp=0;d.PicInitQs=0;d.ChromaQpIndexOffset=
Array(2);d.DeblockingFilterControlPresentFlag=0;d.ConstrainedIntraPredFlag=0;d.RedundantPicCntPresentFlag=0;d.Transform8x8ModeFlag=0;d.PicScalingMatrixPresentFlag=0;d.ChromaQpDiff=0}})(playease);
(function(c){function e(a,b){d.call(this,"MediaStreamTrack");var c=this;c.stop=function(){};c.clone=function(){return new e(c.kind,c.source)};c.id=0;c.sn=0;c.kind=a;c.source=b}var a=c.utils,h=c.events,d=h.EventDispatcher,b=h.Event,f=h.MediaStreamTrackEvent;c=c.AV;var n=c.Information,m={},t=[];m.register=function(b,c){try{t.splice(c||t.length,0,b),m[b.prototype.kind]=b}catch(v){a.error("Failed to register format "+b.prototype.kind+", Error="+v.message)}};m.get=function(a){for(var b=0;b<t.length;b++){var c=
t[b];if(c.prototype.kind===a)return c}return null};e.KindAudio="audio";e.KindVideo="video";m.MediaStreamTrack=e;m.MediaStream=function(){d.call(this,"MediaStream",null,f,[b.ERROR]);var c=this;c.addTrack=function(b){for(var d=0;d<h.length;d++)if(h[d]===b){a.warn("MediaStreamTrack already added.");return}b.id=g++;h.push(b);a.log("Added "+b.kind+" track("+b.id+") to "+c.kind+".");c.dispatchEvent(f.ADDTRACK,{track:b})};c.removeTrack=function(b){for(var d=0;d<h.length;d++)if(h[d]===b){h.splice(d,1);a.log("Removed "+
b.kind+" track("+b.id+") to "+c.kind+".");c.dispatchEvent(f.REMOVETRACK,{track:b});break}};c.getTrackById=function(a){for(var b=0;b<h.length;b++)if(h[b].id===a)return h[b];return null};c.getTracks=function(){var b=[];a.forEach(h,function(a,c){b.push(c)});return b};c.getAudioTracks=function(){var b=[];a.forEach(h,function(a,c){c.kind===e.KindAudio&&b.push(c)});return b};c.getVideoTracks=function(){var b=[];a.forEach(h,function(a,c){c.kind===e.KindVideo&&b.push(c)});return b};c.close=function(){a.forEach(h,
function(a,b){b.stop();c.dispatchEvent(f.REMOVETRACK,{track:b})});g=1;h=[];c.info=new n};var g=1;var h=[];c.info=new n};c.format=m.get;c.Format=m})(playease);
(function(c){function e(){function c(){p=g.f;e.hasAudio=!1;e.hasVideo=!1}m.call(this,"FLV");var e=this,p,l;e.append=function(c){c=new Uint8Array(c);for(var q=0;q<c.byteLength;q++)switch(p){case g.f:if(70!==c[q]){e.dispatchEvent(d.ERROR,{name:"DataError",message:'Not "F"'});return}p=g.l;break;case g.l:if(76!==c[q]){e.dispatchEvent(d.ERROR,{name:"DataError",message:'Not "L"'});return}p=g.v;break;case g.v:if(86!==c[q]){e.dispatchEvent(d.ERROR,{name:"DataError",message:'Not "V"'});return}p=g.version;
break;case g.version:p=g.flags;break;case g.flags:e.hasAudio=!!(c[q]&4);e.hasVideo=!!(c[q]&1);p=g.header0;break;case g.header0:p=g.header1;break;case g.header1:p=g.header2;break;case g.header2:p=g.header3;break;case g.header3:p=g.backpointer0;break;case g.backpointer0:p=g.backpointer1;break;case g.backpointer1:p=g.backpointer2;break;case g.backpointer2:p=g.backpointer3;break;case g.backpointer3:p=g.type;break;case g.type:l=new f.Packet;switch(c[q]){case t.AUDIO:l.kind=n.KindAudio;break;case t.VIDEO:l.kind=
n.KindVideo;break;case t.SCRIPT:l.kind=n.KindScript;break;default:e.dispatchEvent(d.ERROR,{name:"TypeError",message:"Unrecognized flv tag "+a.hex(c[q])+"."});return}p=g.length0;break;case g.length0:l.length=c[q]<<16;p=g.length1;break;case g.length1:l.length|=c[q]<<8;p=g.length2;break;case g.length2:l.length|=c[q];l.payload=new Uint8Array(l.length);l.position=0;p=g.timestamp0;break;case g.timestamp0:l.timestamp=c[q]<<16;p=g.timestamp1;break;case g.timestamp1:l.timestamp|=c[q]<<8;p=g.timestamp2;break;
case g.timestamp2:l.timestamp|=c[q];p=g.timestamp3;break;case g.timestamp3:l.timestamp|=c[q]<<24;p=g.streamid0;break;case g.streamid0:l.streamid=c[q]<<16;p=g.streamid1;break;case g.streamid1:l.streamid|=c[q]<<8;p=g.streamid2;break;case g.streamid2:l.streamid|=c[q];p=g.payload;break;case g.payload:var x=Math.min(l.length-l.position,c.byteLength-q);l.payload.set(c.subarray(q,q+x),l.position);l.position+=x;q+=x-1;if(l.position===l.length){switch(l.kind){case n.KindAudio:l.set("Format",l.payload[0]>>
4&15);l.set("SampleRate",l.payload[0]>>2&3);l.set("SampleSize",l.payload[0]>>1&1);l.set("SampleType",l.payload[0]&1);l.set("DataType",l.payload[1]);l.position=1;break;case n.KindVideo:l.set("FrameType",l.payload[0]>>4&15);l.set("Codec",l.payload[0]&15);l.set("DataType",l.payload[1]);l.set("Keyframe",l.get("FrameType")===k.KEYFRAME);l.position=1;break;case n.KindScript:l.position=0}e.dispatchEvent(b.PACKET,{packet:l});p=g.backpointer0}break;default:e.dispatchEvent(d.ERROR,{name:"InvalidStateError",
message:"Invalid state while parsing flv tag."});return}};e.reset=function(){c();e.close()};c()}var a=c.utils,h=c.events,d=h.Event,b=h.MediaEvent,f=c.AV,n=f.Packet;c=f.Format;var m=c.MediaStream,t={AUDIO:8,VIDEO:9,SCRIPT:18},k={KEYFRAME:1,INTER_FRAME:2,DISPOSABLE_INTER_FRAME:3,GENERATED_KEYFRAME:4,INFO_OR_COMMAND_FRAME:5},g={f:0,l:1,v:2,version:3,flags:4,header0:5,header1:6,header2:7,header3:8,backpointer0:9,backpointer1:10,backpointer2:11,backpointer3:12,type:13,length0:14,length1:15,length2:16,
timestamp0:17,timestamp1:18,timestamp2:19,timestamp3:20,streamid0:21,streamid1:22,streamid2:23,payload:24};e.prototype=Object.create(m.prototype);e.prototype.constructor=e;e.prototype.kind="FLV";e.Tags=t;e.Frames=k;e.Formats={LINEAR_PCM_PLATFORM_ENDIAN:0,ADPCM:1,MP3:2,LINEAR_PCM_LITTLE_ENDIAN:3,NELLYMOSER_16_kHz_MONO:4,NELLYMOSER_8_kHz_MONO:5,NELLYMOSER:6,G_711_A_LAW_LOGARITHMIC_PCM:7,G_711_MU_LAW_LOGARITHMIC_PCM:8,RESERVED:9,AAC:10,SPEEX:11,MP3_8_kHz:14,DEVICE_SPECIFIC_SOUND:15};e.Rates=[5500,11025,
22050,44100];e.Codecs={JPEG:1,H263:2,SCREEN_VIDEO:3,VP6:4,VP6_ALPHA:5,SCREEN_VIDEO_2:6,AVC:7};c.FLV=e})(playease);
(function(c){function e(){b.call(this,"FMP4");var a=this;a.append=function(b){a.dispatchEvent(h.ERROR,{name:"NotSupportedError",message:"The operation is not supported."})};a.getInitSegment=function(){var b=a.ftyp(),c=a.moov.apply(a,arguments);return e.merge(b,c)};a.getSegment=function(b,c){var f=b.source,g=c.get("DTS")-a.info.TimeBase-f.ExpectedDts;c.set("DTS",f.ExpectedDts);c.set("PTS",c.get("CTS")+c.get("DTS"));c.set("Duration",f.RefSampleDuration+g);f.ExpectedDts=c.get("DTS")+c.get("Duration");
b.kind===d.KindVideo&&(c.get("Keyframe")?(f.Flags.SampleDependsOn=2,f.Flags.SampleIsDependedOn=1):(f.Flags.SampleDependsOn=1,f.Flags.SampleIsDependedOn=0));b.sn++;b=a.moof(b,c);c=a.mdat(c.get("Data"));return e.merge(b,c)};a.box=function(a){for(var b=Array.prototype.slice.call(arguments,1),c=8,d=0;d<b.length;d++)c+=b[d].byteLength;var e=0,f=new Uint8Array(c);f[e++]=c>>>24&255;f[e++]=c>>>16&255;f[e++]=c>>>8&255;f[e++]=c&255;f.set(a,e);e+=4;for(d=0;d<b.length;d++)f.set(b[d],e),e+=b[d].byteLength;return f};
a.ftyp=function(){return a.box(f.ftyp,m)};a.moov=function(){for(var b=[],c=[],d=a.mvhd(),e=Array.prototype.slice.call(arguments,0),g=0;g<e.length;g++){var l=e[g],k=a.trak(l);l=a.trex(l);b.push(k);c.push(l)}c=a.box.apply(a,[f.mvex].concat(c));return a.box.apply(a,[f.moov].concat([d],b,[c]))};a.mvhd=function(){var b=a.info.Timescale,c=1E3*a.info.Duration;return a.box(f.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,b>>24&255,b>>16&255,b>>8&255,b&255,c>>24&255,c>>16&255,c>>8&255,c&255,0,1,0,0,1,0,0,0,
0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))};a.trak=function(b){var c=a.tkhd(b);b=a.mdia(b);return a.box(f.trak,c,b)};a.tkhd=function(b){b=b.id;var c=1E3*a.info.Duration,d=a.info.Width,e=a.info.Height;return a.box(f.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,b>>24&255,b>>16&255,b>>8&255,b&255,0,0,0,0,c>>24&255,c>>16&255,c>>8&255,c&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,d>>8&255,d&255,0,0,e>>8&255,e&255,0,0]))};a.mdia=function(b){var c=a.mdhd(),d=a.hdlr(b);b=a.minf(b);return a.box(f.mdia,c,d,b)};a.mdhd=function(){var b=a.info.Timescale,c=1E3*a.info.Duration;return a.box(f.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,b>>24&255,b>>16&255,b>>8&255,b&255,c>>24&255,c>>16&255,c>>8&255,c&255,85,196,0,0]))};a.hdlr=function(b){return a.box(f.hdlr,b.kind===d.KindAudio?k:t)};a.minf=function(b){var c=b.kind===d.KindAudio?
a.box(f.smhd,z):a.box(f.vmhd,l);var e=a.dinf();b=a.stbl(b);return a.box(f.minf,c,e,b)};a.dinf=function(){var b=a.box(f.dref,n);return a.box(f.dinf,b)};a.stbl=function(b){b=a.stsd(b);var c=a.box(f.stts,v),d=a.box(f.stsc,w),e=a.box(f.stsz,p),g=a.box(f.stco,STCO);return a.box(f.stbl,b,c,d,e,g)};a.stsd=function(b){return b.kind===d.KindAudio?a.box(f.stsd,g,a.mp4a(b)):a.box(f.stsd,g,a.avc1(b))};a.mp4a=function(b){var c=b.source.SamplingFrequency;c=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,b.source.ChannelConfiguration,
0,16,0,0,0,0,c>>>8&255,c&255,0,0]);b=a.esds(b);return a.box(f.mp4a,c,b)};a.esds=function(b){b=b.source.Config;var c=b.byteLength;c=new Uint8Array([0,0,0,0,3,23+c,0,1,0,4,15+c,64,21,0,0,0,0,0,0,0,0,0,0,0,5,c]);return a.box(f.esds,c,b,new Uint8Array([6,1,2]))};a.avc1=function(b){var c=a.info.CodecWidth,d=a.info.CodecHeight;c=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c>>8&255,c&255,d>>8&255,d&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,112,108,97,121,101,97,115,101,46,106,115,32,45,32,
118,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);b=a.box(f.avcC,b.source.AVCC);return a.box(f.avc1,c,b)};a.trex=function(b){b=b.id;return a.box(f.trex,new Uint8Array([0,0,0,0,b>>24&255,b>>16&255,b>>8&255,b&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))};a.moof=function(b,c){var d=a.mfhd(b);b=a.traf(b,c);return a.box(f.moof,d,b)};a.mfhd=function(b){b=b.sn;b=new Uint8Array([0,0,0,0,b>>24&255,b>>16&255,b>>8&255,b&255]);return a.box(f.mfhd,b)};a.traf=function(b,c){var d=b.id,e=c.get("DTS");d=a.box(f.tfhd,
new Uint8Array([0,0,0,0,d>>24&255,d>>16&255,d>>8&255,d&255]));e=a.box(f.tfdt,new Uint8Array([0,0,0,0,e>>24&255,e>>16&255,e>>8&255,e&255]));c=a.trun(b,c);b=a.sdtp(b);return a.box(f.traf,d,e,c,b)};a.trun=function(b,c){var d=c.get("Duration"),e=c.get("Data").byteLength;b=b.source.Flags;c=c.get("CTS");return a.box(f.trun,new Uint8Array([0,0,15,1,0,0,0,1,0,0,0,121,d>>24,d>>16,d>>8,d,e>>24,e>>16,e>>8,e,b.IsLeading<<2|b.SampleDependsOn,b.SampleIsDependedOn<<6|b.SampleHasRedundancy<<4|b.IsNonSync,0,0,c>>
24,c>>16,c>>8,c]))};a.sdtp=function(b){b=b.source.Flags;return a.box(f.sdtp,new Uint8Array([0,0,0,0,b.IsLeading<<6|b.SampleDependsOn<<4|b.SampleIsDependedOn<<2|b.SampleHasRedundancy]))};a.mdat=function(b){return a.box(f.mdat,b)};a.reset=function(){a.close()}}var a=c.utils,h=c.events.Event;c=c.AV.Format;var d=c.MediaStreamTrack,b=c.MediaStream,f={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],
stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),m=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),t=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),k=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),g=
new Uint8Array([0,0,0,0,0,0,0,1]),v=new Uint8Array([0,0,0,0,0,0,0,0]),w=STCO=v,p=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),l=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),z=new Uint8Array([0,0,0,0,0,0,0,0]);a.forEach(f,function(a,b){b.push(a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(3))});e.prototype=Object.create(b.prototype);e.prototype.constructor=e;e.prototype.kind="FMP4";e.merge=function(){for(var a=Array.prototype.slice.call(arguments,0),b=0,c=0;c<a.length;c++)b+=a[c].byteLength;
var d=0;b=new Uint8Array(b);for(c=0;c<a.length;c++)b.set(a[c],d),d+=a[c].byteLength;return b};e.parseDescriptor=function(a){a=new Uint8Array(a);for(var b=0,c={},d,e=0;e<a.byteLength;e++)switch(b){case 0:d={type:a[e],size:0,data:void 0};c[d.type]=d;b=1;break;case 1:case 2:case 3:case 4:var f=a[e];d&&(d.size=d.size<<7|f&127);f&128?b++:b=5;break;case 5:d&&(d.data=a.subarray(e,e+d.size),e+=d.size-1);b=0;break;default:throw{name:"InvalidStateError",message:"Invalid state while parsing fmp4 descriptor."};
}return c};c.FMP4=e})(playease);(function(c){var e=c.utils,a={},h=[];a.register=function(c,b){try{h.splice(b||h.length,0,c),a[c.prototype.kind]=c}catch(f){e.error("Failed to register module "+c.prototype.kind+", Error="+f.message)}};a.get=function(a,b){for(var c=0;c<h.length;c++){var d=h[c];if(d.prototype.isSupported(a,b))return d}return null};c.module=a.get;c.Module=a})(playease);
(function(c){function e(b){n.call(this,"SRC",null,m,t);var c=this,d;c.setup=function(){!1===e&&(e=!0,c.dispatchEvent(m.READY,{kind:c.kind}))};c.play=function(b,e){"string"===a.typeOf(b)&&b!==d&&b!==f.src&&(d=b,f.src=b);if(b=f.play())b["catch"](function(b){switch(b.name){case "AbortError":a.debug(b.name+": "+b.message);break;case "NotAllowedError":a.warn("Failed to play due to the autoplay policy, trying to play with muted.");f.muted=!0;f.play();break;default:a.error("Unrecognized error occured, "+
b.name+": "+b.message),c.dispatchEvent(m.STALLED,{name:b.name,message:b.message})}});f.controls=!1};c.pause=function(){f.pause();f.controls=!1};c.seek=function(a){f.currentTime=a;c.play()};c.stop=function(){e=!1;d=void 0;f.src=null;f.controls=!1};c.muted=function(b){"boolean"===a.typeOf(b)&&(f.muted=b);return f.muted};c.volume=function(b){"number"===a.typeOf(b)&&(f.volume=b);return f.volume};c.cleanup=function(){c.stop();e=!1};c.element=function(){return f};c.config=b;var e=!1;var f=a.createElement("video");
f.addEventListener("play",c.forward);f.addEventListener("loadstart",c.forward);f.addEventListener("waiting",c.forward);f.addEventListener("stalled",c.forward);f.addEventListener("abort",c.forward);f.addEventListener("timeout",c.forward);f.addEventListener("durationchange",function(a){c.dispatchEvent(m.DURATIONCHANGE,{duration:f.duration})});f.addEventListener("loadedmetadata",c.forward);f.addEventListener("loadeddata",c.forward);f.addEventListener("progress",c.forward);f.addEventListener("canplay",
c.forward);f.addEventListener("playing",c.forward);f.addEventListener("canplaythrough",c.forward);f.addEventListener("suspend",c.forward);f.addEventListener("pause",c.forward);f.addEventListener("seeking",c.forward);f.addEventListener("seeked",c.forward);f.addEventListener("ratechange",c.forward);f.addEventListener("timeupdate",function(a){a=f.buffered;c.dispatchEvent(m.TIMEUPDATE,{start:a.length?a.start(0):0,time:f.currentTime,buffered:a.length?a.end(a.length-1):0,duration:f.duration})});f.addEventListener("volumechange",
function(a){c.dispatchEvent(m.VOLUMECHANGE,{muted:f.muted,volume:f.volume})});f.addEventListener("load",c.forward);f.addEventListener("ended",c.forward);f.addEventListener("error",function(a){c.dispatchEvent(m.ERROR,{name:{1:"AbortError",2:"NetworkError",3:"EncodingError",4:"NotSupportedError"}[f.error.code],message:f.error.message})});c.config.objectfit&&h.style(f,{"object-fit":c.config.objectfit});c.config.airplay&&f.setAttribute("x-webkit-airplay","allow");c.config.playsinline&&(f.setAttribute("playsinline",
"isiPhoneShowPlaysinline"),f.setAttribute("webkit-playsinline","isiPhoneShowPlaysinline"),f.setAttribute("x5-playsinline",""),f.setAttribute("x5-video-player-type","h5-page"),f.setAttribute("x5-video-player-fullscreen",!0),f.setAttribute("t7-video-player-type","inline"));c.config.preload&&(f.preload=c.config.preload);f.muted=c.config.muted;f.volume=c.config.volume}var a=c.utils,h=a.css,d=c.OS,b=c.Browser,f=c.events,n=f.EventDispatcher,m=f.Event,t=f.IOEvent;c=c.Module;e.prototype=Object.create(n.prototype);
e.prototype.constructor=e;e.prototype.kind="SRC";e.prototype.isSupported=function(c,e){if(b.isMSIE&&9>b.major)return!1;c=new a.URL(c);if("http:"!==c.protocol&&"https:"!==c.protocol)return!1;e="m3u8 m3u hls mp4 f4v m4v mov m4a f4a aac ogv ogg mp3 oga webm".split(" ");var f="mp4 f4v m4v mov m4a f4a aac ogv ogg mp3 oga webm".split(" ");e=d.isMobile||d.isMac?e:f;for(f=0;f<e.length;f++)if(c.filetype===e[f])return!0;return!1};c.register(e)})(playease);
(function(c){function e(b){function d(b){a.log("MediaSource.onsourceopen");ra=new Date;ca=da=NaN;ea=sa=0;ta.start();E.load(R)}function e(b){a.log("MediaSource.onsourceended")}function M(b){a.log("MediaSource.onsourceclose")}function U(b){a.log("MediaSource.onsourceerror");u.dispatchEvent(n.ERROR,{name:err.name,message:err.message})}function Q(b){ha();var d;b.loader&&"auto"!==b.loader.name&&(d=v[b.loader.name]);null!=d&&d.prototype.isSupported(R,u.config.mode)||(d=c.io(R,u.config.mode));if(null==d)throw{name:"NotSupportedError",
message:"No supported io found."};E=new d(b.loader);E.addEventListener(m.LOADSTART,u.forward);E.addEventListener(m.STALLED,u.forward);E.addEventListener(m.ABORT,S);E.addEventListener(m.TIMEOUT,S);E.addEventListener(m.PROGRESS,ia);E.addEventListener(m.SUSPEND,u.forward);E.addEventListener(m.LOAD,u.forward);E.addEventListener(m.LOADEND,r);E.addEventListener(n.ERROR,S);a.log(E.kind+" loader initialized.")}function ha(){E&&(E.removeEventListener(m.LOADSTART,u.forward),E.removeEventListener(m.STALLED,
u.forward),E.removeEventListener(m.ABORT,S),E.removeEventListener(m.TIMEOUT,S),E.removeEventListener(m.PROGRESS,ia),E.removeEventListener(m.SUSPEND,u.forward),E.removeEventListener(m.LOAD,u.forward),E.removeEventListener(m.LOADEND,r),E.removeEventListener(n.ERROR,S),E.abort())}function ia(b){a.debug("progress: "+b.data.loaded+"/"+b.data.total);sa+=b.data.loaded;ea+=b.data.loaded;u.dispatchEvent(k.STATSUPDATE,{stats:{LoadedBytes:a.formatBytes(sa)}});C.append(b.data.buffer)}function S(a){u.forward(a)}
function ja(b){b=b.data.packet;switch(b.kind){case p.KindVideo:if(b.get("Codec")!==D.AVC){u.dispatchEvent(n.ERROR,{name:"NotSupportedError",message:"Video codec "+a.hex(b.get("Codec"))+" not supported."});break}var c=C.getVideoTracks()[0];if(b.get("DataType")===l.AVC.DataTypes.SEQUENCE_HEADER){if(c){a.warn("Video track already exists, ignored.");break}c=new l.AVC(C.info);c=new q(q.KindVideo,c);C.addTrack(c)}else if(0<b.timestamp&&b.timestamp<C.info.VideoTimestamp){a.warn("Drops unordered video packet: "+
b.timestamp);break}isNaN(ca)&&(ca=(new Date).getTime()-ra.getTime(),u.dispatchEvent(k.STATSUPDATE,{stats:{FirstVideoFrame:(ca/1E3).toLocaleString()+" sec."}}));c.source.parse(b);break;case p.KindAudio:if(b.get("Format")!==x.AAC){u.dispatchEvent(n.ERROR,{name:"NotSupportedError",message:"Audio format "+a.hex(b.get("Format"))+" not supported."});break}c=C.getAudioTracks()[0];if(b.get("DataType")===l.AAC.DataTypes.SPECIFIC_CONFIG){if(c){a.warn("Audio track already exists, ignored.");break}c=new l.AAC(C.info);
c=new q(q.KindAudio,c);C.addTrack(c)}else if(0<b.timestamp&&b.timestamp<=C.info.AudioTimestamp){a.warn("Drops unordered audio packet: "+b.timestamp);break}isNaN(da)&&(da=(new Date).getTime()-ra.getTime(),u.dispatchEvent(k.STATSUPDATE,{stats:{FirstAudioFrame:(da/1E3).toLocaleString()+" sec."}}));c.source.parse(b);break;case p.KindScript:c=new w.Value;var d=w.decode(c,b.payload.buffer,b.position);c.key=c.get();d+=w.decode(c,b.payload.buffer,b.position+d);var e={};a.forEach(c.get(),function(a,b){e[b.key]=
b.get()});a.log(c.key+":",e);"onMetaData"===c.key&&ua(c);break;default:a.error("Unrecognized flv tag "+a.hex(b.kind)+".")}}function ka(a){a=a.data.track.clone();a.source.addEventListener(k.AVC_CONFIG_RECORD,la);a.source.addEventListener(k.AAC_SPECIFIC_CONFIG,Y);a.source.addEventListener(k.AVC_SAMPLE,Z);a.source.addEventListener(k.AAC_SAMPLE,L);a.source.addEventListener(k.END_OF_STREAM,r);a.source.addEventListener(n.ERROR,u.forward);K.addTrack(a)}function ma(a){a=K.getTrackById(a.data.track.id);a.source.removeEventListener(k.AVC_CONFIG_RECORD,
la);a.source.removeEventListener(k.AAC_SPECIFIC_CONFIG,Y);a.source.removeEventListener(k.AVC_SAMPLE,Z);a.source.removeEventListener(k.AAC_SAMPLE,L);a.source.removeEventListener(k.END_OF_STREAM,r);a.source.removeEventListener(n.ERROR,u.forward);a.stop();K.removeTrack(a)}function ua(b){var c={MimeType:C.info.MimeType,Codecs:C.info.Codecs.join(", "),Timescale:C.info.Timescale},d={duration:"Duration",fileSize:"FileSize",width:"Width",height:"Height",framerate:"FrameRate",audiodatarate:"AudioDataRate",
videodatarate:"VideoDataRate",audiosamplerate:"SampleRate",audiosamplesize:"SampleSize",audiochannels:"Channels",stereo:"Stereo",encoder:"Encoder"};a.forEach(b.table,function(a,e){if(e=d[a]){switch(e){case "FrameRate":C.info.FrameRate.Num=b.table[a].get();C.info.FrameRate.Den=1;break;default:C.info[e]=b.table[a].get()}c[e]=b.table[a].get()}});u.dispatchEvent(k.INFOCHANGE,{info:c})}function la(a){a=K.getVideoTracks()[0];aa(a);var b=K.getInitSegment(a);O[a.kind].push(b);B(a.kind)}function Y(a){a=K.getAudioTracks()[0];
aa(a);var b=K.getInitSegment(a);O[a.kind].push(b);B(a.kind)}function Z(a){var b=K.getVideoTracks()[0];a=K.getSegment(b,a.data.packet);O[b.kind].push(a);B(b.kind)}function L(a){var b=K.getAudioTracks()[0];a=K.getSegment(b,a.data.packet);O[b.kind].push(a);B(b.kind)}function r(a){na=!0}function aa(b){var c=b.source;c=c.MimeType+'; codecs="'+c.Codec+'"';if(!1===MediaSource.isTypeSupported(c))a.warn(c+" not supported!");else if("closed"===H.readyState)u.dispatchEvent(n.ERROR,{name:"InvalidStateError",
message:"MediaSource is already closed while adding SourceBuffer."});else{a.log("Adding SourceBuffer: "+c);try{var d=H.addSourceBuffer(c);d.addEventListener("updateend",N);d.addEventListener("error",A);d.kind=b.kind;T[b.kind]=d}catch(va){a.error(va.name+": "+va.message)}u.dispatchEvent(k.INFOCHANGE,{info:{MimeType:C.info.MimeType,Codecs:C.info.Codecs.join(", "),Timescale:C.info.Timescale}})}}function B(b){if(C.hasAudio||C.hasVideo)if(C.hasAudio&&!T[q.KindAudio]||C.hasVideo&&!T[q.KindVideo])return;
var c=T[b];if(c&&!c.updating&&(b=O[b].shift()))try{c.appendBuffer(b)}catch(V){a.error(V.name+": "+V.message),u.dispatchEvent(n.ERROR,{name:V.name,message:V.message})}}function N(b){a.debug("SourceBuffer.onupdateend");b=b.target;if(!oa){var c=y.buffered;c.length&&(c=c.start(0),y.currentTime<c&&(y.currentTime=c,oa=!0,a.warn("Seems stalled, seeking to the available time "+c+".")))}if(na){if("open"!==H.readyState)return;if(!O[q.KindAudio].length&&!O[q.KindVideo].length){H.endOfStream();return}}if(1.1*
P[b.kind]>=u.config.maxPlaybackLength)try{b.remove(0,P[b.kind]-u.config.maxPlaybackLength/2),P[b.kind]=0}catch(wa){var d=y.buffered;c=d.length?d.start(0):0;var e=y.currentTime;d=d.length?d.end(d.length-1):0;a.log("Failed to remove "+b.kind+" buffer: updating="+b.updating+", start="+c+", time="+e+", buffered="+d+", duration="+y.duration)}else B(b.kind)}function A(b){a.error("SourceBuffer.onerror");u.dispatchEvent(n.ERROR,{name:"DataError",message:"SourceBuffer error occurs."})}function F(b){var c=
y.currentTime;a.forEach(P,function(a,b){P[a]=c})}function W(a){for(var b=0;b<I.length;b++)if(I[b]===a)return!0;return!1}f.call(this,"FLV",null,n,m);var u=this,pa,oa,E,ra,da,ca,sa,ea;u.setup=function(){!1===pa&&(pa=!0,u.dispatchEvent(n.READY,{kind:u.kind}))};u.play=function(b,c){if("string"===a.typeOf(b)&&(new a.URL(b)).href!==R.href){try{R.parse(b)}catch(V){a.error('Failed to parse url "'+b+'".');u.dispatchEvent(n.ERROR,{name:V.name,message:V.message});return}if(!W(R.hostname)){R=new a.URL;u.dispatchEvent(n.ERROR,
{name:J,message:G});return}na=!1;C.reset();K.reset();K.info=C.info;Q(c||{});y.src=URL.createObjectURL(H);y.load()}if(b=y.play())b["catch"](function(b){switch(b.name){case "AbortError":a.debug(b.name+": "+b.message);break;case "NotAllowedError":a.warn("Failed to play due to the autoplay policy, trying to play with muted.");y.muted=!0;y.play();break;default:a.error("Unrecognized error occured, "+b.name+": "+b.message),u.dispatchEvent(n.ERROR,{name:b.name,message:b.message})}});y.controls=!1};u.pause=
function(){y.pause();y.controls=!1};u.seek=function(a){y.currentTime=a;u.play()};u.stop=function(){qa.reset();ta.reset();E&&E.abort();a.forEach(T,function(a,b){b&&(b.removeEventListener("updateend",N),b.removeEventListener("error",A),H.removeSourceBuffer(b));T[a]=null});a.forEach(O,function(a,b){O[a]=[]});a.forEach(P,function(a,b){P[a]=0});na=oa=pa=!1;R=new a.URL;y.removeAttribute("src");y.controls=!1};u.muted=function(b){"boolean"===a.typeOf(b)&&(y.muted=b);return y.muted};u.volume=function(b){"number"===
a.typeOf(b)&&(y.volume=b);return y.volume};u.cleanup=function(){u.stop();qa.removeEventListener(t.TIMER,F);H.removeEventListener("sourceopen",d);H.removeEventListener("sourceended",e);H.removeEventListener("sourceclose",M);H.removeEventListener("error",U);H.removeEventListener("webkitsourceopen",d);H.removeEventListener("webkitsourceended",e);H.removeEventListener("webkitsourceclose",M);H.removeEventListener("webkiterror",U);C.close();C.removeEventListener(k.PACKET,ja);C.removeEventListener(g.ADDTRACK,
ka);C.removeEventListener(g.REMOVETRACK,ma);C.removeEventListener(n.ERROR,u.forward);K.close();K.removeEventListener(n.ERROR,u.forward);ha()};u.element=function(){return y};u.config=b;var na=oa=pa=!1;var R=new a.URL;new a.FileKeeper;var T={};T[q.KindAudio]=null;T[q.KindVideo]=null;var O={};O[q.KindAudio]=[];O[q.KindVideo]=[];var P={};P[q.KindAudio]=0;P[q.KindVideo]=0;var qa=new a.Timer(500*u.config.maxPlaybackLength);qa.addEventListener(t.TIMER,F);var ta=new a.Timer(1E3);ta.addEventListener(t.TIMER,
function(b){u.dispatchEvent(k.STATSUPDATE,{stats:{LoadingSpeed:a.formatBytes(ea)+"/sec."}});ea=0});var H=new (window.MediaSource||window.WebKitMediaSource);H.addEventListener("sourceopen",d);H.addEventListener("sourceended",e);H.addEventListener("sourceclose",M);H.addEventListener("error",U);H.addEventListener("webkitsourceopen",d);H.addEventListener("webkitsourceended",e);H.addEventListener("webkitsourceclose",M);H.addEventListener("webkiterror",U);var C=new z.FLV;C.addEventListener(k.PACKET,ja);
C.addEventListener(g.ADDTRACK,ka);C.addEventListener(g.REMOVETRACK,ma);C.addEventListener(n.ERROR,u.forward);var K=new z.FMP4;K.addEventListener(n.ERROR,u.forward);var y=a.createElement("video");y.addEventListener("play",u.forward);y.addEventListener("loadstart",u.forward);y.addEventListener("waiting",u.forward);y.addEventListener("stalled",u.forward);y.addEventListener("abort",u.forward);y.addEventListener("timeout",u.forward);y.addEventListener("durationchange",function(a){"live"!==u.config.mode||
isNaN(u.config.maxPlaybackLength)||qa.start();u.dispatchEvent(n.DURATIONCHANGE,{duration:y.duration});u.dispatchEvent(k.INFOCHANGE,{info:{Duration:y.duration}})});y.addEventListener("loadedmetadata",u.forward);y.addEventListener("loadeddata",u.forward);y.addEventListener("progress",u.forward);y.addEventListener("canplay",u.forward);y.addEventListener("playing",u.forward);y.addEventListener("canplaythrough",u.forward);y.addEventListener("suspend",u.forward);y.addEventListener("pause",u.forward);y.addEventListener("seeking",
u.forward);y.addEventListener("seeked",u.forward);y.addEventListener("ratechange",u.forward);y.addEventListener("timeupdate",function(a){a=y.buffered;u.dispatchEvent(n.TIMEUPDATE,{start:a.length?a.start(0):0,time:y.currentTime,buffered:a.length?a.end(a.length-1):0,duration:y.duration});a=y.getVideoPlaybackQuality();u.dispatchEvent(k.STATSUPDATE,{stats:{DroppedVideoFrames:a.droppedVideoFrames.toLocaleString(),TotalVideoFrames:a.totalVideoFrames.toLocaleString()}})});y.addEventListener("volumechange",
function(a){u.dispatchEvent(n.VOLUMECHANGE,{muted:y.muted,volume:y.volume})});y.addEventListener("load",u.forward);y.addEventListener("ended",u.forward);y.addEventListener("error",function(a){u.dispatchEvent(n.ERROR,{name:{1:"AbortError",2:"NetworkError",3:"EncodingError",4:"NotSupportedError"}[y.error.code],message:y.error.message})});u.config.objectfit&&h.style(y,{"object-fit":u.config.objectfit});u.config.airplay&&y.setAttribute("x-webkit-airplay","allow");u.config.playsinline&&(y.setAttribute("playsinline",
"isiPhoneShowPlaysinline"),y.setAttribute("webkit-playsinline","isiPhoneShowPlaysinline"),y.setAttribute("x5-playsinline",""),y.setAttribute("x5-video-player-type","h5-page"),y.setAttribute("x5-video-player-fullscreen",!0),y.setAttribute("t7-video-player-type","inline"));y.muted=u.config.muted;y.volume=u.config.volume}var a=c.utils,h=a.css,d=c.Browser,b=c.events,f=b.EventDispatcher,n=b.Event,m=b.IOEvent,t=b.TimerEvent,k=b.MediaEvent,g=b.MediaStreamTrackEvent,v=c.IO,w=a.AMF;b=c.AV;var p=b.Packet,l=
b.Codec,z=b.Format,q=z.MediaStreamTrack,x=z.FLV.Formats,D=z.FLV.Codecs;b=c.Module;var I=[String.fromCharCode(49,50,55,46,48,46,48,46,49),String.fromCharCode(115,116,117,100,101,97,115,101,46,99,110),String.fromCharCode(51,57,46,57,56,46,52,48,46,49,57,51),String.fromCharCode(119,119,119,46,99,97,114,45,101,121,101,46,99,110),String.fromCharCode(119,119,119,46,115,116,114,101,97,109,105,110,103,45,118,105,112,46,99,111,109),String.fromCharCode(49,50,48,46,55,54,46,50,51,53,46,49,48,57),String.fromCharCode(49,
50,48,46,55,57,46,54,55,46,49,48,50)],J=String.fromCharCode(83,101,99,117,114,105,116,121,69,114,114,111,114),G=String.fromCharCode(84,104,101,32,111,112,101,114,97,116,105,111,110,32,105,115,32,105,110,115,101,99,117,114,101,46);e.prototype=Object.create(f.prototype);e.prototype.constructor=e;e.prototype.kind="FLV";e.prototype.isSupported=function(b,c){if(d.isMSIE&&9>d.major||!window.MediaSource&&!window.WebKitMediaSource)return!1;b=new a.URL(b);if("http:"!==b.protocol&&"https:"!==b.protocol&&"ws:"!==
b.protocol&&"wss:"!==b.protocol)return!1;c=["flv","",void 0];for(var e=0;e<c.length;e++)if(b.filetype===c[e])return!0;return!1};b.register(e)})(playease);(function(c){c.core={}})(playease);
(function(c){var e=c.utils;c.core.Model=function(a){var h=this,d,b,f;h.definition=function(a){"number"===e.typeOf(a)&&a!==b&&a<h.config.sources.length&&(e.log("Model definition changed: "+a),b=a);return isNaN(b)?null:h.config.sources[b]};h.duration=function(a){"number"===e.typeOf(a)&&a!==f&&(e.log("Model duration changed: "+a),h.config.mode=Infinity===f||Infinity===a?"live":"vod",f=a);return f};h.state=function(a){"string"===e.typeOf(a)&&a!==d&&(e.log("playease("+h.config.id+") state changed: "+a),
d=a);return d};(function(){h.config=a;d="";f=NaN;"array"!==e.typeOf(h.config.sources)&&(h.config.sources=[]);h.config.file&&(h.config.sources=[{file:h.config.file,module:h.config.module,loader:h.config.loader}]);b=h.config.sources.length?0:NaN;for(var n=0;n<h.config.sources.length;n++){var m=h.config.sources[n];null==c.module(m.file,h.config.mode)?(e.warn("Ignored unsupported source url: "+m.file+"."),h.config.sources.splice(n--,1)):m["default"]&&(b=n)}0===h.config.sources.length&&e.warn("No supported source url provided.")})()}})(playease);
(function(c){function e(e,h){d.call(this,"View",null,b,f);var k=this,g;k.setup=function(b){void 0!==g&&(g.cleanup(),g.removeGlobalListener(k.forward),m.innerHTML="");try{g=new n[b](w.config),m.appendChild(g.element()),g.addGlobalListener(k.forward),g.muted(w.config.muted),g.volume(w.config.volume),g.setup()}catch(l){a.error("Failed to init module "+b+". "+l.name+": "+l.message)}};k.play=function(a,d){if(void 0===a){if(void 0===g){k.dispatchEvent(b.ERROR,{name:"NotFoundError",message:"Module not found while the source url doesn't provided."});
return}}else if(void 0===g||!g.isSupported(a,w.config.mode)){a=c.module(a,w.config.mode);if(null==a){k.dispatchEvent(b.ERROR,{name:"NotSupportedError",message:"No supported module found."});return}k.setup(a.prototype.kind);return}g.play(a,d)};k.pause=function(){g&&g.pause()};k.seek=function(a){g&&g.seek(a)};k.stop=function(){g&&g.stop()};k.muted=function(c){"boolean"===a.typeOf(c)&&(g?w.config.muted=g.muted(c):w.config.muted!==c&&(w.config.muted=c,k.dispatchEvent(b.VOLUMECHANGE,{muted:w.config.muted,
volume:w.config.volume})));return w.config.muted};k.volume=function(c){"number"===a.typeOf(c)&&(g?w.config.volume=g.volume(c):w.config.volume!==c&&(w.config.volume=c,k.dispatchEvent(b.VOLUMECHANGE,{muted:w.config.muted,volume:w.config.volume})));return w.config.volume};k.definition=function(c){"number"===a.typeOf(c)&&c!==w.definition()&&(c<w.config.sources.length?(w.definition(c),k.dispatchEvent(b.SWITCHING,{index:c})):k.dispatchEvent(b.ERROR,{name:"IndexSizeError",message:"The index is not in the allowed range."}));
return w.definition()};k.onSWFState=function(a){switch(a.state){case "buffering":k.dispatchEvent(b.WAITING);break;case "playing":k.dispatchEvent(b.PLAYING);break;case "paused":k.dispatchEvent(b.PAUSE);break;case "stopped":k.dispatchEvent(b.ENDED);break;case "error":k.dispatchEvent(b.ERROR,{name:err.name,message:"Flash plugin error occured."});break;default:k.dispatchEvent(b.ERROR,{name:"InvalidStateError",message:"Invalid state "+a.state+"."})}};k.element=function(){return g?g.element():null};k.resize=
function(a,b){};var m=e;var w=h}var a=c.utils,h=c.events,d=h.EventDispatcher,b=h.Event,f=h.IOEvent,n=c.Module;h=c.core;e.prototype=Object.create(d.prototype);e.prototype.constructor=e;h.View=e})(playease);
(function(c){function e(c,e){function k(a){p.state(a.type);g.forward(a)}d.call(this,"Controller",null,b,f);var g=this,h,m;g.play=function(a,c){if(void 0===a){if("pause"===p.state()){l.play();return}c=p.definition();if(null==c||!c.file){g.dispatchEvent(b.ERROR,{name:"NotFoundError",message:"No supported source url found."});return}a=c.file}h=a;m=c;l.play(h,m)};g.reload=function(){l.stop();g.play(h,m)};var p=c;var l=e;l.addEventListener(b.READY,function(b){a.log("playease("+c.config.id+') module "'+
b.data.kind+'" is ready.');k(b);g.play(h,m)});l.addEventListener(b.PLAY,k);l.addEventListener(f.SUSPEND,g.forward);l.addEventListener(f.LOADSTART,g.forward);l.addEventListener(f.STALLED,g.forward);l.addEventListener(b.WAITING,k);l.addEventListener(f.ABORT,g.forward);l.addEventListener(f.TIMEOUT,g.forward);l.addEventListener(b.DURATIONCHANGE,function(a){p.duration(a.data.duration);g.forward(a)});l.addEventListener(b.LOADEDMETADATA,g.forward);l.addEventListener(b.LOADEDDATA,g.forward);l.addEventListener(f.PROGRESS,
g.forward);l.addEventListener(b.CANPLAY,g.forward);l.addEventListener(b.PLAYING,k);l.addEventListener(b.CANPLAYTHROUGH,g.forward);l.addEventListener(b.PAUSE,k);l.addEventListener(b.SEEKING,k);l.addEventListener(b.SEEKED,g.forward);l.addEventListener(b.SWITCHING,function(b){var c=p.definition();a.log("Switching definition "+b.data.index+": "+c.file);var d=0,e=l.element();e&&(d=e.currentTime);k(b);g.play(c.file,c);l.seek(d)});l.addEventListener(b.SWITCHED,g.forward);l.addEventListener(b.RATECHANGE,
g.forward);l.addEventListener(b.TIMEUPDATE,g.forward);l.addEventListener(b.VOLUMECHANGE,g.forward);l.addEventListener(f.LOAD,g.forward);l.addEventListener(n.INFOCHANGE,g.forward);l.addEventListener(n.STATSUPDATE,g.forward);l.addEventListener(b.ENDED,k);l.addEventListener(b.ERROR,function(b){a.error(b.data.name+": "+b.data.message);l.stop();k(b)})}var a=c.utils,h=c.events,d=h.EventDispatcher,b=h.Event,f=h.IOEvent,n=h.MediaEvent;c=c.core;e.prototype=Object.create(d.prototype);e.prototype.constructor=
e;c.Controller=e})(playease);
(function(c){function e(b){function c(){d.play=g.play;d.pause=f.pause;d.seek=f.seek;d.stop=f.stop;d.reload=g.reload;d.muted=f.muted;d.volume=f.volume;d.definition=f.definition;d.element=f.element;d.duration=function(){return e.duration()};d.state=function(){return e.state()};d.dispatchEvent(m.BIND)}n.call(this,"API",{id:b},m,t);var d=this,e,f,g;d.setup=function(b,h){d.config=a.extendz({id:d.id},v,h);e=new k.Model(d.config);f=new k.View(b,e);g=new k.Controller(e,f);g.addGlobalListener(d.forward);c();
d.config.autoplay&&g.play()};d.id=b}var a=c.utils,h=c.OS,d=c.Kernel,b=c.Browser,f=c.events,n=f.EventDispatcher,m=f.Event,t=f.IOEvent,k=c.core,g={},v={airplay:"allow",autoplay:!1,dynamic:!1,bufferLength:.1,file:"",latency:"none",loop:!1,maxBufferLength:30,maxPlaybackLength:10,mode:"live",module:"",muted:!1,objectfit:"contain",playsinline:!0,preload:"none",smooth:!1,swf:"swf/playease.swf",volume:.8,loader:{name:"auto",mode:"cors",credentials:"omit"},sources:[]};a.log("Version: playease/"+c.VERSION);
a.log("OS: "+h.name+"/"+h.version+(h.model?"; "+h.model:""));a.log("Kernel: "+d.name+"/"+d.version);a.log("Browser: "+b.name+"/"+b.version);e.prototype=Object.create(n.prototype);e.prototype.constructor=e;e.prototype.CONF=v;e.get=function(a){void 0==a&&(a=0);var b=g[a];void 0==b&&(b=new e(a),g[a]=b);return b};c.API=e})(playease);
(function(c){function e(b){function c(){a.forEach(r.config.plugins,function(b,c){if("function"!==a.typeOf(e[c.kind]))a.error("Unrecognized plugin: index="+b+", kind="+c.kind+".");else if(!1===c.visibility)a.log("Component "+c.kind+" is disabled.");else{"Controlbar"!==c.kind||r.config.file||(c.sources=r.config.sources);try{var d=new e[c.kind](c);"function"===a.typeOf(d.addGlobalListener)&&d.addGlobalListener(G);B.appendChild(d.element());F[c.kind]=d}catch(E){a.error("Failed to initialize plugin: index="+
b+", kind="+c.kind+". Error="+E.message)}}})}function l(){B.setAttribute("mode",r.config.mode);B.setAttribute("state","");var a=F.Controlbar;a?(B.setAttribute("controls",a.config.autohide?"motion":"always"),a.config.autohide&&B.addEventListener("mousemove",M)):B.setAttribute("controls","never");(a=F.Danmu)&&B.setAttribute("danmu",a.config.enable?"on":"off");B.setAttribute("muted",r.config.muted);B.setAttribute("fullpage",!1);B.setAttribute("fullscreen",!1);F.ContextMenu&&(B.oncontextmenu=function(a){a=
a||window.event;a.preventDefault?a.preventDefault():a.returnValue=!1;return!1},document.addEventListener("mouseup",U),B.addEventListener("mouseup",U),document.addEventListener("mousedown",fa),B.addEventListener("mousedown",fa));document.addEventListener("fullscreenchange",J);document.addEventListener("webkitfullscreenchange",J);document.addEventListener("mozfullscreenchange",J);document.addEventListener("MSFullscreenChange",J)}function q(a){r.config=A.config;r.play=A.play;r.pause=A.pause;r.seek=A.seek;
r.stop=A.stop;r.reload=A.reload;r.muted=A.muted;r.volume=A.volume;r.definition=A.definition;r.element=A.element;r.duration=A.duration;r.state=A.state;r.forward(a)}function J(a){document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||r.fullscreen(!1)}function G(a){switch(a.type){case k.CHANGE:Q(a);break;case g.CLICK:ba(a);break;case g.DOUBLE_CLICK:X(a);break;default:r.forward(a)}}function Q(a){var b={timebar:function(){var b=A.duration();
b&&A.seek(b*a.data.value/100)},volumebar:function(){A.volume(a.data.value/100)},definition:function(){A.definition(parseInt(a.data.value))}}[a.data.name];b?b():r.forward(a)}function ba(a){var b={play:r.play,pause:r.pause,stop:r.stop,reload:r.reload,mute:function(){r.muted(!0)},unmute:function(){r.muted(!1)},danmuoff:function(){r.danmu(!1)},danmuon:function(){r.danmu(!0)},fullpage:function(){r.fullpage(!0)},exitfullpage:function(){r.fullpage(!1)},fullscreen:function(){r.fullscreen(!0)},exitfullscreen:function(){r.fullscreen(!1)},
info:function(){Y(a.data.name)},stats:function(){Y(a.data.name)}}[a.data.name];b?b():r.forward(a)}function X(a){var b={fullpage:function(){r.fullpage("true"!==B.getAttribute("fullpage"))},fullscreen:function(){r.fullscreen("true"!==B.getAttribute("fullscreen"))}}[a.data.name];b?b():r.forward(a)}function M(a){(a=F.Controlbar)&&d.style(a.element(),{visibility:"visible"});W.stop();W.start()}function U(a){var b=F.ContextMenu;if(void 0===a.currentTarget)for(var c=a.srcElement;c;c=c.offsetParent)if(c===
B){a.currentTarget=B;break}if(2===a.button&&a.currentTarget===B){var e=0,f=0;for(c=a.srcElement||a.target;c&&c!==B;c=c.offsetParent)e+=c.offsetLeft,f+=c.offsetTop;d.style(b.element(),{left:a.offsetX+e+"px",top:a.offsetY+f+"px",display:"block"});a.preventDefault?a.preventDefault():a.returnValue=!1;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;return!1}}function fa(a){d.style(F.ContextMenu.element(),{display:"none"})}function ha(a){L(a)}function ia(a){a.type=n.ENDED;L(a)}function S(a){B.setAttribute("mode",
r.config.mode);r.forward(a)}function ja(a){var b=F.Controlbar;b&&(b=b.components.definition)&&b.value(a.data.index);L(a)}function ka(b){var c=F.Controlbar;if(c){var d=c.components.timebar;d&&(d.duration=b.data.duration,d.progress(isNaN(b.data.duration)?0:b.data.buffered/b.data.duration*100),d.position(isNaN(b.data.duration)?0:b.data.time/b.data.duration*100));if(c=c.components.time){d=a.time2string(b.data.time);var e=a.time2string(b.data.duration);c.text(d+"/"+e)}}(c=F.Display)&&c.update("stats",
{SeekableRange:b.data.start+"/"+b.data.buffered+" sec.",Buffer:(b.data.buffered-b.data.time).toFixed(3).toLocaleString()+" sec."});r.forward(b)}function ma(a){var b=100*a.data.volume|0;B.setAttribute("muted",a.data.muted||!b);var c=F.Controlbar;c&&(c.resize(N.clientWidth,N.clientHeight),c=c.components.volumebar)&&(c.position(b),c.thumb(b));r.forward(a)}function ua(a){var b=F.Display;b&&b.update("info",a.data.info);r.forward(a)}function la(a){var b=F.Display;b&&b.update("stats",a.data.stats);r.forward(a)}
function Y(a){var b=F.Display;b&&b.show(a)}function Z(a){var b=F.Display;b&&b.error(a.data);a.type=n.ERROR;L(a);r.stop()}function L(a){B.setAttribute("state",a.type);var b=F.Display;b&&b.state(a.type);r.resize();r.forward(a)}f.call(this,"UI",{id:b},a.extendz({},n,m,t));var r=this,aa,B,N,A;r.setup=function(b,d){aa=b;"array"!==a.typeOf(d.plugins)&&(d.plugins=[]);b=[];for(var e=0;e<z.plugins.length;e++){var f=z.plugins[e],g=f.prototype.CONF;a:{for(var k=0;k<d.plugins.length;k++){var h=d.plugins[k];if(h.kind===
f.prototype.kind){f=h;break a}}f=null}b.push(a.extendz({},g,f))}r.config=a.extendz({id:r.id},p.prototype.CONF,z,d);r.config.plugins=b;B=a.createElement("div","pe-wrapper pe-ui-"+r.config.skin);N=a.createElement("div","pe-content");B.appendChild(N);aa.appendChild(B);A=p.get(r.id);A.addEventListener(n.BIND,q);A.addEventListener(n.READY,ha);A.addEventListener(n.PLAY,L);A.addEventListener(m.LOADSTART,r.forward);A.addEventListener(n.WAITING,L);A.addEventListener(m.STALLED,r.forward);A.addEventListener(m.ABORT,
ia);A.addEventListener(m.TIMEOUT,Z);A.addEventListener(n.DURATIONCHANGE,S);A.addEventListener(n.LOADEDMETADATA,r.forward);A.addEventListener(n.LOADEDDATA,r.forward);A.addEventListener(m.PROGRESS,r.forward);A.addEventListener(n.CANPLAY,r.forward);A.addEventListener(n.PLAYING,L);A.addEventListener(n.CANPLAYTHROUGH,r.forward);A.addEventListener(m.SUSPEND,r.forward);A.addEventListener(n.PAUSE,L);A.addEventListener(n.SEEKING,L);A.addEventListener(n.SEEKED,r.forward);A.addEventListener(n.SWITCHING,ja);
A.addEventListener(n.SWITCHED,r.forward);A.addEventListener(n.RATECHANGE,r.forward);A.addEventListener(n.TIMEUPDATE,ka);A.addEventListener(n.VOLUMECHANGE,ma);A.addEventListener(m.LOAD,r.forward);A.addEventListener(w.INFOCHANGE,ua);A.addEventListener(w.STATSUPDATE,la);A.addEventListener(n.ENDED,L);A.addEventListener(n.ERROR,Z);A.setup(N,r.config);c();l();r.resize()};r.danmu=function(a){B.setAttribute("danmu",a?"on":"off");var b=F.Controlbar;b&&b.resize(N.clientWidth,N.clientHeight);return(b=F.Danmu)?
b.enable(a):!1};r.shoot=function(a,b){var c=F.Danmu;c&&(c.shoot(a,b),r.dispatchEvent(t.SHOOTING,{text:a,data:b}))};r.displayAD=function(a){var b=F.AD;b&&b.display(a)};r.removeAD=function(){var a=F.AD;a&&a.remove()};r.fullpage=function(a){if(void 0===a)return"true"===B.getAttribute("fullpage");(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)&&r.fullscreen(!1);B.setAttribute("fullpage",!!a);r.resize();r.dispatchEvent(t.FULLPAGE,
{status:a})};r.fullscreen=function(b){if(void 0===b)return"true"===B.getAttribute("fullscreen");var c=A.element();if(b){var e=B.requestFullscreen||B.webkitRequestFullScreen||B.mozRequestFullScreen||B.msRequestFullscreen;if(h.isMobile){if(c&&c.webkitEnterFullscreen&&(c.setAttribute("x5-video-orientation","landscape"),c.webkitEnterFullscreen()),h.isIOS)return}else if(e){if(c=e.call(B))c["catch"](function(b){a.debug(b.name+": "+b.message)})}else{r.fullpage(b);return}}else if(e=document.exitFullscreen||
document.webkitCancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen){if(c&&c.setAttribute("x5-video-orientation","portraint"),c=e.call(document))c["catch"](function(b){a.debug(b.name+": "+b.message)})}else{r.fullpage(b);return}if(c=F.Controlbar)d.style(c.element(),{display:"block"}),b?c.config.autohide||(B.setAttribute("controls","motion"),B.addEventListener("mousemove",M)):c.config.autohide||(B.setAttribute("controls","always"),B.removeEventListener("mousemove",M),W.stop());
B.setAttribute("fullscreen",!!b);r.resize();r.dispatchEvent(t.FULLSCREEN,{status:b})};r.resize=function(){var b=N.clientWidth,c=N.clientHeight;if(""!==r.config.aspectratio){var d=r.config.aspectratio.match(/(\d+):(\d+)/);if("array"===a.typeOf(d)&&2<d.length){var e=parseInt(d[1]);d=parseInt(d[2]);c=b*d/e;"always"===B.getAttribute("controls")&&(c-=40)}}a.forEach(F,function(a,d){d.resize(b,c)});r.dispatchEvent(t.RESIZE,{width:b,height:c})};r.id=b;var F={};var W=new a.Timer(3E3,1);W.addEventListener(v.TIMER,
function(a){(a=F.Controlbar)&&d.style(a.element(),{visibility:"hidden"})})}var a=c.utils,h=c.OS,d=a.css,b=c.events,f=b.EventDispatcher,n=b.Event,m=b.IOEvent,t=b.UIEvent,k=b.GlobalEvent,g=b.MouseEvent,v=b.TimerEvent,w=b.MediaEvent,p=c.API,l={},z={aspectratio:"",skin:"classic",plugins:[]};e.prototype=Object.create(f.prototype);e.prototype.constructor=e;e.prototype.CONF=z;e.register=function(b,c){try{z.plugins.splice(c||z.plugins.length,0,b),e[b.prototype.kind]=b}catch(D){a.error("Failed to register plugin "+
b.prototype.kind+", Error="+D.message)}};e.get=function(a){null==a&&(a=0);var b=l[a];void 0===b&&(b=new e(a),l[a]=b);return b};c.ui=e.get;c.UI=e})(playease);(function(c){c.UI.components={}})(playease);
(function(c){function e(c,e){d.call(this,"Button",null,[b.CLICK]);var f=this;f.element=function(){return h};f.resize=function(a,b){};var h=a.createElement("span","pe-button "+c);h.addEventListener("click",function(a){f.dispatchEvent(b.CLICK,{name:c})})}var a=c.utils,h=c.events,d=h.EventDispatcher,b=h.MouseEvent;c=c.UI.components;e.prototype=Object.create(d.prototype);e.prototype.constructor=e;e.prototype.kind="Button";c.Button=e})(playease);
(function(c){function e(c,b){h.call(this,"Label");this.text=function(a){void 0!==a&&(e.innerHTML=a);return d};this.element=function(){return e};this.resize=function(a,b){};var d=b||"";var e=a.createElement("span","pe-label "+c);e.innerHTML=d}var a=c.utils,h=c.events.EventDispatcher;c=c.UI.components;e.prototype=Object.create(h.prototype);e.prototype.constructor=e;e.prototype.kind="Label";c.Label=e})(playease);
(function(c){function e(){d.call(this,"Preview",null,[b.CLICK]);this.append=function(b,c,d){var f=a.createElement("img");f.setAttribute("min",c);f.setAttribute("max",d||NaN);f.src=b;e.appendChild(f)};this.element=function(){return c};this.resize=function(a,b){};var c=a.createElement("div","pe-tooltip preview");var e=a.createElement("div");c.appendChild(e)}var a=c.utils,h=c.events,d=h.EventDispatcher,b=h.MouseEvent;c=c.UI.components;e.prototype=Object.create(d.prototype);e.prototype.constructor=e;
e.prototype.kind="Preview";c.Preview=e})(playease);
(function(c){function e(c,d){function e(a){a=a.target.getAttribute("value");a!==m&&k.dispatchEvent(f.CHANGE,{name:g,value:a});z.style.visibility="hidden"}b.call(this,"Select",null,[f.CHANGE]);var k=this,g,m,n,p,l,z;k.append=function(b,c){var d=a.createElement("span","pe-select-menu-option");d.addEventListener("click",e);d.setAttribute("value",c||n.length);d.innerHTML=b;n.push(d);z.appendChild(d);1===n.length&&k.value(d.getAttribute("value"))};k.remove=function(a){for(var b=0;b<n.length;b++){var c=
n[b];if(c.getAttribute("value")===a){c.removeEventListener("click",e);z.removeChild(c);n.splice(b,1);m===a&&(m=n.length||NaN,l.innerHTML=n.length?n[0].innerHTML:_placeholder);break}}};k.value=function(a){switch(typeof a){case "number":case "string":for(var b=0;b<n.length;b++){var c=n[b];if(c.getAttribute("value")==a){m=a;l.innerHTML=c.innerHTML;p.setAttribute("value",a);k.resize();break}}}return m};k.element=function(){return p};k.resize=function(a,b){h.style(z,{left:(p.clientWidth-z.clientWidth)/
2+"px"})};(function(){g=c;m=NaN;n=[];p=a.createElement("div","pe-select "+g);l=a.createElement("span","pe-select-text");z=a.createElement("div","pe-select-menu");z.style.visibility="hidden";p.appendChild(l);p.appendChild(z);l.addEventListener("click",function(a){z.style.visibility="hidden"===z.style.visibility?"visible":"hidden"})})()}var a=c.utils,h=a.css,d=c.events,b=d.EventDispatcher,f=d.GlobalEvent;c=c.UI.components;e.prototype=Object.create(b.prototype);e.prototype.constructor=e;e.prototype.kind=
"Select";c.Select=e})(playease);
(function(c){function e(b,c){function e(a){a.button===(h.isIE8?1:0)&&(a.target||(a.target=a.srcElement),I===a.target||I===a.target.parentNode||I===a.target.parentNode.parentNode)&&(a=p(a.clientX,a.clientY),a!==D.getAttribute("value")&&l.dispatchEvent(n.CHANGE,{name:z,value:a}),x=!0)}function k(a){var b=p(a.clientX,a.clientY);I!==a.target&&I!==a.target.parentNode&&I!==a.target.parentNode.parentNode||l.dispatchEvent(m.MOUSE_MOVE,{name:z,value:b});x&&b!==D.getAttribute("value")&&l.dispatchEvent(n.CHANGE,
{name:z,value:b})}function t(a){x&&(a=p(a.clientX,a.clientY),a!==D.getAttribute("value")&&l.dispatchEvent(n.CHANGE,{name:z,value:a}),x=!1)}function p(a,b){for(var c=I;c;c=c.offsetParent)a-=c.offsetLeft,b-=c.offsetTop;a="horizontal"===q?(a/I.clientWidth*100).toFixed(3):(b/I.clientHeight*100).toFixed(3);return a=Math.max(0,Math.min(a,100))}f.call(this,"Slider",null,[n.CHANGE,m.MOUSE_MOVE]);var l=this;l.value=function(a){void 0!==a&&(J.innerHTML=a);return J.innerHTML};l.progress=function(a){d.style(Q,
{width:a+"%"})};l.position=function(a){D.setAttribute("value",a);d.style(ba,{width:a+"%"})};l.thumb=function(a){d.style(X,{left:a+"%"})};l.element=function(){return D};l.nonius=function(){return J};l.resize=function(a,b){};var z=b;var q="horizontal";var x=!1;var D=a.createElement("div","pe-slider "+z);var I=a.createElement("div","pe-slider-content");var J=a.createElement("span","pe-tooltip value");var G=a.createElement("span","pe-slider-rail background");var Q=a.createElement("span","pe-slider-rail progress");
var ba=a.createElement("span","pe-slider-rail position");var X=a.createElement("span","pe-slider-thumb");X.innerHTML="<span></span>";I.appendChild(J);I.appendChild(G);I.appendChild(Q);I.appendChild(ba);I.appendChild(X);D.appendChild(I);switch(b){case "timebar":l.value("--:--");break;case "volumebar":l.value(c),l.position(c),l.thumb(c)}try{document.addEventListener("mousedown",e),document.addEventListener("mousemove",k),document.addEventListener("mouseup",t)}catch(M){document.attachEvent("onmousedown",
e),document.attachEvent("onmousemove",k),document.attachEvent("onmouseup",t)}}var a=c.utils,h=c.Browser,d=a.css,b=c.events,f=b.EventDispatcher,n=b.GlobalEvent,m=b.MouseEvent;c=c.UI.components;e.prototype=Object.create(f.prototype);e.prototype.constructor=e;e.prototype.kind="Slider";e.HORIZONTAL="horizontal";e.VERTICAL="vertical";c.Slider=e})(playease);
(function(c){function e(c,d){b.call(this,"Panel",null,[f.VISIBILITYCHANGE]);var e=this;e.update=function(b){g=a.extendz(g,b);var c="";a.forEach(g,function(a,b){c+=(c?"\n":"")+a+": "+b});n.innerHTML=c};e.clear=function(){g={};n.innerHTML=""};e.show=function(){"block"===m.style.display?e.hide():(h.style(m,{display:"block"}),e.dispatchEvent(f.VISIBILITYCHANGE,{name:k,state:"visible"}))};e.hide=function(){h.style(m,{display:"none"});e.dispatchEvent(f.VISIBILITYCHANGE,{name:k,state:"hidden"})};e.element=
function(){return m};e.resize=function(a,b){};var k=c;var g={};var m=a.createElement("div","pe-panel "+k);var n=a.createElement("div");m.appendChild(n)}var a=c.utils,h=a.css,d=c.events,b=d.EventDispatcher,f=d.GlobalEvent;c=c.UI.components;e.prototype=Object.create(b.prototype);e.prototype.constructor=e;e.prototype.kind="Panel";c.Panel=e})(playease);
(function(c){function e(b){function c(b){a.log('Failed to load poster "'+m.src+'".')}d.call(this,"Poster");this.element=function(){return e};this.resize=function(a,b){};this.config=b;var e=a.createElement("div","pe-poster");var m=new Image;m.onload=function(a){e.appendChild(m)};m.onabort=c;m.onerror=c;this.config.objectfit&&h.style(m,{"object-fit":this.config.objectfit});m.src=this.config.file}var a=c.utils,h=a.css,d=c.events.EventDispatcher;c=c.UI;e.prototype=Object.create(d.prototype);e.prototype.constructor=
e;e.prototype.kind="Poster";e.prototype.CONF={kind:"Poster",file:"image/poster.png",objectfit:"fill",visibility:!0};c.register(e)})(playease);
(function(c){function e(c){function d(a){g.removeChild(a.target)}b.call(this,"Danmu",null,[f.SHOOTING]);var e=this;e.enable=function(b){"boolean"===a.typeOf(b)&&(e.config.enable=b);return e.config.enable};e.shoot=function(b,c){if(e.config.enable){var f=a.createElement("div","pe-danmu-item");f.addEventListener("transitionend",d);f.innerHTML=b;g.appendChild(f);b=k.clientWidth+f.clientWidth;h.style(f,a.extendz({},c,{top:Math.floor(Math.random()*Math.floor(k.clientHeight/e.config.lineHeight))*e.config.lineHeight+
"px",left:k.clientWidth+"px",transform:"translateX(-"+b+"px)",transition:"transform "+b/e.config.speed+"s linear 0s"}))}};e.element=function(){return k};e.resize=function(a,b){};e.config=c;var k=a.createElement("div","pe-danmu");var g=a.createElement("div");k.appendChild(g)}var a=c.utils,h=a.css,d=c.events,b=d.EventDispatcher,f=d.UIEvent;c=c.UI;e.prototype=Object.create(b.prototype);e.prototype.constructor=e;e.prototype.kind="Danmu";e.prototype.CONF={kind:"Danmu",speed:100,lineHeight:32,enable:!0,
visibility:!0};c.register(e)})(playease);
(function(c){function e(c){b.call(this,"Display",null,[n.CLICK]);var d=this;d.state=function(a){switch(a){case f.WAITING:l.start();break;default:l.stop()}a!==f.ERROR&&d.error()};d.error=function(a){var b=d.components.error;b&&(a?(a.name=a.name||"UnknownError",a.message=a.message||"An unknown error occurred.",b.text(a.name+": "+a.message)):b.text(""))};d.update=function(a,b){(a=d.components[a])&&a.update(b)};d.clear=function(a){(a=d.components[a])&&a.clear()};d.show=function(b){a.forEach(d.components,
function(a,c){"Panel"===c.kind&&a!==b&&c.hide()});var c=d.components[b];c&&c.show()};d.hide=function(a){(a=d.components[a])&&a.hide()};d.element=function(){return e};d.resize=function(a,b){};d.config=c;d.components={};var e=a.createElement("div","pe-display");var g=a.createElement("div");g.addEventListener("click",function(a){a=(new Date).getTime();a<=z+700?(z=0,d.dispatchEvent(n.DOUBLE_CLICK,{name:d.config.ondoubleclick})):z=a});e.appendChild(g);(function(){for(var b;null!==(b=k.exec(d.config.layout));){var c=
void 0,e=void 0,f=g,h=b[1],l=b[2];try{e=new t[h](l,b[3]),"function"===a.typeOf(e.addGlobalListener)&&e.addGlobalListener(d.forward),c=e.element(),f.appendChild(c),d.components[l]=e}catch(Q){a.error("Failed to initialize component: type="+h+", name="+l+", Error="+Q.message)}}})();var l=new a.Timer(80);l.addEventListener(m.TIMER,function(a){a=30*l.currentCount()%360;var b=d.components.waiting;b&&h.style(b.element(),{filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation="+a*Math.PI/180+")",transform:"rotate("+
a+"deg)","-o-transform":"rotate("+a+"deg)","-ms-transform":"rotate("+a+"deg)","-moz-transform":"rotate("+a+"deg)","-webkit-transform":"rotate("+a+"deg)"})});var z=0}var a=c.utils,h=a.css,d=c.events,b=d.EventDispatcher,f=d.Event,n=d.MouseEvent,m=d.TimerEvent;c=c.UI;var t=c.components,k=/\[([a-z]+):([a-z]+)=([^\]]+)?\]/gi;e.prototype=Object.create(b.prototype);e.prototype.constructor=e;e.prototype.kind="Display";e.prototype.CONF={kind:"Display",layout:"[Button:play=][Button:waiting=][Label:error=][Panel:info=][Panel:stats=]",
ondoubleclick:"fullscreen",visibility:!0};c.register(e)})(playease);
(function(c){function e(c){h.call(this,"AD");this.display=function(a){b.innerHTML="";b.appendChild(a)};this.remove=function(){b.innerHTML=""};this.element=function(){return b};this.resize=function(a,b){};this.config=c;var b=a.createElement("div","pe-ad")}var a=c.utils,h=c.events.EventDispatcher;c=c.UI;e.prototype=Object.create(h.prototype);e.prototype.constructor=e;e.prototype.kind="AD";e.prototype.CONF={kind:"AD",visibility:!0};c.register(e)})(playease);
(function(c){function e(c){h.call(this,"Share");this.display=function(a){b.innerHTML="";b.appendChild(a)};this.element=function(){return b};this.resize=function(a,b){};this.config=c;var b=a.createElement("div","pe-share")}var a=c.utils,h=c.events.EventDispatcher;c=c.UI;e.prototype=Object.create(h.prototype);e.prototype.constructor=e;e.prototype.kind="Share";e.prototype.CONF={kind:"Share",visibility:!0};c.register(e)})(playease);
(function(c){function e(b){function c(b){a.log('Failed to load logo "'+k.src+'".')}d.call(this,"Logo");var e=this;e.element=function(){return m};e.resize=function(a,b){};e.config=b;var m=a.createElement("div","pe-logo");m.style=e.config.style;var t=a.createElement("a");var k=new Image;k.onload=function(a){h.style(m,{width:k.width+"px",height:k.height+"px"});h.style(t,{background:"url("+e.config.file+")"});t.href=e.config.link;t.target=e.config.target;m.appendChild(t)};k.onabort=c;k.onerror=c;k.src=
e.config.file}var a=c.utils,h=a.css,d=c.events.EventDispatcher;c=c.UI;e.prototype=Object.create(d.prototype);e.prototype.constructor=e;e.prototype.kind="Logo";e.prototype.CONF={kind:"Logo",file:"http://studease.cn/images/content/playease-logo.png",link:"https://github.com/studease/playease",target:"_blank",style:"margin: 3% 5%; width: 36px; height: 36px; top: 0px; right: 0px;",visibility:!0};c.register(e)})(playease);
(function(c){function e(b){function c(b){var c=b.target.element(),e=b.target.nonius(),f=c.clientWidth*b.data.value/100-e.clientWidth/2;switch(b.data.name){case "timebar":b.target.thumb(b.data.value);b.target.duration?b.target.value(a.time2string(b.target.duration*b.data.value/100)):b.target.value("--:--");break;case "volumebar":b.target.value(b.data.value|0)}b=f+c.offsetLeft;1>b&&c.offsetParent===l?d.style(e,{left:1-c.offsetLeft+"px",right:"auto"}):c.offsetParent.offsetLeft+b+e.clientWidth>l.clientWidth-
1?d.style(e,{left:"auto",right:c.offsetParent.offsetLeft+c.offsetLeft+c.clientWidth+1-l.clientWidth+"px"}):d.style(e,{left:f+"px",right:"auto"})}f.call(this,"Controlbar",null,[n.CHANGE,m.CLICK,m.MOUSE_MOVE]);var e=this;e.element=function(){return g};e.resize=function(b,c){a.forEach(e.components,function(a,e){e.resize(b,c);switch(a){case "timebar":break;default:if(void 0!==e.tooltip){a=e.element();e=e.tooltip;var f=(a.clientWidth-e.clientWidth)/2,g=f+a.offsetLeft;1>g&&a.offsetParent===l?d.style(e,
{left:1-a.offsetLeft+"px",right:"auto"}):null!==a.offsetParent&&(a.offsetParent.offsetLeft+g+e.clientWidth>l.clientWidth-1?d.style(e,{left:"auto",right:a.offsetParent.offsetLeft+a.offsetLeft+a.clientWidth+1-l.clientWidth+"px"}):d.style(e,{left:f+"px",right:"auto"}))}}})};e.config=b;e.components={};var g=a.createElement("div","pe-controlbar");var l=a.createElement("div");g.appendChild(l);(function(){var b=e.config.layout.split("|");if(4!==b.length)throw{name:"DataError",message:"Controlbar should have exactly 4 sections."};
var d=a.createElement("div","pe-left"),f=a.createElement("div","pe-center"),g=a.createElement("div","pe-right");a.forEach([l,d,f,g],function(d,f){for(var g;null!==(g=k.exec(b[d]));)a:{var l=void 0,n=void 0;var p=f;var q=g[1],v=g[2];g=g[3];switch(v){case "mute":case "unmute":case "volumebar":if(h.isMobile)break a;break;case "definition":if(!e.config.sources||2>e.config.sources.length)break a}try{n=new t[q](v,g),"function"===a.typeOf(n.addGlobalListener)&&(n.addGlobalListener(e.forward),"Slider"===
q&&n.addEventListener(m.MOUSE_MOVE,c)),l=n.element(),p.appendChild(l),e.components[v]=n}catch(fa){a.error("Failed to initialize component: type="+q+", name="+v+", Error="+fa.message);break a}switch(v){case "quote":case "time":case "volumebar":break;default:void 0!==g&&("function"===a.typeOf(t[g])?(p=new t[g],l.insertAdjacentElement("afterbegin",p.element())):(p=a.createElement("span","pe-tooltip"),p.innerHTML=g,l.insertAdjacentElement("afterbegin",p)),n.tooltip=p)}}});l.appendChild(d);l.appendChild(f);
l.appendChild(g)})();(function(){var b=e.components.definition;b&&a.forEach(e.config.sources,function(a,c){b.append(c.label);c["default"]&&b.value(a)})})()}var a=c.utils,h=c.OS,d=a.css,b=c.events,f=b.EventDispatcher,n=b.GlobalEvent,m=b.MouseEvent;c=c.UI;var t=c.components,k=/\[([a-z]+):([a-z]+)=([^\]]+)?\]/gi;e.prototype=Object.create(f.prototype);e.prototype.constructor=e;e.prototype.kind="Controlbar";e.prototype.CONF={kind:"Controlbar",layout:"[Slider:timebar=Preview]|[Button:play=Play][Button:pause=Pause][Button:reload=Reload][Button:stop=Stop][Label:quote=Live broadcast][Label:time=00:00/00:00]||[Button:report=Report][Button:mute=Mute][Button:unmute=Unmute][Slider:volumebar=80][Select:definition=Definition][Button:danmuoff=Danmu Off][Button:danmuon=Danmu On][Button:fullpage=Fullpage][Button:exitfullpage=Exit Fullpage][Button:fullscreen=Fullscreen][Button:exitfullscreen=Exit Fullscreen]",
autohide:!1,visibility:!0};c.register(e)})(playease);
(function(c){function e(e){b.call(this,"ContextMenu",null,[f.CLICK]);var d=this,n,k;d.element=function(){return n};d.resize=function(a,b){};(function(){d.config=e;d.config.items=[{id:0,mode:"featured",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAA2UExURebm5ubm5ubm5ubm5ubm5ubm5ubm5kxpcebm5ubm5ubm5ubm5ubm5ubm5ubm5ubm5ubm5ubm5rnvS8UAAAASdFJOU/9GGpAEVa0AOw0vovB5tnDaudiwhIIAAACiSURBVBjTXZHbAsQQDERDkQS97P//7GaibLfzgJxgIoiHVHIWvQPysRZylbpg2mhpSwOmgx46kkPf10KMoflewGqLLsNBugXVIDxuZhRuTGrJZmHIXhBuUEIuMC7pJ3I4R9nGyHzCY2eONmWHesMyoQyI3BXncRgZ1M+16zJCSbMRqyT4LriKt2calP9nWkMM7q+GcEo/OFvnGrDIo/Ov7/gCDPoHpWEsixcAAAAASUVORK5CYII=",text:"playease/"+
c.VERSION,shortcut:"",handler:function(){window.open("https://github.com/studease/playease")}}].concat("array"===a.typeOf(e.items)?e.items:[]);h.flash&&d.config.items.push({mode:"",icon:"",text:"Flash Version "+h.flash,shortcut:"",handler:function(){window.open("http://get.adobe.com/cn/flashplayer/about/")}});d.config.items.push({mode:"",icon:"",text:"Show Media Info",shortcut:"",handler:function(){d.dispatchEvent(f.CLICK,{name:"info"})}});d.config.items.push({mode:"",icon:"",text:"Show Media Stats",
shortcut:"",handler:function(){d.dispatchEvent(f.CLICK,{name:"stats"})}});n=a.createElement("div","pe-contextmenu");k=a.createElement("table");n.appendChild(k);for(var b=0;b<d.config.items.length;b++){var m=d.config.items[b],t=a.createElement("tr","pe-contextmenu-item"+(m.mode?" "+m.mode:""));t.onmousedown=m.handler;var p=a.createElement("td");if(m.icon){var l=a.createElement("span","pe-contextmenu-item-icon");l.innerHTML='<a style="background-image: url('+m.icon+');"></a>';p.appendChild(l)}var z=
a.createElement("td");m.text&&(l=a.createElement("span","pe-contextmenu-item-text"),l.innerHTML=m.text,z.appendChild(l));var q=a.createElement("td");m.shortcut&&(l=a.createElement("span","pe-contextmenu-item-shortcut"),l.innerHTML=m.shortcut,q.appendChild(l));t.appendChild(p);t.appendChild(z);t.appendChild(q);k.appendChild(t)}})()}var a=c.utils,h=c.Browser,d=c.events,b=d.EventDispatcher,f=d.MouseEvent;d=c.UI;e.prototype=Object.create(b.prototype);e.prototype.constructor=e;e.prototype.kind="ContextMenu";
e.prototype.CONF={kind:"ContextMenu",items:[],visibility:!0};d.register(e)})(playease);